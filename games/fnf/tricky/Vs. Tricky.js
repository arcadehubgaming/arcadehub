var $jscomp=$jscomp||{};$jscomp.scope={},$jscomp.arrayIteratorImpl=function(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}},$jscomp.arrayIterator=function(t){return{next:$jscomp.arrayIteratorImpl(t)}},$jscomp.ASSUME_ES5=!1,$jscomp.ASSUME_NO_NATIVE_MAP=!1,$jscomp.ASSUME_NO_NATIVE_SET=!1,$jscomp.SIMPLE_FROUND_POLYFILL=!1,$jscomp.ISOLATE_POLYFILLS=!1,$jscomp.FORCE_POLYFILL_PROMISE=!1,$jscomp.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION=!1,$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){return t==Array.prototype||t==Object.prototype||(t[e]=n.value),t},$jscomp.getGlobal=function(t){t=["object"==typeof globalThis&&globalThis,t,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var e=0;e<t.length;++e){var n=t[e];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")},$jscomp.global=$jscomp.getGlobal(this),$jscomp.IS_SYMBOL_NATIVE="function"==typeof Symbol&&"symbol"==typeof Symbol("x"),$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE,$jscomp.polyfills={},$jscomp.propertyToPolyfillSymbol={},$jscomp.POLYFILL_PREFIX="$jscp$";var $jscomp$lookupPolyfilledValue=function(t,e){var n=$jscomp.propertyToPolyfillSymbol[e];return null!=n&&void 0!==(n=t[n])?n:t[e]};$jscomp.polyfill=function(t,e,n,s){e&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(t,e,n,s):$jscomp.polyfillUnisolated(t,e,n,s))},$jscomp.polyfillUnisolated=function(t,e,n,s){for(n=$jscomp.global,t=t.split("."),s=0;s<t.length-1;s++){var i=t[s];if(!(i in n))return;n=n[i]}(e=e(s=n[t=t[t.length-1]]))!=s&&null!=e&&$jscomp.defineProperty(n,t,{configurable:!0,writable:!0,value:e})},$jscomp.polyfillIsolated=function(t,e,n,s){var i=t.split(".");t=1===i.length,s=i[0],s=!t&&s in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var a=0;a<i.length-1;a++){var r=i[a];if(!(r in s))return;s=s[r]}i=i[i.length-1],null!=(e=e(n=$jscomp.IS_SYMBOL_NATIVE&&"es6"===n?s[i]:null))&&(t?$jscomp.defineProperty($jscomp.polyfills,i,{configurable:!0,writable:!0,value:e}):e!==n&&(void 0===$jscomp.propertyToPolyfillSymbol[i]&&(n=1e9*Math.random()>>>0,$jscomp.propertyToPolyfillSymbol[i]=$jscomp.IS_SYMBOL_NATIVE?$jscomp.global.Symbol(i):$jscomp.POLYFILL_PREFIX+n+"$"+i),$jscomp.defineProperty(s,$jscomp.propertyToPolyfillSymbol[i],{configurable:!0,writable:!0,value:e})))},$jscomp.initSymbol=function(){},$jscomp.polyfill("Symbol",function(t){if(t)return t;function e(t,e){this.$jscomp$symbol$id_=t,$jscomp.defineProperty(this,"description",{configurable:!0,writable:!0,value:e})}e.prototype.toString=function(){return this.$jscomp$symbol$id_};var n="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",s=0,i=function(t){if(this instanceof i)throw new TypeError("Symbol is not a constructor");return new e(n+(t||"")+"_"+s++,t)};return i},"es6","es3"),$jscomp.polyfill("Symbol.iterator",function(t){if(t)return t;t=Symbol("Symbol.iterator");for(var e="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),n=0;n<e.length;n++){var s=$jscomp.global[e[n]];"function"==typeof s&&"function"!=typeof s.prototype[t]&&$jscomp.defineProperty(s.prototype,t,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}})}return t},"es6","es3"),$jscomp.iteratorPrototype=function(t){return(t={next:t})[Symbol.iterator]=function(){return this},t},$jscomp.iteratorFromArray=function(e,n){e instanceof String&&(e+="");var s=0,i=!1,t={next:function(){if(!i&&s<e.length){var t=s++;return{value:n(t,e[t]),done:!1}}return{done:i=!0,value:void 0}}};return t[Symbol.iterator]=function(){return t},t},$jscomp.polyfill("Array.prototype.keys",function(t){return t||function(){return $jscomp.iteratorFromArray(this,function(t){return t})}},"es6","es3"),$jscomp.checkStringArgs=function(t,e,n){if(null==t)throw new TypeError("The 'this' value for String.prototype."+n+" must not be null or undefined");if(e instanceof RegExp)throw new TypeError("First argument to String.prototype."+n+" must not be a regular expression");return t+""},$jscomp.polyfill("String.prototype.startsWith",function(t){return t||function(t,e){var n=$jscomp.checkStringArgs(this,t,"startsWith"),s=n.length,i=(t+="").length;e=Math.max(0,Math.min(0|e,n.length));for(var a=0;a<i&&e<s;)if(n[e++]!=t[a++])return!1;return i<=a}},"es6","es3"),$jscomp.polyfill("String.prototype.endsWith",function(t){return t||function(t,e){var n=$jscomp.checkStringArgs(this,t,"endsWith");t+="",void 0===e&&(e=n.length),e=Math.max(0,Math.min(0|e,n.length));for(var s=t.length;0<s&&0<e;)if(n[--e]!=t[--s])return!1;return s<=0}},"es6","es3"),$jscomp.polyfill("Array.prototype.fill",function(t){return t||function(t,e,n){var s=this.length||0;for(e<0&&(e=Math.max(0,s+e)),(null==n||s<n)&&(n=s),(n=Number(n))<0&&(n=Math.max(0,s+n)),e=Number(e||0);e<n;e++)this[e]=t;return this}},"es6","es3"),$jscomp.typedArrayFill=function(t){return t||Array.prototype.fill},$jscomp.polyfill("Int8Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5"),$jscomp.polyfill("Uint8Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5"),$jscomp.polyfill("Uint8ClampedArray.prototype.fill",$jscomp.typedArrayFill,"es6","es5"),$jscomp.polyfill("Int16Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5"),$jscomp.polyfill("Uint16Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5"),$jscomp.polyfill("Int32Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5"),$jscomp.polyfill("Uint32Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5"),$jscomp.polyfill("Float32Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5"),$jscomp.polyfill("Float64Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5"),$jscomp.polyfill("String.fromCodePoint",function(t){return t||function(t){for(var e="",n=0;n<arguments.length;n++){var s=Number(arguments[n]);if(s<0||1114111<s||s!==Math.floor(s))throw new RangeError("invalid_code_point "+s);s<=65535?e+=String.fromCharCode(s):(s-=65536,e+=String.fromCharCode(s>>>10&1023|55296),e+=String.fromCharCode(1023&s|56320))}return e}},"es6","es3"),$jscomp.polyfill("Array.prototype.entries",function(t){return t||function(){return $jscomp.iteratorFromArray(this,function(t,e){return[t,e]})}},"es6","es3"),$jscomp.polyfill("Array.prototype.values",function(t){return t||function(){return $jscomp.iteratorFromArray(this,function(t,e){return e})}},"es8","es3"),$jscomp.polyfill("String.prototype.repeat",function(t){return t||function(t){var e=$jscomp.checkStringArgs(this,null,"repeat");if(t<0||1342177279<t)throw new RangeError("Invalid count value");t|=0;for(var n="";t;)1&t&&(n+=e),(t>>>=1)&&(e+=e);return n}},"es6","es3"),function(Ra,Q){Ra.lime=Ra.lime||{},Ra.lime.$scripts=Ra.lime.$scripts||{},Ra.lime.$scripts["Vs. Tricky"]=function(ia,ma){!function(da,Fa){function D(t,e){for(var n in t=Object.create(t),e)t[n]=e[n];return e.toString!==Object.prototype.toString&&(t.toString=e.toString),t}function Va(t){return t instanceof Array?new Hf(t):t.iterator()}function y(t,e){return null==e?null:(null==e.__id__&&(e.__id__=Fa.$haxeUID++),null==t.hx__closures__?t.hx__closures__={}:n=t.hx__closures__[e.__id__],null==n&&(n=e.bind(t),t.hx__closures__[e.__id__]=n),n);var n}da.lime=da.lime||{};var r={},v=function(){return xa.__string_rec(this,"")},F=F||{},C,X=function(){};r["flixel.util.IFlxDestroyable"]=X,X.__name__="flixel.util.IFlxDestroyable",X.__isInterface__=!0,X.prototype={destroy:null,__class__:X};var aa=function(){this.flixelType=0,this.active=this.visible=this.alive=this.exists=!0,this.ID=aa.idEnumerator++};r["flixel.FlxBasic"]=aa,aa.__name__="flixel.FlxBasic",aa.__interfaces__=[X],aa.prototype={ID:null,active:null,visible:null,alive:null,exists:null,flixelType:null,_cameras:null,destroy:function(){this.set_exists(!1),this._cameras=null},kill:function(){this.set_alive(!1),this.set_exists(!1)},revive:function(){this.set_alive(!0),this.set_exists(!0)},update:function(t){},draw:function(){},toString:function(){var t=this.active,e=Lb._pool.get();e.label="active",e.value=t;var t=this.visible,n=Lb._pool.get();n.label="visible",n.value=t,t=this.alive;var s=Lb._pool.get();s.label="alive",s.value=t,t=this.exists;var i=Lb._pool.get();return i.label="exists",i.value=t,Gb.getDebugString([e,n,s,i])},set_visible:function(t){return this.visible=t},set_active:function(t){return this.active=t},set_exists:function(t){return this.exists=t},set_alive:function(t){return this.alive=t},get_camera:function(){return(null==this._cameras||0==this._cameras.length?cc._defaultCameras:this._cameras)[0]},set_camera:function(t){return null==this._cameras?this._cameras=[t]:this._cameras[0]=t,t},get_cameras:function(){return null==this._cameras?cc._defaultCameras:this._cameras},set_cameras:function(t){return this._cameras=t},__class__:aa,__properties__:{set_cameras:"set_cameras",get_cameras:"get_cameras",set_camera:"set_camera",get_camera:"get_camera",set_exists:"set_exists",set_alive:"set_alive",set_visible:"set_visible",set_active:"set_active"}};var ca=function(){};r["flixel.util.IFlxPooled"]=ca,ca.__name__="flixel.util.IFlxPooled",ca.__isInterface__=!0,ca.__interfaces__=[X],ca.prototype={put:null,_inPool:null,__class__:ca};var ta=function(){};r["flixel.util.IFlxPool"]=ta,ta.__name__="flixel.util.IFlxPool",ta.__isInterface__=!0,ta.prototype={preAllocate:null,clear:null,__class__:ta};var Xa=function(t){this._count=0,this._pool=[],this._class=t};r["flixel.util.FlxPool_flixel_math_FlxRect"]=Xa,Xa.__name__="flixel.util.FlxPool_flixel_math_FlxRect",Xa.__interfaces__=[ta],Xa.prototype={_pool:null,_class:null,_count:null,get:function(){return 0==this._count?Cb.createInstance(this._class,[]):this._pool[--this._count]},put:function(t){var e;null==t||(-1==(e=this._pool.indexOf(t))||e>=this._count)&&(t.destroy(),this._pool[this._count++]=t)},putUnsafe:function(t){null!=t&&(t.destroy(),this._pool[this._count++]=t)},preAllocate:function(t){for(;0<t--;)this._pool[this._count++]=Cb.createInstance(this._class,[])},clear:function(){this._count=0;var t=this._pool;return this._pool=[],t},get_length:function(){return this._count},__class__:Xa,__properties__:{get_length:"get_length"}};var sa=function(t,e,n,s){null==s&&(s=0),null==n&&(n=0),null==e&&(e=0),null==t&&(t=0),this._weak=this._inPool=!1,null==s&&(s=0),null==n&&(n=0),null==e&&(e=0),this.x=t=null==t?0:t,this.y=e,this.width=n,this.height=s};r["flixel.math.FlxRect"]=sa,sa.__name__="flixel.math.FlxRect",sa.__interfaces__=[ca],sa.__properties__={get_pool:"get_pool"},sa.get=function(t,e,n,s){null==s&&(s=0),null==n&&(n=0),null==e&&(e=0),null==t&&(t=0);var i=sa._pool.get();return null==s&&(s=0),null==n&&(n=0),null==e&&(e=0),i.x=t=null==t?0:t,i.y=e,i.width=n,i.height=s,i._inPool=!1,i},sa.weak=function(t,e,n,s){null==(s=null==s?0:s)&&(s=0),null==(n=null==n?0:n)&&(n=0),null==(e=null==e?0:e)&&(e=0),null==(t=null==t?0:t)&&(t=0);var i=sa._pool.get();return null==s&&(s=0),null==n&&(n=0),null==e&&(e=0),i.x=t=null==t?0:t,i.y=e,i.width=n,i.height=s,i._inPool=!1,i._weak=!0,i},sa.get_pool=function(){return sa._pool},sa.prototype={x:null,y:null,width:null,height:null,_weak:null,_inPool:null,put:function(){this._inPool||(this._inPool=!0,this._weak=!1,sa._pool.putUnsafe(this))},putWeak:function(){this._weak&&!this._inPool&&(this._inPool=!0,this._weak=!1,sa._pool.putUnsafe(this))},setSize:function(t,e){return this.width=t,this.height=e,this},setPosition:function(t,e){return this.x=t,this.y=e,this},set:function(t,e,n,s){return null==s&&(s=0),null==n&&(n=0),null==e&&(e=0),this.x=t=null==t?0:t,this.y=e,this.width=n,this.height=s,this},copyFrom:function(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,t._weak&&!t._inPool&&(t._inPool=!0,t._weak=!1,sa._pool.putUnsafe(t)),this},copyTo:function(t){return t.x=this.x,t.y=this.y,t.width=this.width,t.height=this.height,t._weak&&!t._inPool&&(t._inPool=!0,t._weak=!1,sa._pool.putUnsafe(t)),t},copyFromFlash:function(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this},copyToFlash:function(t){return(t=null==t?new qa:t).x=this.x,t.y=this.y,t.width=this.width,t.height=this.height,t},overlaps:function(t){var e=t.x+t.width>this.x&&t.x<this.x+this.width&&t.y+t.height>this.y&&t.y<this.y+this.height;return t._weak&&!t._inPool&&(t._inPool=!0,t._weak=!1,sa._pool.putUnsafe(t)),e},containsPoint:function(t){var e=Hb.pointInFlxRect(t.x,t.y,this);return t._weak&&t.put(),e},union:function(t){var e=Math.min(this.x,t.x),n=Math.min(this.y,t.y),s=Math.max(this.x+this.width,t.x+t.width),i=Math.max(this.y+this.height,t.y+t.height);t._weak&&!t._inPool&&(t._inPool=!0,t._weak=!1,sa._pool.putUnsafe(t));var a=n;return null==(n=i-n)&&(n=0),null==(e=s-(t=e))&&(e=0),null==a&&(a=0),this.x=t=null==t?0:t,this.y=a,this.width=e,this.height=n,this},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.width=Math.floor(this.width),this.height=Math.floor(this.height),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.width=Math.ceil(this.width),this.height=Math.ceil(this.height),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.width=Math.round(this.width),this.height=Math.round(this.height),this},fromTwoPoints:function(t,e){var n=Math.min(t.x,e.x),s=Math.min(t.y,e.y),i=Math.max(t.x,e.x),a=Math.max(t.y,e.y);return t._weak&&t.put(),e._weak&&e.put(),null==(s=a-(e=s))&&(s=0),null==(n=i-(t=n))&&(n=0),null==e&&(e=0),this.x=t=null==t?0:t,this.y=e,this.width=n,this.height=s,this},unionWithPoint:function(t){var e=Math.min(this.x,t.x),n=Math.min(this.y,t.y),s=Math.max(this.x+this.width,t.x),i=Math.max(this.y+this.height,t.y);t._weak&&t.put();var a=n;return null==(n=i-n)&&(n=0),null==(e=s-(t=e))&&(e=0),null==a&&(a=0),this.x=t=null==t?0:t,this.y=a,this.width=e,this.height=n,this},offset:function(t,e){return this.x+=t,this.y+=e,this},destroy:function(){},equals:function(t){var e=Math.abs(this.x-t.x)<=1e-7&&Math.abs(this.y-t.y)<=1e-7&&Math.abs(this.width-t.width)<=1e-7&&Math.abs(this.height-t.height)<=1e-7;return t._weak&&!t._inPool&&(t._inPool=!0,t._weak=!1,sa._pool.putUnsafe(t)),e},intersection:function(t,e){var n,s;null==e&&(null==(r=i=s=n=0)&&(r=0),null==i&&(i=0),null==s&&(s=0),(e=sa._pool.get()).x=n=null==n?0:n,e.y=s,e.width=i,e.height=r,e._inPool=!1);var i=(this.x<t.x?t:this).x,a=this.x+this.width>t.x+t.width?t.x+t.width:this.x+this.width;if(a<=i)return t._weak&&!t._inPool&&(t._inPool=!0,t._weak=!1,sa._pool.putUnsafe(t)),e;var r=(this.y<t.y?t:this).y,l=this.y+this.height>t.y+t.height?t.y+t.height:this.y+this.height;return l<=r?t._weak&&!t._inPool&&(t._inPool=!0,t._weak=!1,sa._pool.putUnsafe(t)):(t._weak&&!t._inPool&&(t._inPool=!0,t._weak=!1,sa._pool.putUnsafe(t)),null==(r=l-(s=r))&&(r=0),null==(i=a-(n=i))&&(i=0),null==s&&(s=0),e.x=n=null==n?0:n,e.y=s,e.width=i,e.height=r),e},toString:function(){var t=this.x,e=Lb._pool.get();e.label="x",e.value=t;var t=this.y,n=Lb._pool.get();n.label="y",n.value=t,t=this.width;var s=Lb._pool.get();s.label="w",s.value=t,t=this.height;var i=Lb._pool.get();return i.label="h",i.value=t,Gb.getDebugString([e,n,s,i])},get_left:function(){return this.x},set_left:function(t){return this.width-=t-this.x,this.x=t},get_right:function(){return this.x+this.width},set_right:function(t){return this.width=t-this.x,t},get_top:function(){return this.y},set_top:function(t){return this.height-=t-this.y,this.y=t},get_bottom:function(){return this.y+this.height},set_bottom:function(t){return this.height=t-this.y,t},get_isEmpty:function(){return 0==this.width||0==this.height},__class__:sa,__properties__:{get_isEmpty:"get_isEmpty",set_bottom:"set_bottom",get_bottom:"get_bottom",set_top:"set_top",get_top:"get_top",set_right:"set_right",get_right:"get_right",set_left:"set_left",get_left:"get_left"}};var Ea=function(t,e,n,s){null==s&&(s=0),null==n&&(n=0),null==e&&(e=0),null==t&&(t=0);var i=sa._pool.get();i.x=0,i.y=0,i.width=0,i.height=0,i._inPool=!1,this._rect=i,(i=ja._pool.get().set(0,0))._inPool=!1,this._point=i,this.path=null,this.collisonXDrag=!0,this.allowCollisions=4369,this.touching=this.wasTouching=0,this.health=1,this.maxAngular=1e4,this.elasticity=this.angularVelocity=this.angularAcceleration=this.angularDrag=0,this.mass=1,this.immovable=!1,this.moves=!0,this.angle=0,this.pixelPerfectPosition=!0,this.x=this.y=0,aa.call(this),this.set_x(t),this.set_y(e),this.set_width(n),this.set_height(s),this.initVars()};r["flixel.FlxObject"]=Ea,Ea.__name__="flixel.FlxObject",Ea.separate=function(t,e){var n=Ea.separateX(t,e);return t=Ea.separateY(t,e),!!n||t},Ea.updateTouchingFlags=function(t,e){var n=Ea.updateTouchingFlagsX(t,e);return t=Ea.updateTouchingFlagsY(t,e),!!n||t},Ea.computeOverlapX=function(t,e,n){null==n&&(n=!0);var s,i,a,r,l,o,h,_,u=0,c=t.x-t.last.x,d=e.x-e.last.x;return c!=d&&(s=0<c?c:-c,i=0<d?d:-d,r=Ea._firstSeparateFlxRect,l=t.x-(0<c?c:0),o=t.last.y,h=t.get_width()+s,null==(_=t.get_height())&&(_=0),null==h&&(h=0),null==o&&(o=0),r.x=l=null==l?0:l,r.y=o,r.width=h,r.height=_,a=r,r=Ea._secondSeparateFlxRect,l=e.x-(0<d?d:0),o=e.last.y,h=e.get_width()+i,null==(_=e.get_height())&&(_=0),null==h&&(h=0),null==o&&(o=0),r.x=l=null==l?0:l,r.y=o,r.width=h,r.height=_,a.x+a.width>r.x&&a.x<r.x+r.width&&a.y+a.height>r.y&&a.y<r.y+r.height&&(s=n?s+i+Ea.SEPARATE_BIAS:0,d<c?(u=t.x+t.get_width()-e.x,n&&s<u||0==(16&t.allowCollisions)||0==(1&e.allowCollisions)?u=0:(t.touching|=16,e.touching|=1)):c<d&&(u=t.x-e.get_width()-e.x,n&&s<-u||0==(1&t.allowCollisions)||0==(16&e.allowCollisions)?u=0:(t.touching|=1,e.touching|=16)))),u},Ea.separateX=function(t,e){var n=t.immovable,s=e.immovable;if(n&&s)return!1;if(3==t.flixelType)return t.overlapsWithCallback(e,Ea.separateX);if(3==e.flixelType)return e.overlapsWithCallback(t,Ea.separateX,!0);var i=Ea.computeOverlapX(t,e);if(0==i)return!1;var a=t.velocity.x,r=e.velocity.x;return n||s?n?s||((n=e).set_x(n.x+i),e.velocity.set_x(a-r*e.elasticity)):(t.set_x(t.x-i),t.velocity.set_x(r-a*t.elasticity)):(t.set_x(t.x-(i*=.5)),(n=e).set_x(n.x+i),i=Math.sqrt(r*r*e.mass/t.mass)*(0<r?1:-1),a=Math.sqrt(a*a*t.mass/e.mass)*(0<a?1:-1),a-=r=.5*(i+a),t.velocity.set_x(r+(i-r)*t.elasticity),e.velocity.set_x(r+a*e.elasticity)),!0},Ea.updateTouchingFlagsX=function(t,e){return 3==t.flixelType?t.overlapsWithCallback(e,Ea.updateTouchingFlagsX):3==e.flixelType?e.overlapsWithCallback(t,Ea.updateTouchingFlagsX,!0):0!=Ea.computeOverlapX(t,e,!1)},Ea.computeOverlapY=function(t,e,n){null==n&&(n=!0);var s,i,a,r,l,o,h,_,u=0,c=t.y-t.last.y,d=e.y-e.last.y;return c!=d&&(s=0<c?c:-c,i=0<d?d:-d,r=Ea._firstSeparateFlxRect,l=t.x,o=t.y-(0<c?c:0),h=t.get_width(),null==(_=t.get_height()+s)&&(_=0),null==h&&(h=0),null==o&&(o=0),r.x=l=null==l?0:l,r.y=o,r.width=h,r.height=_,a=r,r=Ea._secondSeparateFlxRect,l=e.x,o=e.y-(0<d?d:0),h=e.get_width(),null==(_=e.get_height()+i)&&(_=0),null==h&&(h=0),null==o&&(o=0),r.x=l=null==l?0:l,r.y=o,r.width=h,r.height=_,a.x+a.width>r.x&&a.x<r.x+r.width&&a.y+a.height>r.y&&a.y<r.y+r.height&&(s=n?s+i+Ea.SEPARATE_BIAS:0,d<c?(u=t.y+t.get_height()-e.y,n&&s<u||0==(4096&t.allowCollisions)||0==(256&e.allowCollisions)?u=0:(t.touching|=4096,e.touching|=256)):c<d&&(u=t.y-e.get_height()-e.y,n&&s<-u||0==(256&t.allowCollisions)||0==(4096&e.allowCollisions)?u=0:(t.touching|=256,e.touching|=4096)))),u},Ea.separateY=function(t,e){var n=t.immovable,s=e.immovable;if(n&&s)return!1;if(3==t.flixelType)return t.overlapsWithCallback(e,Ea.separateY);if(3==e.flixelType)return e.overlapsWithCallback(t,Ea.separateY,!0);var i=Ea.computeOverlapY(t,e);if(0==i)return!1;var a=t.y-t.last.y,r=e.y-e.last.y,l=t.velocity.y,o=e.velocity.y;return n||s?n?s||((n=e).set_y(n.y+i),e.velocity.set_y(l-o*e.elasticity),e.collisonXDrag&&t.active&&t.moves&&a<r&&(n=e).set_x(n.x+(t.x-t.last.x))):(t.set_y(t.y-i),t.velocity.set_y(o-l*t.elasticity),t.collisonXDrag&&e.active&&e.moves&&r<a&&(n=t).set_x(n.x+(e.x-e.last.x))):(t.set_y(t.y-(i*=.5)),(n=e).set_y(n.y+i),i=Math.sqrt(o*o*e.mass/t.mass)*(0<o?1:-1),l=Math.sqrt(l*l*t.mass/e.mass)*(0<l?1:-1),l-=a=.5*(i+l),t.velocity.set_y(a+(i-a)*t.elasticity),e.velocity.set_y(a+l*e.elasticity)),!0},Ea.updateTouchingFlagsY=function(t,e){return 3==t.flixelType?t.overlapsWithCallback(e,Ea.updateTouchingFlagsY):3==e.flixelType?e.overlapsWithCallback(t,Ea.updateTouchingFlagsY,!0):0!=Ea.computeOverlapY(t,e,!1)},Ea.__super__=aa,Ea.prototype=D(aa.prototype,{x:null,y:null,width:null,height:null,pixelPerfectRender:null,pixelPerfectPosition:null,angle:null,moves:null,immovable:null,scrollFactor:null,velocity:null,acceleration:null,drag:null,maxVelocity:null,last:null,mass:null,elasticity:null,angularVelocity:null,angularAcceleration:null,angularDrag:null,maxAngular:null,health:null,touching:null,wasTouching:null,allowCollisions:null,collisonXDrag:null,path:null,_point:null,_rect:null,initVars:function(){this.flixelType=1;var t=this.x,e=this.y;null==e&&(e=0),null==t&&(t=0),(t=ja._pool.get().set(t,e))._inPool=!1,this.last=t,null==(e=t=1)&&(e=0),null==t&&(t=0),(t=ja._pool.get().set(t,e))._inPool=!1,this.scrollFactor=t,this.pixelPerfectPosition=Ea.defaultPixelPerfectPosition,(t=ja._pool.get().set(0,0))._inPool=!1,this.velocity=t,(t=ja._pool.get().set(0,0))._inPool=!1,this.acceleration=t,(t=ja._pool.get().set(0,0))._inPool=!1,this.drag=t,null==(e=t=1e4)&&(e=0),null==t&&(t=0),(t=ja._pool.get().set(t,e))._inPool=!1,this.maxVelocity=t},initMotionVars:function(){var t=ja._pool.get().set(0,0);t._inPool=!1,this.velocity=t,(t=ja._pool.get().set(0,0))._inPool=!1,this.acceleration=t,(t=ja._pool.get().set(0,0))._inPool=!1,this.drag=t;var e=t=1e4;null==t&&(e=0),null==t&&(t=0),(t=ja._pool.get().set(t,e))._inPool=!1,this.maxVelocity=t},destroy:function(){aa.prototype.destroy.call(this),this.velocity=ya.put(this.velocity),this.acceleration=ya.put(this.acceleration),this.drag=ya.put(this.drag),this.maxVelocity=ya.put(this.maxVelocity),this.scrollFactor=ya.put(this.scrollFactor),this.last=ya.put(this.last),this._point=ya.put(this._point),this._rect=ya.put(this._rect)},update:function(t){this.last.set(this.x,this.y),null!=this.path&&this.path.active&&this.path.update(t),this.moves&&this.updateMotion(t),this.wasTouching=this.touching,this.touching=0},updateMotion:function(t){var e=.5*(Of.computeVelocity(this.angularVelocity,this.angularAcceleration,this.angularDrag,this.maxAngular,t)-this.angularVelocity);this.angularVelocity+=e;var n=this;n.set_angle(n.angle+this.angularVelocity*t),this.angularVelocity+=e,e=.5*(Of.computeVelocity(this.velocity.x,this.acceleration.x,this.drag.x,this.maxVelocity.x,t)-this.velocity.x),(n=this.velocity).set_x(n.x+e);var s=this.velocity.x*t;(n=this.velocity).set_x(n.x+e),(n=this).set_x(n.x+s),e=.5*(Of.computeVelocity(this.velocity.y,this.acceleration.y,this.drag.y,this.maxVelocity.y,t)-this.velocity.y),(n=this.velocity).set_y(n.y+e),s=this.velocity.y*t,(n=this.velocity).set_y(n.y+e),(n=this).set_y(n.y+s)},draw:function(){},overlaps:function(t,e,s){null==e&&(e=!1);var i=Aa.resolveGroup(t);return null!=i?Aa.overlaps(y(this,this.overlapsCallback),i,0,0,e,s):3==t.flixelType?t.overlaps(this,e,s):e?(null==s&&(s=n.camera),e=t.getScreenPosition(null,s),this.getScreenPosition(this._point,s),e.x+t.get_width()>this._point.x&&e.x<this._point.x+this.get_width()&&e.y+t.get_height()>this._point.y&&e.y<this._point.y+this.get_height()):t.x+t.get_width()>this.x&&t.x<this.x+this.get_width()&&t.y+t.get_height()>this.y&&t.y<this.y+this.get_height()},overlapsCallback:function(t,e,n,s,i){return this.overlaps(t,s,i)},overlapsAt:function(t,e,s,i,a){null==i&&(i=!1);var r=Aa.resolveGroup(s);return null!=r?Aa.overlaps(y(this,this.overlapsAtCallback),r,t,e,i,a):3==s.flixelType?s.overlapsAt(s.x-(t-this.x),s.y-(e-this.y),this,i,a):i?(null==a&&(a=n.camera),t=s.getScreenPosition(null,a),this.getScreenPosition(this._point,a),t.x+s.get_width()>this._point.x&&t.x<this._point.x+this.get_width()&&t.y+s.get_height()>this._point.y&&t.y<this._point.y+this.get_height()):s.x+s.get_width()>t&&s.x<t+this.get_width()&&s.y+s.get_height()>e&&s.y<e+this.get_height()},overlapsAtCallback:function(t,e,n,s,i){return this.overlapsAt(e,n,t,s,i)},overlapsPoint:function(t,e,s){if(!(e=null==e?!1:e))return t.x>=this.x&&t.x<this.x+this.get_width()&&t.y>=this.y&&t.y<this.y+this.get_height();null==s&&(s=n.camera),e=t.x-s.scroll.x;var i=t.y-s.scroll.y;return this.getScreenPosition(this._point,s),t._weak&&t.put(),e>=this._point.x&&e<this._point.x+this.get_width()&&i>=this._point.y&&i<this._point.y+this.get_height()},inWorldBounds:function(){var t;return!!((t=this.x+this.get_width()>n.worldBounds.x&&(t=n.worldBounds,this.x<t.x+t.width))&&this.y+this.get_height()>n.worldBounds.y)&&(t=n.worldBounds,this.y<t.y+t.height)},getScreenPosition:function(t,e){null==t&&((t=ja._pool.get().set(0,0))._inPool=!1),null==e&&(e=n.camera),t.set(this.x,this.y),this.pixelPerfectPosition&&(t.set_x(Math.floor(t.x)),t.set_y(Math.floor(t.y)));var s=e.scroll.x*this.scrollFactor.x;null==(e=e.scroll.y*this.scrollFactor.y)&&(e=0);var i=t;return i.set_x(i.x-(s=null==s?0:s)),(i=t).set_y(i.y-e),t},getPosition:function(t){return null==t&&((t=ja._pool.get().set(0,0))._inPool=!1),t.set(this.x,this.y)},getMidpoint:function(t){return null==t&&((t=ja._pool.get().set(0,0))._inPool=!1),t.set(this.x+.5*this.get_width(),this.y+.5*this.get_height())},getHitbox:function(t){var e,n,s,i;return null==t&&(null==(i=s=n=e=0)&&(i=0),null==s&&(s=0),null==n&&(n=0),(t=sa._pool.get()).x=e=null==e?0:e,t.y=n,t.width=s,t.height=i,t._inPool=!1),e=this.x,n=this.y,s=this.get_width(),null==(i=this.get_height())&&(i=0),null==s&&(s=0),null==n&&(n=0),t.x=e=null==e?0:e,t.y=n,t.width=s,t.height=i,t},reset:function(t,e){this.wasTouching=this.touching=0,this.setPosition(t,e),this.last.set(this.x,this.y),this.velocity.set(),this.revive()},isOnScreen:function(t){null==t&&(t=n.camera),this.getScreenPosition(this._point,t);var e=this._point,s=this.get_width(),i=this.get_height();return null==i&&(i=0),e.x+(s=null==s?0:s)>t.viewOffsetX&&e.x<t.viewOffsetWidth&&e.y+i>t.viewOffsetY&&e.y<t.viewOffsetHeight},isPixelPerfectRender:function(t){return null==t&&(t=n.camera),(null==this.pixelPerfectRender?t:this).pixelPerfectRender},isTouching:function(t){return 0<(this.touching&t)},justTouched:function(t){return 0<(this.touching&t)&&(this.wasTouching&t)<=0},hurt:function(t){this.health-=t,this.health<=0&&this.kill()},screenCenter:function(t){return(t=null==t?af.XY:t)!=af.Y&&this.set_x(n.width/2-this.get_width()/2),t!=af.X&&this.set_y(n.height/2-this.get_height()/2),this},setPosition:function(t,e){null==e&&(e=0),this.set_x(t=null==t?0:t),this.set_y(e)},setSize:function(t,e){this.set_width(t),this.set_height(e)},getBoundingBox:function(t){this.getScreenPosition(this._point,t);var e=this._rect,n=this._point.x,s=this._point.y,i=this.get_width(),a=this.get_height();return null==a&&(a=0),null==i&&(i=0),null==s&&(s=0),e.x=n=null==n?0:n,e.y=s,e.width=i,e.height=a,this._rect=t.transformRect(this._rect),this.isPixelPerfectRender(t)&&((e=this._rect).x=Math.floor(e.x),e.y=Math.floor(e.y),e.width=Math.floor(e.width),e.height=Math.floor(e.height)),this._rect},toString:function(){var t=this.x,e=Lb._pool.get();e.label="x",e.value=t;var t=this.y,n=Lb._pool.get();n.label="y",n.value=t,t=this.get_width();var s=Lb._pool.get();s.label="w",s.value=t,t=this.get_height();var i=Lb._pool.get();i.label="h",i.value=t,t=this.visible;var a=Lb._pool.get();a.label="visible",a.value=t,t=this.velocity;var r=Lb._pool.get();return r.label="velocity",r.value=t,Gb.getDebugString([e,n,s,i,a,r])},set_x:function(t){return this.x=t},set_y:function(t){return this.y=t},set_width:function(t){return this.width=t},set_height:function(t){return this.height=t},get_width:function(){return this.width},get_height:function(){return this.height},get_solid:function(){return 0<(4369&this.allowCollisions)},set_solid:function(t){return this.set_allowCollisions(t?4369:0),t},set_angle:function(t){return this.angle=t},set_moves:function(t){return this.moves=t},set_immovable:function(t){return this.immovable=t},set_pixelPerfectRender:function(t){return this.pixelPerfectRender=t},set_allowCollisions:function(t){return this.allowCollisions=t},set_path:function(t){return this.path==t?t:(null!=this.path&&(this.path.object=null),null!=t&&(t.object=this),this.path=t)},__class__:Ea,__properties__:D(aa.prototype.__properties__,{set_path:"set_path",set_allowCollisions:"set_allowCollisions",set_solid:"set_solid",get_solid:"get_solid",set_immovable:"set_immovable",set_moves:"set_moves",set_angle:"set_angle",set_pixelPerfectRender:"set_pixelPerfectRender",set_height:"set_height",get_height:"get_height",set_width:"set_width",get_width:"get_width",set_y:"set_y",set_x:"set_x"})});var M=function(t,e,s){null==e&&(e=0),null==t&&(t=0),this._facingFlip=new cd,this._angleChanged=!0,this._cosAngle=1,this._sinAngle=0,this._facingHorizontalMult=this._facingVerticalMult=1,this.useColorTransform=!1,this.color=16777215,this.flipX=this.flipY=!1,this.facing=16,this.alpha=1,this.frameWidth=this.frameHeight=this.numFrames=this.bakedRotationAngle=0,this.dirty=!0,this.antialiasing=!1,this.useFramePixels=!0,Ea.call(this,t,e),this.set_useFramePixels(n.renderBlit),null!=s&&this.loadGraphic(s)};r["flixel.FlxSprite"]=M,M.__name__="flixel.FlxSprite",M.__super__=Ea,M.prototype=D(Ea.prototype,{animation:null,framePixels:null,useFramePixels:null,antialiasing:null,dirty:null,frame:null,frameWidth:null,frameHeight:null,numFrames:null,frames:null,graphic:null,bakedRotationAngle:null,alpha:null,facing:null,flipX:null,flipY:null,origin:null,offset:null,scale:null,blend:null,color:null,colorTransform:null,useColorTransform:null,clipRect:null,shader:null,_frame:null,_frameGraphic:null,_facingHorizontalMult:null,_facingVerticalMult:null,_flashPoint:null,_flashRect:null,_flashRect2:null,_flashPointZero:null,_matrix:null,_halfSize:null,_sinAngle:null,_cosAngle:null,_angleChanged:null,_facingFlip:null,initVars:function(){Ea.prototype.initVars.call(this),this.animation=new Km(this),this._flashPoint=new tb,this._flashRect=new qa,this._flashRect2=new qa,this._flashPointZero=new tb;var t=ja._pool.get().set(0,0);t._inPool=!1,this.offset=t,(t=ja._pool.get().set(0,0))._inPool=!1,this.origin=t;var e=t=1;null==t&&(e=0),null==t&&(t=0),(t=ja._pool.get().set(t,e))._inPool=!1,this.scale=t,(t=ja._pool.get().set(0,0))._inPool=!1,this._halfSize=t,this._matrix=new Mh,this.colorTransform=new Ic},destroy:function(){Ea.prototype.destroy.call(this),this.animation=ya.destroy(this.animation),this.offset=ya.put(this.offset),this.origin=ya.put(this.origin),this.scale=ya.put(this.scale),this._halfSize=ya.put(this._halfSize),this.framePixels=ya.dispose(this.framePixels),this.colorTransform=this._matrix=this._flashPointZero=this._flashRect2=this._flashRect=this._flashPoint=null,this.set_blend(null),this.set_frames(null),this.set_graphic(null),this._frame=ya.destroy(this._frame),this._frameGraphic=ya.destroy(this._frameGraphic),this.shader=null},clone:function(){return(new M).loadGraphicFromSprite(this)},loadGraphicFromSprite:function(t){return this.set_frames(t.frames),this.bakedRotationAngle=t.bakedRotationAngle,0<this.bakedRotationAngle&&(this.set_width(t.get_width()),this.set_height(t.get_height()),this.centerOffsets()),this.set_antialiasing(t.antialiasing),this.animation.copyFrom(t.animation),this.graphicLoaded(),this.set_clipRect(t.clipRect),this},loadGraphic:function(t,e,s,i,a,r){return null==i&&(i=0),null==s&&(s=0),null==e&&(e=!1),null==(t=n.bitmap.add(t,a=null==a?!1:a,r))||(0!=s||(s=e?t.height:t.width)>t.width&&(s=t.width),0!=i||(i=e?s:t.height)>t.height&&(i=t.height),e?(null==i&&(i=0),null==(e=s)&&(e=0),(i=ja._pool.get().set(e,i))._inPool=!1,this.set_frames(od.fromGraphic(t,i))):this.set_frames(t.get_imageFrame())),this},loadRotatedGraphic:function(t,e,s,i,a,r){return null==a&&(a=!1),null==i&&(i=!1),null==s&&(s=-1),null==e&&(e=16),null==(r=n.bitmap.add(t,!1,r))||(t=r.bitmap,r=r.key,0<=s&&(l=t.height,(o=t.width/l|0)<=s&&(s%=o),r+=":"+s,o=t,t=new ba(l,l,!0,0),this._flashRect.setTo(s*l,0,l,l),t.copyPixels(o,this._flashRect,this._flashPointZero)),null==(s=n.bitmap._cache.h[r+=":"+e+":"+(null==a?"null":""+a)])&&(i=pe.generateRotations(t,e,i,a),s=Jc.fromBitmapData(i,!1,r)),r=t.height>t.width?t.height:t.width,null==(i=r=a?1.5*r|0:r)&&(r=0),null==i&&(i=0),(i=ja._pool.get().set(i,r))._inPool=!1,this.set_frames(od.fromGraphic(s,i)),a&&(this.set_width(t.width),this.set_height(t.height),this.centerOffsets()),this.bakedRotationAngle=360/e,this.animation.createPrerotated()),this;var l,o},loadRotatedFrame:function(t,e,s,i){null==i&&(i=!1),null==s&&(s=!1),null==e&&(e=16);var a,r,l,o,h,_=t.parent.key;return null!=t.name?_+=":"+t.name:(l=(a=t.frame).x,(r=Lb._pool.get()).label="x",r.value=l,l=a.y,(o=Lb._pool.get()).label="y",o.value=l,l=a.width,(h=Lb._pool.get()).label="w",h.value=l,l=a.height,(a=Lb._pool.get()).label="h",a.value=l,_+=":"+Gb.getDebugString([r,o,h,a])),null==(a=n.bitmap._cache.h[_])&&(a=Jc.fromBitmapData(t.paint(),!1,_)),this.loadRotatedGraphic(a,e,-1,s,i)},makeGraphic:function(t,e,s,i,a){return t=n.bitmap.create(t,e,s=null==s?-1:s,i=null==i?!1:i,a),this.set_frames(t.get_imageFrame()),this},graphicLoaded:function(){},resetSize:function(){this._flashRect.x=0,this._flashRect.y=0,this._flashRect.width=this.frameWidth,this._flashRect.height=this.frameHeight},resetFrameSize:function(){null!=this.frame&&(this.frameWidth=0|this.frame.sourceSize.x,this.frameHeight=0|this.frame.sourceSize.y),this._halfSize.set(.5*this.frameWidth,.5*this.frameHeight),this._flashRect.x=0,this._flashRect.y=0,this._flashRect.width=this.frameWidth,this._flashRect.height=this.frameHeight},resetSizeFromFrame:function(){this.set_width(this.frameWidth),this.set_height(this.frameHeight)},resetFrame:function(){this.set_frame(this.frame)},setGraphicSize:function(t,e){var n,s;null==e&&(e=0),(t=null==t?0:t)<=0&&e<=0||(n=t/this.frameWidth,s=e/this.frameHeight,this.scale.set(n,s),t<=0?this.scale.set_x(s):e<=0&&this.scale.set_y(n))},updateHitbox:function(){this.set_width(Math.abs(this.scale.x)*this.frameWidth),this.set_height(Math.abs(this.scale.y)*this.frameHeight),this.offset.set(-.5*(this.get_width()-this.frameWidth),-.5*(this.get_height()-this.frameHeight)),this.origin.set(.5*this.frameWidth,.5*this.frameHeight)},resetHelpers:function(){null!=this.frame&&(this.frameWidth=0|this.frame.sourceSize.x,this.frameHeight=0|this.frame.sourceSize.y),this._halfSize.set(.5*this.frameWidth,.5*this.frameHeight),this._flashRect.x=0,this._flashRect.y=0,this._flashRect.width=this.frameWidth,this._flashRect.height=this.frameHeight,this.set_width(this.frameWidth),this.set_height(this.frameHeight),this._flashRect2.x=0,this._flashRect2.y=0,null!=this.graphic&&(this._flashRect2.width=this.graphic.width,this._flashRect2.height=this.graphic.height),this.origin.set(.5*this.frameWidth,.5*this.frameHeight),n.renderBlit&&(this.dirty=!0,this.updateFramePixels())},update:function(t){Ea.prototype.update.call(this,t),this.updateAnimation(t)},updateAnimation:function(t){this.animation.update(t)},checkEmptyFrame:function(){null==this._frame&&this.loadGraphic("flixel/images/logo/default.png")},draw:function(){if(this.checkEmptyFrame(),0!=this.alpha&&2!=this._frame.type){this.dirty&&this.calcFrame(this.useFramePixels);for(var t=0,e=this.get_cameras();t<e.length;){var n=e[t];++t,n.visible&&n.exists&&this.isOnScreen(n)&&(this.getScreenPosition(this._point,n).subtractPoint(this.offset),this.isSimpleRender(n)?this.drawSimple(n):this.drawComplex(n))}}},drawSimple:function(t){this.isPixelPerfectRender(t)&&((e=this._point).set_x(Math.floor(e.x)),e.set_y(Math.floor(e.y)));var e=this._point,n=this._flashPoint;(n=null==n?new tb:n).x=e.x,n.y=e.y,t.copyPixels(this._frame,this.framePixels,this._flashRect,this._flashPoint,this.colorTransform,this.blend,this.antialiasing)},drawComplex:function(t){var e,n,s=this.flipX!=this._frame.flipX,i=this.flipY!=this._frame.flipY;this._frame.prepareMatrix(this._matrix,0,null!=this.animation._curAnim?s!=this.animation._curAnim.flipX:s,null!=this.animation._curAnim?i!=this.animation._curAnim.flipY:i),this._matrix.translate(-this.origin.x,-this.origin.y),this._matrix.scale(this.scale.x,this.scale.y),this.bakedRotationAngle<=0&&(this._angleChanged&&(s=Math.PI/180*this.angle,this._sinAngle=Math.sin(s),this._cosAngle=Math.cos(s),this._angleChanged=!1),0!=this.angle)&&(s=this._matrix,i=this._cosAngle,e=this._sinAngle,n=s.a*i-s.b*e,s.b=s.a*e+s.b*i,s.a=n,n=s.c*i-s.d*e,s.d=s.c*e+s.d*i,s.c=n,n=s.tx*i-s.ty*e,s.ty=s.tx*e+s.ty*i,s.tx=n),s=this._point,i=this.origin.x,null==(e=this.origin.y)&&(e=0),(n=s).set_x(n.x+(i=null==i?0:i)),(n=s).set_y(n.y+e),this._matrix.translate(this._point.x,this._point.y),this.isPixelPerfectRender(t)&&(this._matrix.tx=Math.floor(this._matrix.tx),this._matrix.ty=Math.floor(this._matrix.ty)),t.drawPixels(this._frame,this.framePixels,this._matrix,this.colorTransform,this.blend,this.antialiasing,this.shader)},stamp:function(t,e,s){if(null==s&&(s=0),null==e&&(e=0),t.drawFrame(),null==this.graphic||null==t.graphic)throw G.thrown("Cannot stamp to or from a FlxSprite with no graphics.");var i=t.framePixels;this.isSimpleRenderBlit()?(this._flashPoint.x=e+this.frame.frame.x,this._flashPoint.y=s+this.frame.frame.y,this._flashRect2.width=i.width,this._flashRect2.height=i.height,this.graphic.bitmap.copyPixels(i,this._flashRect2,this._flashPoint,null,null,!0),this._flashRect2.width=this.graphic.bitmap.width,this._flashRect2.height=this.graphic.bitmap.height):(this._matrix.identity(),this._matrix.translate(-t.origin.x,-t.origin.y),this._matrix.scale(t.scale.x,t.scale.y),0!=t.angle&&this._matrix.rotate(Math.PI/180*t.angle),this._matrix.translate(e+this.frame.frame.x+t.origin.x,s+this.frame.frame.y+t.origin.y),this.graphic.bitmap.draw(i,this._matrix,null,t.blend,null,t.antialiasing)),n.renderBlit&&(this.dirty=!0,this.calcFrame())},drawFrame:function(t){null==t&&(t=!1),n.renderBlit?(t||this.dirty)&&(this.dirty=!0,this.calcFrame()):(this.dirty=!0,this.calcFrame(!0))},centerOffsets:function(t){null==t&&(t=!1),this.offset.set_x(.5*(this.frameWidth-this.get_width())),this.offset.set_y(.5*(this.frameHeight-this.get_height())),t&&((t=this).set_x(t.x+this.offset.x),(t=this).set_y(t.y+this.offset.y))},centerOrigin:function(){this.origin.set(.5*this.frameWidth,.5*this.frameHeight)},replaceColor:function(t,e,n){return null!=(t=pe.replaceColor(this.graphic.bitmap,t,e,n=null==n?!1:n))&&(this.dirty=!0),t},setColorTransform:function(t,e,n,s,i,a,r,l){null==l&&(l=0),null==r&&(r=0),null==a&&(a=0),null==i&&(i=0),null==s&&(s=1),null==n&&(n=1),null==e&&(e=1),null==t&&(t=1);var o=qb._new(),h=1;null==h&&(h=1);var _=Math.round(255*t);o=-256&(o=-65281&(o=-16711681&o|(255<_?255:_<0?0:_)<<16)|(255<(_=Math.round(255*e))?255:_<0?0:_)<<8)|(255<(_=Math.round(255*n))?255:_<0?0:_),_=Math.round(255*h),this.set_color(16777215&(16777215&o|(255<_?255:_<0?0:_)<<24)),this.set_alpha(s),gf.setMultipliers(this.colorTransform,t,e,n,s),gf.setOffsets(this.colorTransform,i,a,r,l),this.useColorTransform=1!=this.alpha||16777215!=this.color||gf.hasRGBOffsets(this.colorTransform),this.dirty=!0},updateColorTransform:function(){null==this.colorTransform&&(this.colorTransform=new Ic),(this.useColorTransform=1!=this.alpha||16777215!=this.color)?gf.setMultipliers(this.colorTransform,(this.color>>16&255)/255,(this.color>>8&255)/255,(255&this.color)/255,this.alpha):gf.setMultipliers(this.colorTransform,1,1,1,1),this.dirty=!0},pixelsOverlapPoint:function(t,e,s){return null==e&&(e=255),null==s&&(s=n.camera),this.getScreenPosition(this._point,s),this._point.subtractPoint(this.offset),this._flashPoint.x=t.x-s.scroll.x-this._point.x,this._flashPoint.y=t.y-s.scroll.y-this._point.y,t._weak&&t.put(),!(this._flashPoint.x<0||this._flashPoint.x>this.frameWidth||this._flashPoint.y<0||this._flashPoint.y>this.frameHeight)&&(this.updateFramePixels().getPixel32(0|this._flashPoint.x,0|this._flashPoint.y)>>24&255)*this.alpha>=e},calcFrame:function(t){null==t&&(t=!1),this.checkEmptyFrame(),n.renderTile&&!t||this.updateFramePixels()},updateFramePixels:function(){if(null==this._frame||!this.dirty)return this.framePixels;if(n.renderTile&&null!=this._frameGraphic)return this.dirty=!1,this.framePixels;var t=this.flipX!=this._frame.flipX,t=null!=this.animation._curAnim?t!=this.animation._curAnim.flipX:t,e=this.flipY!=this._frame.flipY,e=null!=this.animation._curAnim?e!=this.animation._curAnim.flipY:e;return this.framePixels=t||e||0!=this._frame.type?this._frame.paintRotatedAndFlipped(this.framePixels,this._flashPointZero,0,t,e,!1,!0):this._frame.paint(this.framePixels,this._flashPointZero,!1,!0),this.useColorTransform&&this.framePixels.colorTransform(this._flashRect,this.colorTransform),n.renderTile&&this.useFramePixels&&(this._frameGraphic=ya.destroy(this._frameGraphic),this._frameGraphic=Jc.fromBitmapData(this.framePixels,!1,null,!1),this._frame=this._frameGraphic.get_imageFrame().get_frame().copyTo(this._frame)),this.dirty=!1,this.framePixels},getGraphicMidpoint:function(t){return null==t&&((t=ja._pool.get().set(0,0))._inPool=!1),t.set(this.x+.5*this.frameWidth,this.y+.5*this.frameHeight)},isOnScreen:function(t){null==t&&(t=n.camera);var e=this.x-this.offset.x-t.scroll.x*this.scrollFactor.x,s=this.y-this.offset.y-t.scroll.y*this.scrollFactor.y;if((0==this.angle||0<this.bakedRotationAngle)&&1==this.scale.x&&1==this.scale.y){this._point.set(e,s);var e=this._point,s=this.frameWidth,i=this.frameHeight;return null==i&&(i=0),e.x+(s=null==s?0:s)>t.viewOffsetX&&e.x<t.viewOffsetWidth&&e.y+i>t.viewOffsetY&&e.y<t.viewOffsetHeight}var a=this._halfSize.x,r=this._halfSize.y;(i=this.origin.x)!=a&&(a=Math.max(Math.abs(this.frameWidth-i),Math.abs(i)));var l=this.origin.y;return l!=r&&(r=Math.max(Math.abs(this.frameHeight-l),Math.abs(l))),a*=Math.abs(this.scale.x),r*=Math.abs(this.scale.y),r=Math.max(a,r),a=2*(r*=1.41421356237),this._point.set(e+(i-r),s+(l-r)),null==(i=s=a)&&(i=0),(e=this._point).x+(s=null==s?0:s)>t.viewOffsetX&&e.x<t.viewOffsetWidth&&e.y+i>t.viewOffsetY&&e.y<t.viewOffsetHeight},isSimpleRender:function(t){return!n.renderTile&&this.isSimpleRenderBlit(t)},isSimpleRenderBlit:function(t){var e=(0==this.angle||0<this.bakedRotationAngle)&&1==this.scale.x&&1==this.scale.y&&null==this.blend;return e&&(null!=t?this.isPixelPerfectRender(t):this.pixelPerfectRender)},setFacingFlip:function(t,e,n){this._facingFlip.h[t]={x:e,y:n}},setFrames:function(t,e){var n,s,i,a;return(e=null==e?!0:e)?(e=this.animation._animations,n=!1,s=0,i=this.animation.frameIndex,(a=null)!=this.animation._curAnim&&(n=this.animation._curAnim.reversed,s=this.animation._curAnim.curFrame,a=this.animation._curAnim.name),this.animation._animations=null,this.set_frames(t),this.set_frame(this.frames.frames[i]),this.animation._animations=e,null!=a&&this.animation.play(a,!1,n,s)):this.set_frames(t),this},get_pixels:function(){return null==this.graphic?null:this.graphic.bitmap},set_pixels:function(t){var e=n.bitmap.findKeyForBitmap(t);return null==e?(e=n.bitmap.getUniqueKey(),this.set_graphic(n.bitmap.add(t,!1,e))):this.set_graphic(n.bitmap._cache.h[e]),this.set_frames(this.graphic.get_imageFrame()),t},set_frame:function(t){if(this.frame=t,null!=this.frame)null!=this.frame&&(this.frameWidth=0|this.frame.sourceSize.x,this.frameHeight=0|this.frame.sourceSize.y),this._halfSize.set(.5*this.frameWidth,.5*this.frameHeight),this._flashRect.x=0,this._flashRect.y=0,this._flashRect.width=this.frameWidth,this._flashRect.height=this.frameHeight,this.dirty=!0;else{if(!(null!=this.frames&&null!=this.frames.frames&&0<this.numFrames))return null;this.frame=this.frames.frames[0],this.dirty=!0}return n.renderTile&&(this._frameGraphic=ya.destroy(this._frameGraphic)),this._frame=null!=this.clipRect?this.frame.clipTo(this.clipRect,this._frame):this.frame.copyTo(this._frame),this.frame},set_facing:function(t){var e=this._facingFlip.h[t];return null!=e&&(this.set_flipX(e.x),this.set_flipY(e.y)),this.facing=t},set_alpha:function(t){return this.alpha==t?t:(this.alpha=1<(t=t<0?0:t)?1:t,this.updateColorTransform(),this.alpha)},set_color:function(t){return this.color==t?t:(this.color=t,this.updateColorTransform(),this.color)},set_angle:function(t){var e=this.angle!=t;return t=Ea.prototype.set_angle.call(this,t),e&&(this._angleChanged=!0,this.animation.update(0)),t},updateTrig:function(){var t;this._angleChanged&&(t=Math.PI/180*this.angle,this._sinAngle=Math.sin(t),this._cosAngle=Math.cos(t),this._angleChanged=!1)},set_blend:function(t){return this.blend=t},set_graphic:function(t){var e,n=this.graphic;return this.graphic!=t&&null!=t&&(e=t).set_useCount(e.get_useCount()+1),null!=n&&n!=t&&(e=n).set_useCount(e.get_useCount()-1),this.graphic=t},set_clipRect:function(t){return null!=t?(t.x=Math.round(t.x),t.y=Math.round(t.y),t.width=Math.round(t.width),t.height=Math.round(t.height),this.clipRect=t):this.clipRect=null,null!=this.frames&&this.set_frame(this.frames.frames[this.animation.frameIndex]),t},set_frames:function(t){return null!=this.animation&&this.animation.destroyAnimations(),null!=t?(this.set_graphic(t.parent),this.frames=t,this.set_frame(this.frames.frames[0]),this.numFrames=this.frames.frames.length,this.resetHelpers(),this.bakedRotationAngle=0,this.animation.set_frameIndex(0),this.graphicLoaded()):(this.frames=null,this.set_frame(null),this.set_graphic(null)),t},set_flipX:function(t){return n.renderTile&&(this._facingHorizontalMult=t?-1:1),this.dirty=this.flipX!=t||this.dirty,this.flipX=t},set_flipY:function(t){return n.renderTile&&(this._facingVerticalMult=t?-1:1),this.dirty=this.flipY!=t||this.dirty,this.flipY=t},set_antialiasing:function(t){return this.antialiasing=t},set_useFramePixels:function(t){return n.renderTile?(t!=this.useFramePixels&&(this.useFramePixels=t,this.set_frame(this.frame),t&&this.updateFramePixels()),t):this.useFramePixels=!0},checkFlipX:function(){var t=this.flipX!=this._frame.flipX;return null!=this.animation._curAnim?t!=this.animation._curAnim.flipX:t},checkFlipY:function(){var t=this.flipY!=this._frame.flipY;return null!=this.animation._curAnim?t!=this.animation._curAnim.flipY:t},__class__:M,__properties__:D(Ea.prototype.__properties__,{set_clipRect:"set_clipRect",set_color:"set_color",set_blend:"set_blend",set_flipY:"set_flipY",set_flipX:"set_flipX",set_facing:"set_facing",set_alpha:"set_alpha",set_graphic:"set_graphic",set_frames:"set_frames",set_frame:"set_frame",set_pixels:"set_pixels",get_pixels:"get_pixels",set_antialiasing:"set_antialiasing",set_useFramePixels:"set_useFramePixels"})});var jb=function(t,e,n){null==n&&(n=0),null==e&&(e=0),null==t&&(t=0),this.directAlpha=this._skipTransformChildren=!1,M.call(this,t,e),this.group=new Aa(n),this._sprites=this.group.members};r["flixel.group.FlxTypedSpriteGroup"]=jb,jb.__name__="flixel.group.FlxTypedSpriteGroup",jb.__super__=M,jb.prototype=D(M.prototype,{transformChildren_flixel_math_FlxRect:function(t,e){if(null!=this.group)for(var n=0,s=this._sprites;n<s.length;){var i=s[n];++n,null!=i&&t(i,e)}},transformChildren_flash_display_BlendMode:function(t,e){if(null!=this.group)for(var n=0,s=this._sprites;n<s.length;){var i=s[n];++n,null!=i&&t(i,e)}},transformChildren_flixel_FlxCamera:function(t,e){if(null!=this.group)for(var n=0,s=this._sprites;n<s.length;){var i=s[n];++n,null!=i&&t(i,e)}},multiTransformChildren_Float:function(t,e){if(null!=this.group){var n=t.length;if(!(n>e.length))for(var s=0,i=this._sprites;s<i.length;){var a=i[s];if(++s,null!=a&&a.exists)for(var r=0,l=n;r<l;){var o=r++;(0,t[o])(a,e[o])}}}},transformChildren_flixel_math_FlxPoint:function(t,e){if(null!=this.group)for(var n=0,s=this._sprites;n<s.length;){var i=s[n];++n,null!=i&&t(i,e)}},transformChildren_Int:function(t,e){if(null!=this.group)for(var n=0,s=this._sprites;n<s.length;){var i=s[n];++n,null!=i&&t(i,e)}},transformChildren_Float:function(t,e){if(null!=this.group)for(var n=0,s=this._sprites;n<s.length;){var i=s[n];++n,null!=i&&t(i,e)}},transformChildren_Array_flixel_FlxCamera:function(t,e){if(null!=this.group)for(var n=0,s=this._sprites;n<s.length;){var i=s[n];++n,null!=i&&t(i,e)}},transformChildren_Bool:function(t,e){if(null!=this.group)for(var n=0,s=this._sprites;n<s.length;){var i=s[n];++n,null!=i&&t(i,e)}},group:null,directAlpha:null,_skipTransformChildren:null,_sprites:null,initVars:function(){this.flixelType=4,this.offset=new dj(y(this,this.offsetCallback)),this.origin=new dj(y(this,this.originCallback)),this.scale=new dj(y(this,this.scaleCallback)),this.scrollFactor=new dj(y(this,this.scrollFactorCallback)),this.scale.set(1,1),this.scrollFactor.set(1,1);var t=ja._pool.get().set(0,0);t._inPool=!1,this.velocity=t,(t=ja._pool.get().set(0,0))._inPool=!1,this.acceleration=t,(t=ja._pool.get().set(0,0))._inPool=!1,this.drag=t;var e=t=1e4;null==t&&(e=0),null==t&&(t=0),(t=ja._pool.get().set(t,e))._inPool=!1,this.maxVelocity=t},destroy:function(){this.offset=ya.destroy(this.offset),this.origin=ya.destroy(this.origin),this.scale=ya.destroy(this.scale),this.scrollFactor=ya.destroy(this.scrollFactor),this.group=ya.destroy(this.group),this._sprites=null,M.prototype.destroy.call(this)},clone:function(){for(var t=new jb(this.x,this.y,this.group.maxSize),e=0,n=this.group.members;e<n.length;){var s=n[e];++e,null!=s&&t.add(s.clone())}return t},isOnScreen:function(t){for(var e=0,n=this._sprites;e<n.length;){var s=n[e];if(++e,null!=s&&s.exists&&s.visible&&s.isOnScreen(t))return!0}return!1},overlapsPoint:function(t,e,n){null==e&&(e=!1);for(var s=!1,i=0,a=this._sprites;i<a.length;){var r=a[i];++i,null!=r&&r.exists&&r.visible&&(s=s||r.overlapsPoint(t,e,n))}return s},pixelsOverlapPoint:function(t,e,n){null==e&&(e=255);for(var s=!1,i=0,a=this._sprites;i<a.length;){var r=a[i];++i,null!=r&&r.exists&&r.visible&&(s=s||r.pixelsOverlapPoint(t,e,n))}return s},update:function(t){this.group.update(t),this.moves&&this.updateMotion(t)},draw:function(){this.group.draw()},replaceColor:function(t,e,n){var s=null;(n=null==n?!1:n)&&(s=[]);for(var i,a=0,r=this._sprites;a<r.length;)i=r[a],++a,null!=i&&(i=i.replaceColor(t,e,n),n&&(s=s.concat(i)));return s},add:function(t){return this.preAdd(t),this.group.add(t)},insert:function(t,e){return this.preAdd(e),this.group.insert(t,e)},preAdd:function(t){(i=t).set_x(i.x+this.x),(i=t).set_y(i.y+this.y),(i=t).set_alpha(i.alpha*this.alpha);var e,n,s,i=t.scrollFactor,a=this.scrollFactor;i.set_x(a.x),i.set_y(a.y),a._weak&&a.put(),t.set_cameras(this._cameras),null!=this.clipRect&&(null==(i=this.clipRect)?t.set_clipRect(null):(e=i.x-t.x+this.x,n=i.y-t.y+this.y,a=i.width,null==e&&(e=0),null==(s=null==(s=i.height)?0:s)&&(s=0),null==(a=null==a?0:a)&&(a=0),null==(n=null==n?0:n)&&(n=0),(i=sa._pool.get()).x=e=null==e?0:e,i.y=n,i.width=a,i.height=s,i._inPool=!1,t.set_clipRect(i)))},recycle:function(t,e,n,s){return this.group.recycle(t,e,n=null==n?!1:n,s=null==s?!0:s)},remove:function(t,e){null==e&&(e=!1);var n=t;return n.set_x(n.x-this.x),(n=t).set_y(n.y-this.y),t.set_cameras(null),this.group.remove(t,e)},replace:function(t,e){return this.group.replace(t,e)},sort:function(n,t){var s=t=null==(t=null==t?-1:t)?-1:t;this.group.members.sort(function(t,e){return n(s,t,e)})},getFirstAvailable:function(t,e){return this.group.getFirstAvailable(t,e=null==e?!1:e)},getFirstNull:function(){return this.group.getFirstNull()},getFirstExisting:function(){return this.group.getFirstExisting()},getFirstAlive:function(){return this.group.getFirstAlive()},getFirstDead:function(){return this.group.getFirstDead()},countLiving:function(){return this.group.countLiving()},countDead:function(){return this.group.countDead()},getRandom:function(t,e){return this.group.getRandom(t=null==t?0:t,e=null==e?0:e)},iterator:function(t){return new yj(this.group.members,t)},forEach:function(t,e){this.group.forEach(t,e=null==e?!1:e)},forEachAlive:function(t,e){this.group.forEachAlive(t,e=null==e?!1:e)},forEachDead:function(t,e){this.group.forEachDead(t,e=null==e?!1:e)},forEachExists:function(t,e){this.group.forEachExists(t,e=null==e?!1:e)},forEachOfType:function(t,e,n){this.group.forEachOfType(t,e,n=null==n?!1:n)},clear:function(){this.group.clear()},kill:function(){M.prototype.kill.call(this),this.group.kill()},revive:function(){M.prototype.revive.call(this),this.group.revive()},reset:function(t,e){this.revive(),this.setPosition(t,e);for(var n=0,s=this._sprites;n<s.length;){var i=s[n];++n,null!=i&&i.reset(t,e)}},setPosition:function(t,e){var n=(t=null==t?0:t)-this.x,s=(e=null==e?0:e)-this.y;this.multiTransformChildren_Float([y(this,this.xTransform),y(this,this.yTransform)],[n,s]),this._skipTransformChildren=!0,this.set_x(t),this.set_y(e),this._skipTransformChildren=!1},set_camera:function(t){return this.get_camera()!=t&&this.transformChildren_flixel_FlxCamera(y(this,this.cameraTransform),t),M.prototype.set_camera.call(this,t)},set_cameras:function(t){return this.get_cameras()!=t&&this.transformChildren_Array_flixel_FlxCamera(y(this,this.camerasTransform),t),M.prototype.set_cameras.call(this,t)},set_exists:function(t){return this.exists!=t&&this.transformChildren_Bool(y(this,this.existsTransform),t),M.prototype.set_exists.call(this,t)},set_visible:function(t){return this.exists&&this.visible!=t&&this.transformChildren_Bool(y(this,this.visibleTransform),t),M.prototype.set_visible.call(this,t)},set_active:function(t){return this.exists&&this.active!=t&&this.transformChildren_Bool(y(this,this.activeTransform),t),M.prototype.set_active.call(this,t)},set_alive:function(t){return this.alive!=t&&this.transformChildren_Bool(y(this,this.aliveTransform),t),M.prototype.set_alive.call(this,t)},set_x:function(t){var e;return!this._skipTransformChildren&&this.exists&&this.x!=t&&(e=t-this.x,this.transformChildren_Float(y(this,this.xTransform),e)),this.x=t},set_y:function(t){var e;return!this._skipTransformChildren&&this.exists&&this.y!=t&&(e=t-this.y,this.transformChildren_Float(y(this,this.yTransform),e)),this.y=t},set_angle:function(t){var e;return this.exists&&this.angle!=t&&(e=t-this.angle,this.transformChildren_Float(y(this,this.angleTransform),e)),this.angle=t},set_alpha:function(t){var e;return t=1<(t=t<0?0:t)?1:t,this.exists&&this.alpha!=t&&(e=0<this.alpha?t/this.alpha:0,this.directAlpha||0==this.alpha?this.transformChildren_Float(y(this,this.directAlphaTransform),t):this.transformChildren_Float(y(this,this.alphaTransform),e)),this.alpha=t},set_facing:function(t){return this.exists&&this.facing!=t&&this.transformChildren_Int(y(this,this.facingTransform),t),this.facing=t},set_flipX:function(t){return this.exists&&this.flipX!=t&&this.transformChildren_Bool(y(this,this.flipXTransform),t),this.flipX=t},set_flipY:function(t){return this.exists&&this.flipY!=t&&this.transformChildren_Bool(y(this,this.flipYTransform),t),this.flipY=t},set_moves:function(t){return this.exists&&this.moves!=t&&this.transformChildren_Bool(y(this,this.movesTransform),t),this.moves=t},set_immovable:function(t){return this.exists&&this.immovable!=t&&this.transformChildren_Bool(y(this,this.immovableTransform),t),this.immovable=t},set_solid:function(t){return this.exists&&0<(4369&this.allowCollisions)!=t&&this.transformChildren_Bool(y(this,this.solidTransform),t),M.prototype.set_solid.call(this,t)},set_color:function(t){return this.exists&&this.color!=t&&this.transformChildren_Int(y(this,this.gColorTransform),t),this.color=t},set_blend:function(t){return this.exists&&this.blend!=t&&this.transformChildren_flash_display_BlendMode(y(this,this.blendTransform),t),this.blend=t},set_clipRect:function(t){return this.exists&&this.transformChildren_flixel_math_FlxRect(y(this,this.clipRectTransform),t),M.prototype.set_clipRect.call(this,t)},set_pixelPerfectRender:function(t){return this.exists&&this.pixelPerfectRender!=t&&this.transformChildren_Bool(y(this,this.pixelPerfectTransform),t),M.prototype.set_pixelPerfectRender.call(this,t)},set_width:function(t){return t},get_width:function(){if(0==this.group.length)return 0;for(var t=1/0,e=-1/0,n=0,s=this._sprites;n<s.length;){var i,a=s[n];++n,null!=a&&(e<(a=(i=a.x)+a.get_width())&&(e=a),i<t&&(t=i))}return e-t},set_height:function(t){return t},get_height:function(){if(0==this.group.length)return 0;for(var t=1/0,e=-1/0,n=0,s=this._sprites;n<s.length;){var i,a=s[n];++n,null!=a&&(e<(a=(i=a.y)+a.get_height())&&(e=a),i<t&&(t=i))}return e-t},get_length:function(){return this.group.length},get_maxSize:function(){return this.group.maxSize},set_maxSize:function(t){return this.group.set_maxSize(t)},get_members:function(){return this.group.members},xTransform:function(t,e){t.set_x(t.x+e)},yTransform:function(t,e){t.set_y(t.y+e)},angleTransform:function(t,e){t.set_angle(t.angle+e)},alphaTransform:function(t,e){0!=t.alpha||0==e?t.set_alpha(t.alpha*e):t.set_alpha(1/e)},directAlphaTransform:function(t,e){t.set_alpha(e)},facingTransform:function(t,e){t.set_facing(e)},flipXTransform:function(t,e){t.set_flipX(e)},flipYTransform:function(t,e){t.set_flipY(e)},movesTransform:function(t,e){t.set_moves(e)},pixelPerfectTransform:function(t,e){t.set_pixelPerfectRender(e)},gColorTransform:function(t,e){t.set_color(e)},blendTransform:function(t,e){t.set_blend(e)},immovableTransform:function(t,e){t.set_immovable(e)},visibleTransform:function(t,e){t.set_visible(e)},activeTransform:function(t,e){t.set_active(e)},solidTransform:function(t,e){t.set_solid(e)},aliveTransform:function(t,e){t.set_alive(e)},existsTransform:function(t,e){t.set_exists(e)},cameraTransform:function(t,e){t.set_camera(e)},camerasTransform:function(t,e){t.set_cameras(e)},offsetTransform:function(t,e){(t=t.offset).set_x(e.x),t.set_y(e.y),e._weak&&e.put()},originTransform:function(t,e){(t=t.origin).set_x(e.x),t.set_y(e.y),e._weak&&e.put()},scaleTransform:function(t,e){(t=t.scale).set_x(e.x),t.set_y(e.y),e._weak&&e.put()},scrollFactorTransform:function(t,e){(t=t.scrollFactor).set_x(e.x),t.set_y(e.y),e._weak&&e.put()},clipRectTransform:function(t,e){var n,s,i,a;null==e?t.set_clipRect(null):(n=e.x-t.x+this.x,s=e.y-t.y+this.y,i=e.width,null==n&&(n=0),null==(a=null==(a=e.height)?0:a)&&(a=0),null==(i=null==i?0:i)&&(i=0),null==(s=null==s?0:s)&&(s=0),(e=sa._pool.get()).x=n=null==n?0:n,e.y=s,e.width=i,e.height=a,e._inPool=!1,t.set_clipRect(e))},offsetCallback:function(t){this.transformChildren_flixel_math_FlxPoint(y(this,this.offsetTransform),t)},originCallback:function(t){this.transformChildren_flixel_math_FlxPoint(y(this,this.originTransform),t)},scaleCallback:function(t){this.transformChildren_flixel_math_FlxPoint(y(this,this.scaleTransform),t)},scrollFactorCallback:function(t){this.transformChildren_flixel_math_FlxPoint(y(this,this.scrollFactorTransform),t)},loadGraphicFromSprite:function(t){return this},loadGraphic:function(t,e,n,s,i,a){return this},loadRotatedGraphic:function(t,e,n,s,i,a){return this},makeGraphic:function(t,e,n,s,i){return this},set_pixels:function(t){return t},set_frame:function(t){return t},get_pixels:function(){return null},calcFrame:function(t){},resetHelpers:function(){},stamp:function(t,e,n){},set_frames:function(t){return t},updateColorTransform:function(){},__class__:jb,__properties__:D(M.prototype.__properties__,{set_maxSize:"set_maxSize",get_maxSize:"get_maxSize",get_length:"get_length",get_members:"get_members"})});var Zb=function(t,e,s,i,a){null==a&&(a=!1),null==i&&(i=!1),null==s&&(s=""),this.personTalking="gf",this.isBold=!1,this.splitWords=[],this.xPosResetted=this.lastWasSpace=!1,this.yMulti=1,this.widthOfWords=n.width,this.text=this._finalText=this._curText="",this.isMenuItem=!1,this.targetY=0,this.paused=!1,this.delay=.05,jb.call(this,t,e),this.text=this._finalText=s,this.isBold=i,""!=s&&(a?this.startTypedText():this.addText())};r.Alphabet=Zb,Zb.__name__="Alphabet",Zb.__super__=jb,Zb.prototype=D(jb.prototype,{delay:null,paused:null,targetY:null,isMenuItem:null,text:null,_finalText:null,_curText:null,widthOfWords:null,yMulti:null,lastSprite:null,xPosResetted:null,lastWasSpace:null,splitWords:null,isBold:null,addText:function(){this.doSplitWords();for(var t=0,e=0,n=this.splitWords;e<n.length;){var s,i=n[e];++e," "!=i&&"-"!=i||(this.lastWasSpace=!0),-1!=Dc.alphabet.indexOf(i.toLowerCase())&&(null!=this.lastSprite&&(t=this.lastSprite.x+this.lastSprite.get_width()),this.lastWasSpace&&(t+=40,this.lastWasSpace=!1),s=new Dc(t,0),this.isBold?s.createBold(i):s.createLetter(i),this.add(s),this.lastSprite=s)}},doSplitWords:function(){this.splitWords=this._finalText.split("")},personTalking:null,startTypedText:function(){var a=this;this._finalText=this.text,this.doSplitWords();var r=0,l=0,o=0;(new Oc).start(.05,function(t){10==a._finalText.charCodeAt(r)&&(a.yMulti+=1,a.xPosResetted=!0,l=0,o+=1)," "==a.splitWords[r]&&(a.lastWasSpace=!0);var e,s=-1!=Dc.numbers.indexOf(a.splitWords[r]),i=-1!=Dc.symbols.indexOf(a.splitWords[r]);(-1!=Dc.alphabet.indexOf(a.splitWords[r].toLowerCase())||s||i)&&(null==a.lastSprite||a.xPosResetted?a.xPosResetted=!1:(a.lastSprite.updateHitbox(),l+=a.lastSprite.get_width()+3),a.lastWasSpace&&(l+=20,a.lastWasSpace=!1),(e=new Dc(l,55*a.yMulti)).row=o,a.isBold?e.createBold(a.splitWords[r]):(s?e.createNumber(a.splitWords[r]):i?e.createSymbol(a.splitWords[r]):e.createLetter(a.splitWords[r]),e.set_x(e.x+90)),null==(s=40)&&(s=50),n.random.float(0,100)<s&&n.sound.play(N.sound("GF_"+n.random.int(1,4),null)),a.add(e),a.lastSprite=e),r+=1,t.time=n.random.float(.04,.09)},this.splitWords.length)},update:function(t){var e,s;this.isMenuItem&&(e=Hb.remapToRange(this.targetY,0,1,0,1.3),s=this.y,this.set_y(s+.16*(120*e+.48*n.height-s)),s=this.x,this.set_x(s+.16*(20*this.targetY+90-s))),jb.prototype.update.call(this,t)},__class__:Zb});var Dc=function(t,e){this.row=0,M.call(this,t,e),t=lb.fromSparrow(N.getPath("images/alphabet.png","IMAGE",null),N.getPath("images/alphabet.xml","TEXT",null)),this.set_frames(t),this.set_antialiasing(!0)};r.AlphaCharacter=Dc,Dc.__name__="AlphaCharacter",Dc.__super__=M,Dc.prototype=D(M.prototype,{row:null,createBold:function(t){this.animation.addByPrefix(t,t.toUpperCase()+" bold",24),this.animation.play(t),this.updateHitbox()},createLetter:function(t){var e="lowercase";t.toLowerCase()!=t&&(e="capital"),this.animation.addByPrefix(t,t+" "+e,24),this.animation.play(t),this.updateHitbox(),this.set_y(110-this.get_height()),this.set_y(this.y+60*this.row)},createNumber:function(t){this.animation.addByPrefix(t,t,24),this.animation.play(t),this.updateHitbox()},createSymbol:function(t){switch(t){case"!":this.animation.addByPrefix(t,"exclamation point",24),this.animation.play(t);break;case"'":this.animation.addByPrefix(t,"apostraphie",24),this.animation.play(t),(t=this).set_y(t.y);break;case".":this.animation.addByPrefix(t,"period",24),this.animation.play(t),(t=this).set_y(t.y+50);break;case"?":this.animation.addByPrefix(t,"question mark",24),this.animation.play(t)}this.updateHitbox()},__class__:Dc});var la=function(t,e,s,i,a,r){null==a&&(a=!1),null==i&&(i=!1),null==s&&(s=""),this.selected=!1,this.personTalking="gf",this.scaleOf=1,this.isBold=!1,this.splitWords=[],this.listAllLetters=[],this.xPosResetted=this.lastWasSpace=!1,this.yMulti=1,this.widthOfWords=n.width,this.text=this._finalText=this._curText="",this.isMenuItem=!1,this.targetY=0,this.paused=!1,this.delay=.05,jb.call(this,t,e),this.text=this._finalText=s,this.isBold=i,""!=s&&(a?this.startTypedText():this.addText())};r.AlphabetTricky=la,la.__name__="AlphabetTricky",la.__super__=jb,la.prototype=D(jb.prototype,{delay:null,paused:null,targetY:null,isMenuItem:null,text:null,_finalText:null,_curText:null,widthOfWords:null,yMulti:null,lastSprite:null,xPosResetted:null,lastWasSpace:null,listAllLetters:null,splitWords:null,isBold:null,scaleOf:null,addText:function(){this.doSplitWords();for(var t=0,e=0,n=this.splitWords;e<n.length;){var s,i=n[e];++e," "!=i&&"-"!=i||(this.lastWasSpace=!0),-1!=Ya.alphabet.indexOf(i.toUpperCase())&&(null!=this.lastSprite&&(t=this.lastSprite.x),this.lastWasSpace&&(t+=40,this.lastWasSpace=!1),(s=new Ya(t,0)).createLetter(i),this.listAllLetters.push(s),this.add(s),s.setGraphicSize(s.get_width()*this.scaleOf|0),this.lastSprite=s)}},doSplitWords:function(){this.splitWords=this._finalText.split("")},resetWord:function(){for(var t=0,e=this.listAllLetters;t<e.length;){var n=e[t];++t,n.destroy()}},personTalking:null,startTypedText:function(){var i=this;this._finalText=this.text,this.doSplitWords();var a=0,r=0,l=0;(new Oc).start(.05,function(t){10==i._finalText.charCodeAt(a)&&(i.yMulti+=1,i.xPosResetted=!0,r=0,l+=1)," "==i.splitWords[a]&&(i.lastWasSpace=!0);var e,s=-1!=Ya.numbers.indexOf(i.splitWords[a]);-1==Ya.alphabet.indexOf(i.splitWords[a].toUpperCase())&&!s||(null==i.lastSprite||i.xPosResetted?i.xPosResetted=!1:(i.lastSprite.updateHitbox(),r+=12),i.lastWasSpace&&(r+=16,i.lastWasSpace=!1),(e=new Ya(r,55*i.yMulti)).row=l,i.listAllLetters.push(e),s?(Bb.trace("creating numba",{fileName:"source/AlphabetTricky.hx",lineNumber:195,className:"AlphabetTricky",methodName:"startTypedText"}),e.createNumber(i.splitWords[a])):e.createLetter(i.splitWords[a]),null==(s=40)&&(s=50),n.random.float(0,100)<s&&n.sound.play(N.sound("GF_"+n.random.int(1,4),null)),i.add(e),e.setGraphicSize(e.get_width()*i.scaleOf|0),i.lastSprite=e),a+=1,t.time=n.random.float(.04,.09)},this.splitWords.length)},update:function(t){var e,s;this.isMenuItem&&(e=Hb.remapToRange(this.targetY,0,1,0,1.3),s=this.y,this.set_y(s+.16*(120*e+.48*n.height-s)),s=this.x,this.set_x(s+.16*(20*this.targetY+90-s))),jb.prototype.update.call(this,t)},selected:null,selectText:function(){this.selected=!this.selected;for(var t=0,e=this.listAllLetters;t<e.length;){var n=e[t];++t,n.selected(this.selected)}},__class__:la});var Ya=function(t,e){this.row=0,this.letter="",M.call(this,t,e),t=lb.fromSparrow(N.getPath("images/menu/Alphabet.png","IMAGE",null),N.getPath("images/menu/Alphabet.xml","TEXT",null)),this.set_frames(t),this.set_antialiasing(!0)};r.TrickyAlphaCharacter=Ya,Ya.__name__="TrickyAlphaCharacter",Ya.__super__=M,Ya.prototype=D(M.prototype,{letter:null,row:null,selected:function(t){t?this.animation.play(this.letter+" CONFIRM"):this.animation.play(this.letter)},createLetter:function(t){this.letter=t.toUpperCase(),this.animation.addByPrefix(this.letter,this.letter,24),this.animation.addByPrefix(this.letter,this.letter+" CONFIRM",24),this.animation.play(this.letter),this.updateHitbox(),this.set_y(110-this.get_height()),this.set_y(this.y+60*this.row)},createNumber:function(t){this.animation.addByPrefix(t,t,24),this.animation.play(t),this.updateHitbox()},createSymbol:function(t){"!"==t&&(this.animation.addByPrefix(t,"exclamation point",24),this.animation.play(t)),this.updateHitbox()},__class__:Ya});var ab=function(){};r["lime.app.IModule"]=ab,ab.__name__="lime.app.IModule",ab.__isInterface__=!0,ab.prototype={__registerLimeModule:null,__unregisterLimeModule:null,__class__:ab};var mb=function(){this.onExit=new zj};r["lime.app.Module"]=mb,mb.__name__="lime.app.Module",mb.__interfaces__=[ab],mb.prototype={onExit:null,__registerLimeModule:function(t){},__unregisterLimeModule:function(t){},__class__:mb};var ob=function(t){this.gameDeviceCache=new cd,this.parent=t,this.nextUpdate=this.lastUpdate=this.currentUpdate=0,this.framePeriod=-1,Qe.init(),this.accelerometer=wg.registerSensor(Qt.ACCELEROMETER,0)};r["lime._internal.backend.html5.HTML5Application"]=ob,ob.__name__="lime._internal.backend.html5.HTML5Application",ob.prototype={accelerometer:null,currentUpdate:null,deltaTime:null,framePeriod:null,gameDeviceCache:null,hidden:null,lastUpdate:null,nextUpdate:null,parent:null,convertKeyCode:function(t){if(65<=t&&t<=90)return t+32;switch(t){case 12:return 1073741980;case 16:return 1073742049;case 17:return 1073742048;case 18:return 1073742050;case 19:return 1073741896;case 20:return 1073741881;case 33:return 1073741899;case 34:return 1073741902;case 35:return 1073741901;case 36:return 1073741898;case 37:return 1073741904;case 38:return 1073741906;case 39:return 1073741903;case 40:return 1073741905;case 41:return 1073741943;case 43:return 1073741940;case 44:return 1073741894;case 45:return 1073741897;case 46:return 127;case 91:return 1073742051;case 92:case 93:return 1073742055;case 95:return 1073742106;case 96:return 1073741922;case 97:return 1073741913;case 98:return 1073741914;case 99:return 1073741915;case 100:return 1073741916;case 101:return 1073741917;case 102:return 1073741918;case 103:return 1073741919;case 104:return 1073741920;case 105:return 1073741921;case 106:return 1073741909;case 107:return 1073741911;case 108:return 1073741923;case 109:return 1073741910;case 110:return 1073741923;case 111:return 1073741908;case 112:return 1073741882;case 113:return 1073741883;case 114:return 1073741884;case 115:return 1073741885;case 116:return 1073741886;case 117:return 1073741887;case 118:return 1073741888;case 119:return 1073741889;case 120:return 1073741890;case 121:return 1073741891;case 122:return 1073741892;case 123:return 1073741893;case 124:return 1073741928;case 125:return 1073741929;case 126:return 1073741930;case 127:return 1073741931;case 128:return 1073741932;case 129:return 1073741933;case 130:return 1073741934;case 131:return 1073741935;case 132:return 1073741936;case 133:return 1073741937;case 134:return 1073741938;case 135:return 1073741939;case 144:return 1073741907;case 145:return 1073741895;case 160:return 94;case 161:return 33;case 163:return 35;case 164:return 36;case 166:return 1073742094;case 167:return 1073742095;case 168:return 1073742097;case 169:return 41;case 170:return 42;case 171:return 96;case 172:return 1073741898;case 173:return 45;case 174:return 1073741953;case 175:return 1073741952;case 176:return 1073742082;case 177:return 1073742083;case 178:return 1073742084;case 179:return 1073742085;case 180:return 1073742089;case 181:return 1073742086;case 182:return 1073741953;case 183:return 1073741952;case 186:return 59;case 187:return 61;case 188:return 44;case 189:return 45;case 190:return 46;case 191:return 47;case 192:return 96;case 193:return 63;case 194:return 1073741923;case 219:return 91;case 220:return 92;case 221:return 93;case 222:return 39;case 223:return 96;case 224:return 1073742051;case 226:return 92}return t},exec:function(){var t;window.addEventListener("keydown",y(this,this.handleKeyEvent),!1),window.addEventListener("keyup",y(this,this.handleKeyEvent),!1),window.addEventListener("focus",y(this,this.handleWindowEvent),!1),window.addEventListener("blur",y(this,this.handleWindowEvent),!1),window.addEventListener("resize",y(this,this.handleWindowEvent),!1),window.addEventListener("beforeunload",y(this,this.handleWindowEvent),!1),window.addEventListener("devicemotion",y(this,this.handleSensorEvent),!1),CanvasRenderingContext2D.prototype.isPointInStroke||(CanvasRenderingContext2D.prototype.isPointInStroke=function(t,e,n){return!1}),CanvasRenderingContext2D.prototype.isPointInPath||(CanvasRenderingContext2D.prototype.isPointInPath=function(t,e,n){return!1}),0=="performance"in window&&(window.performance={}),0=="now"in window.performance&&(t=Date.now(),performance.timing&&performance.timing.navigationStart&&(t=performance.timing.navigationStart),window.performance.now=function(){return Date.now()-t});for(var i=0,e=["ms","moz","webkit","o"],n=0;n<e.length&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[e[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[e[n]+"CancelAnimationFrame"]||window[e[n]+"CancelRequestAnimationFrame"];return window.requestAnimationFrame||(window.requestAnimationFrame=function(t,e){var n=(new Date).getTime(),s=Math.max(0,16-(n-i));return e=window.setTimeout(function(){t(n+s)},s),i=n+s,e}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)}),window.requestAnimFrame=window.requestAnimationFrame,this.lastUpdate=(new Date).getTime(),this.handleApplicationEvent(),0},exit:function(){},handleApplicationEvent:function(t){t=0;for(var e=this.parent.__windows;t<e.length;){var n=e[t];++t,n.__backend.updateSize()}if(this.updateGameDevices(),this.currentUpdate=(new Date).getTime(),this.currentUpdate>=this.nextUpdate){for(this.deltaTime=this.currentUpdate-this.lastUpdate,t=0,e=this.parent.__windows;t<e.length;)n=e[t],++t,this.parent.onUpdate.dispatch(0|this.deltaTime),null!=n.context&&n.onRender.dispatch(n.context);this.nextUpdate=this.framePeriod<0?this.currentUpdate:this.currentUpdate-this.currentUpdate%this.framePeriod+this.framePeriod,this.lastUpdate=this.currentUpdate}window.requestAnimationFrame(y(this,this.handleApplicationEvent))},handleKeyEvent:function(t){var e,n;null!=this.parent.__window&&(e=this.convertKeyCode(null!=t.keyCode?t.keyCode:t.which),n=(t.shiftKey?3:0)|(t.ctrlKey?192:0)|(t.altKey?768:0)|(t.metaKey?3072:0),"keydown"==t.type?(this.parent.__window.onKeyDown.dispatch(e,n),this.parent.__window.onKeyDown.canceled&&t.cancelable&&t.preventDefault()):(this.parent.__window.onKeyUp.dispatch(e,n),this.parent.__window.onKeyUp.canceled&&t.cancelable&&t.preventDefault()))},handleSensorEvent:function(t){this.accelerometer.onUpdate.dispatch(t.accelerationIncludingGravity.x,t.accelerationIncludingGravity.y,t.accelerationIncludingGravity.z)},handleWindowEvent:function(t){if(null!=this.parent.__window)switch(t.type){case"blur":this.hidden||(this.parent.__window.onFocusOut.dispatch(),this.parent.__window.onDeactivate.dispatch(),this.hidden=!0);break;case"focus":this.hidden&&(this.parent.__window.onFocusIn.dispatch(),this.parent.__window.onActivate.dispatch(),this.hidden=!1);break;case"resize":this.parent.__window.__backend.handleResizeEvent(t);break;case"visibilitychange":window.document.hidden?this.hidden||(this.parent.__window.onFocusOut.dispatch(),this.parent.__window.onDeactivate.dispatch(),this.hidden=!0):this.hidden&&(this.parent.__window.onFocusIn.dispatch(),this.parent.__window.onActivate.dispatch(),this.hidden=!1)}},updateGameDevices:function(){var t=td.__getDeviceData();if(null!=t)for(var e,n,s,i,a,r=0,l=t.length;r<l;)if(null!=(i=t[e=r++])){if(!this.gameDeviceCache.h.hasOwnProperty(e)){for((a=new uq).id=e,a.connected=i.connected,n=0,s=i.buttons.length;n<s;){var o=n++;a.buttons.push(i.buttons[o].value)}for(n=0,s=i.axes.length;n<s;)o=n++,a.axes.push(i.axes[o]);"standard"==i.mapping&&(a.isGamepad=!0),this.gameDeviceCache.h[e]=a,i.connected&&(td.__connect(e),a.isGamepad&&ae.__connect(e))}if(a=this.gameDeviceCache.h[e],s=td.devices.h[e],n=ae.devices.h[e],i.connected){for(var h=0,_=i.buttons.length;h<_;){var u=h++;if((o=i.buttons[u].value)!=a.buttons[u]){if(6==u)s.onAxisMove.dispatch(i.axes.length,o),null!=n&&n.onAxisMove.dispatch(4,o);else if(7==u)s.onAxisMove.dispatch(i.axes.length+1,o),null!=n&&n.onAxisMove.dispatch(5,o);else if((0<o?s.onButtonDown:s.onButtonUp).dispatch(u),null!=n){switch(u){case 0:e=0;break;case 1:e=1;break;case 2:e=2;break;case 3:e=3;break;case 4:e=9;break;case 5:e=10;break;case 8:e=4;break;case 9:e=6;break;case 10:e=7;break;case 11:e=8;break;case 12:e=11;break;case 13:e=12;break;case 14:e=13;break;case 15:e=14;break;case 16:e=5;break;default:continue}(0<o?n.onButtonDown:n.onButtonUp).dispatch(e)}a.buttons[u]=o}}for(e=0,o=i.axes.length;e<o;)h=e++,i.axes[h]!=a.axes[h]&&(s.onAxisMove.dispatch(h,i.axes[h]),null!=n&&n.onAxisMove.dispatch(h,i.axes[h]),a.axes[h]=i.axes[h])}else a.connected&&(a.connected=!1,td.__disconnect(e),ae.__disconnect(e))}},__class__:ob};var Ub=function(){this.onCreateWindow=new vq,this.onUpdate=new zj,this.onExit=new zj,null==Ub.current&&(Ub.current=this),this.meta=new va,this.modules=[],this.__windowByID=new cd,this.__windows=[],this.__backend=new ob(this),this.__registerLimeModule(this),this.__preloader=new wq,this.__preloader.onProgress.add(y(this,this.onPreloadProgress)),this.__preloader.onComplete.add(y(this,this.onPreloadComplete))};r["lime.app.Application"]=Ub,Ub.__name__="lime.app.Application",Ub.current=null,Ub.__super__=mb,Ub.prototype=D(mb.prototype,{meta:null,modules:null,onUpdate:null,onCreateWindow:null,preloader:null,window:null,windows:null,__backend:null,__preloader:null,__window:null,__windowByID:null,__windows:null,addModule:function(t){t.__registerLimeModule(this),this.modules.push(t)},createWindow:function(t){return t=this.__createWindow(t),this.__addWindow(t),t},exec:function(){return(Ub.current=this).__backend.exec()},onGamepadAxisMove:function(t,e,n){},onGamepadButtonDown:function(t,e){},onGamepadButtonUp:function(t,e){},onGamepadConnect:function(t){},onGamepadDisconnect:function(t){},onJoystickAxisMove:function(t,e,n){},onJoystickButtonDown:function(t,e){},onJoystickButtonUp:function(t,e){},onJoystickConnect:function(t){},onJoystickDisconnect:function(t){},onJoystickHatMove:function(t,e,n){},onJoystickTrackballMove:function(t,e,n,s){},onKeyDown:function(t,e){},onKeyUp:function(t,e){},onModuleExit:function(t){},onMouseDown:function(t,e,n){},onMouseMove:function(t,e){},onMouseMoveRelative:function(t,e){},onMouseUp:function(t,e,n){},onMouseWheel:function(t,e,n){},onPreloadComplete:function(){},onPreloadProgress:function(t,e){},onRenderContextLost:function(){},onRenderContextRestored:function(t){},onTextEdit:function(t,e,n){},onTextInput:function(t){},onTouchCancel:function(t){},onTouchEnd:function(t){},onTouchMove:function(t){},onTouchStart:function(t){},onWindowActivate:function(){},onWindowClose:function(){},onWindowCreate:function(){},onWindowDeactivate:function(){},onWindowDropFile:function(t){},onWindowEnter:function(){},onWindowExpose:function(){},onWindowFocusIn:function(){},onWindowFocusOut:function(){},onWindowFullscreen:function(){},onWindowLeave:function(){},onWindowMove:function(t,e){},onWindowMinimize:function(){},onWindowResize:function(t,e){},onWindowRestore:function(){},removeModule:function(t){null!=t&&(t.__unregisterLimeModule(this),oa.remove(this.modules,t))},render:function(t){},update:function(t){},__addWindow:function(t){var e;null!=t&&(this.__windows.push(t),this.__windowByID.h[t.id]=t,e=y(this,this.__onWindowClose),t.onClose.add(function(){e(t)},!1,-1e4),null==this.__window&&((this.__window=t).onActivate.add(y(this,this.onWindowActivate)),t.onRenderContextLost.add(y(this,this.onRenderContextLost)),t.onRenderContextRestored.add(y(this,this.onRenderContextRestored)),t.onDeactivate.add(y(this,this.onWindowDeactivate)),t.onDropFile.add(y(this,this.onWindowDropFile)),t.onEnter.add(y(this,this.onWindowEnter)),t.onExpose.add(y(this,this.onWindowExpose)),t.onFocusIn.add(y(this,this.onWindowFocusIn)),t.onFocusOut.add(y(this,this.onWindowFocusOut)),t.onFullscreen.add(y(this,this.onWindowFullscreen)),t.onKeyDown.add(y(this,this.onKeyDown)),t.onKeyUp.add(y(this,this.onKeyUp)),t.onLeave.add(y(this,this.onWindowLeave)),t.onMinimize.add(y(this,this.onWindowMinimize)),t.onMouseDown.add(y(this,this.onMouseDown)),t.onMouseMove.add(y(this,this.onMouseMove)),t.onMouseMoveRelative.add(y(this,this.onMouseMoveRelative)),t.onMouseUp.add(y(this,this.onMouseUp)),t.onMouseWheel.add(y(this,this.onMouseWheel)),t.onMove.add(y(this,this.onWindowMove)),t.onRender.add(y(this,this.render)),t.onResize.add(y(this,this.onWindowResize)),t.onRestore.add(y(this,this.onWindowRestore)),t.onTextEdit.add(y(this,this.onTextEdit)),t.onTextInput.add(y(this,this.onTextInput)),this.onWindowCreate()),this.onCreateWindow.dispatch(t))},__createWindow:function(t){return-1==(t=new qk(this,t)).id?null:t},__registerLimeModule:function(t){for(t.onUpdate.add(y(this,this.update)),t.onExit.add(y(this,this.onModuleExit),!1,0),t.onExit.add(y(this,this.__onModuleExit),!1,0),t=ae.devices.iterator();t.hasNext();){var e=t.next();this.__onGamepadConnect(e)}for(ae.onConnect.add(y(this,this.__onGamepadConnect)),t=td.devices.iterator();t.hasNext();)e=t.next(),this.__onJoystickConnect(e);td.onConnect.add(y(this,this.__onJoystickConnect)),Ld.onCancel.add(y(this,this.onTouchCancel)),Ld.onStart.add(y(this,this.onTouchStart)),Ld.onMove.add(y(this,this.onTouchMove)),Ld.onEnd.add(y(this,this.onTouchEnd))},__removeWindow:function(t){null!=t&&this.__windowByID.h.hasOwnProperty(t.id)&&(this.__window==t&&(this.__window=null),oa.remove(this.__windows,t),this.__windowByID.remove(t.id),t.close(),0==this.__windows.length&&rb.exit(0))},__onGamepadConnect:function(n){this.onGamepadConnect(n);var s=y(this,this.onGamepadAxisMove);n.onAxisMove.add(function(t,e){s(n,t,e)});var e=y(this,this.onGamepadButtonDown);n.onButtonDown.add(function(t){e(n,t)});var i=y(this,this.onGamepadButtonUp);n.onButtonUp.add(function(t){i(n,t)});var t=y(this,this.onGamepadDisconnect);n.onDisconnect.add(function(){t(n)})},__onJoystickConnect:function(s){this.onJoystickConnect(s);var n=y(this,this.onJoystickAxisMove);s.onAxisMove.add(function(t,e){n(s,t,e)});var e=y(this,this.onJoystickButtonDown);s.onButtonDown.add(function(t){e(s,t)});var i=y(this,this.onJoystickButtonUp);s.onButtonUp.add(function(t){i(s,t)});var t=y(this,this.onJoystickDisconnect);s.onDisconnect.add(function(){t(s)});var a=y(this,this.onJoystickHatMove);s.onHatMove.add(function(t,e){a(s,t,e)});var r=y(this,this.onJoystickTrackballMove);s.onTrackballMove.add(function(t,e,n){r(s,t,e,n)})},__onModuleExit:function(t){this.__backend.exit()},__onWindowClose:function(t){this.__window==t&&this.onWindowClose(),this.__removeWindow(t)},__unregisterLimeModule:function(t){t.onUpdate.remove(y(this,this.update)),t.onExit.remove(y(this,this.__onModuleExit)),t.onExit.remove(y(this,this.onModuleExit)),ae.onConnect.remove(y(this,this.__onGamepadConnect)),td.onConnect.remove(y(this,this.__onJoystickConnect)),Ld.onCancel.remove(y(this,this.onTouchCancel)),Ld.onStart.remove(y(this,this.onTouchStart)),Ld.onMove.remove(y(this,this.onTouchMove)),Ld.onEnd.remove(y(this,this.onTouchEnd)),this.onModuleExit(0)},get_preloader:function(){return this.__preloader},get_window:function(){return this.__window},get_windows:function(){return this.__windows},__class__:Ub,__properties__:{get_windows:"get_windows",get_window:"get_window",get_preloader:"get_preloader"}});var Md=function(){};r.ApplicationMain=Md,Md.__name__="ApplicationMain",Md.main=function(){rb.__registerEntryPoint("Vs. Tricky",Md.create)},Md.create=function(t){var e=new ql;hf.init(t),e.meta.h.build="2",e.meta.h.company="KadeDev",e.meta.h.file="Vs. Tricky",e.meta.h.name="Friday Night Funkin' Vs. Tricky (Version 2)",e.meta.h.packageName="com.kadedev.vstricky";var n={allowHighDPI:!(e.meta.h.version="2"),alwaysOnTop:!1,borderless:!1,element:null,frameRate:null,height:720,hidden:!1,maximized:!1,minimized:!1,parameters:{},resizable:!0,title:"Friday Night Funkin' Vs. Tricky (Version 2)",width:1280,x:null,y:null,context:{antialiasing:0,background:0,colorDepth:32,depth:!0,hardware:!0,stencil:!0,type:null,vsync:!1}};if(null==e.__window&&null!=t)for(var s=0,i=Z.fields(t);s<i.length;){var a=i[s];++s,Object.prototype.hasOwnProperty.call(n,a)?n[a]=Z.field(t,a):Object.prototype.hasOwnProperty.call(n.context,a)&&(n.context[a]=Z.field(t,a))}e.createWindow(n);var r=new Lm(new Mm);e.__preloader.onProgress.add(function(t,e){r.update(t,e)}),e.__preloader.onComplete.add(function(){r.start()});var l=e.__window.stage;for(r.onComplete.add(function(){Md.start(l)}),s=0,i=hf.preloadLibraries;s<i.length;)t=i[s],++s,e.__preloader.addLibrary(t);for(s=0,i=hf.preloadLibraryNames;s<i.length;)t=i[s],++s,e.__preloader.addLibraryName(t);e.__preloader.load(),e.exec()},Md.start=function(e){try{Ha.main(),e.dispatchEvent(new Ka("resize",!1,!1)),e.window.__fullscreen&&e.dispatchEvent(new Xh("fullScreen",!1,!1,!0,!0))}catch(t){ub.lastError=t;var n=G.caught(t).unwrap();e.__handleError(n)}};var Kc=function(){};r["openfl.events.IEventDispatcher"]=Kc,Kc.__name__="openfl.events.IEventDispatcher",Kc.__isInterface__=!0,Kc.prototype={addEventListener:null,dispatchEvent:null,hasEventListener:null,removeEventListener:null,willTrigger:null,__class__:Kc};var zb=function(t){null!=t&&(this.__targetDispatcher=t)};r["openfl.events.EventDispatcher"]=zb,zb.__name__="openfl.events.EventDispatcher",zb.__interfaces__=[Kc],zb.prototype={__eventMap:null,__iterators:null,__targetDispatcher:null,addEventListener:function(t,e,n,s,i){if(null==s&&(s=0),null==n&&(n=!1),null!=e)if(null==this.__eventMap&&(this.__eventMap=new va,this.__iterators=new va),Object.prototype.hasOwnProperty.call(this.__eventMap.h,t)){i=0;for(var a=(r=this.__eventMap.h[t]).length;i<a;)if(r[i++].match(e,n))return;for(t=this.__iterators.h[t],i=0;i<t.length;)a=t[i],++i,a.active&&a.copy();this.__addListenerByPriority(r,new rl(e,n,s))}else{var r=[];r.push(new rl(e,n,s)),a=new sl(r),this.__eventMap.h[t]=r,this.__iterators.h[t]=[a]}},dispatchEvent:function(t){return t.target=null!=this.__targetDispatcher?this.__targetDispatcher:this,this.__dispatchEvent(t)},hasEventListener:function(t){return null!=this.__eventMap&&Object.prototype.hasOwnProperty.call(this.__eventMap.h,t)},removeEventListener:function(t,e,n){if(null==n&&(n=!1),null!=this.__eventMap&&null!=e){var s=this.__eventMap.h[t];if(null!=s){for(var i=this.__iterators.h[t],a=0,r=s.length;a<r;){var l=a++;if(s[l].match(e,n)){for(e=0;e<i.length;)n=i[e],++e,n.remove(s[l],l);s.splice(l,1);break}}0==s.length&&(s=this.__eventMap,Object.prototype.hasOwnProperty.call(s.h,t)&&delete s.h[t],s=this.__iterators,Object.prototype.hasOwnProperty.call(s.h,t)&&delete s.h[t]),va.valueIterator(this.__eventMap.h).hasNext()||(this.__iterators=this.__eventMap=null)}}},toString:function(){return"[object "+xa.getClass(this).__name__.split(".").pop()+"]"},willTrigger:function(t){return this.hasEventListener(t)},__dispatchEvent:function(t){if(null==this.__eventMap||null==t)return!0;var e=t.type,n=this.__eventMap.h[e];if(null==n)return!0;null==t.target&&(t.target=null!=this.__targetDispatcher?this.__targetDispatcher:this),t.currentTarget=this;var s=1==t.eventPhase,i=(e=this.__iterators.h[e])[0];i.active&&(i=new sl(n),e.push(i)),i.start();for(var a=i;a.hasNext();){var r=a.next();if(null!=r&&r.useCapture==s&&(r.callback(t),t.__isCanceledNow))break}return i.stop(),i!=e[0]?oa.remove(e,i):i.reset(n),!t.isDefaultPrevented()},__removeAllListeners:function(){this.__iterators=this.__eventMap=null},__addListenerByPriority:function(t,e){for(var n=t.length,s=n,i=0;i<n;){var a=i++;if(t[a].priority<e.priority){s=a;break}}t.splice(s,0,e)},__class__:zb};var Lc=function(){};r["openfl.display.IBitmapDrawable"]=Lc,Lc.__name__="openfl.display.IBitmapDrawable",Lc.__isInterface__=!0,Lc.prototype={__blendMode:null,__drawableType:null,__isMask:null,__renderable:null,__renderTransform:null,__transform:null,__worldAlpha:null,__worldColorTransform:null,__worldTransform:null,__getBounds:null,__update:null,__updateTransforms:null,__mask:null,__scrollRect:null,__class__:Lc};var wb={__properties__:{set_length:"set_length",get_length:"get_length",set_fixed:"set_fixed",get_fixed:"get_fixed"},ofArray_Float:function(t){for(var e=wb.toFloatVector(null),n=0,s=t.length;n<s;){var i=n++;e.set(i,t[i])}return e},ofArray_Int:function(t){for(var e=wb.toIntVector(null),n=0,s=t.length;n<s;){var i=n++;e.set(i,t[i])}return e},concat:function(t,e){return t.concat(e)},copy:function(t){return t.copy()},filter:function(t,e){return t.filter(e)},get:function(t,e){return t.get(e)},indexOf:function(t,e,n){return t.indexOf(e,n=null==n?0:n)},insertAt:function(t,e,n){t.insertAt(e,n)},iterator:function(t){return t.iterator()},join:function(t,e){return t.join(e=null==e?",":e)},lastIndexOf:function(t,e,n){return t.lastIndexOf(e,n)},pop:function(t){return t.pop()},push:function(t,e){return t.push(e)},removeAt:function(t,e){return t.removeAt(e)},reverse:function(t){return t.reverse()},set:function(t,e,n){return t.set(e,n)},shift:function(t){return t.shift()},slice:function(t,e,n){return t.slice(e=null==e?0:e,n)},sort:function(t,e){t.sort(e)},splice:function(t,e,n){return t.splice(e,n)},toString:function(t){return null!=t?t.toString():null},unshift:function(t,e){t.unshift(e)},convert:function(t){return t},toBoolVector:function(t,e,n,s){return new Ug(e,n,s)},toIntVector:function(t,e,n,s){return new Vg(e,n,s)},toFloatVector:function(t,e,n,s){return new Wg(e,n,s,!0)},toFunctionVector:function(t,e,n,s){return new Xg(e,n,s)},toObjectVector:function(t,e,n,s){return new xg(e,n,s,!0)},toNullVector:function(t,e,n,s){return new xg(e,n,s,!0)},fromBoolVector:function(t){return t},fromIntVector:function(t){return t},fromFloatVector:function(t){return t},fromFunctionVector:function(t){return t},fromObjectVector:function(t){return t},get_fixed:function(t){return t.fixed},set_fixed:function(t,e){return t.fixed=e},get_length:function(t){return t.get_length()},set_length:function(t,e){return t.set_length(e)}},ie=function(t,e,n){this.__pool=new vc,this.inactiveObjects=this.activeObjects=0,this.__inactiveObject1=this.__inactiveObject0=null,this.__inactiveObjectList=new dd,null!=t&&(this.create=t),null!=e&&(this.clean=e),null!=n&&this.set_size(n)};r["lime.utils.ObjectPool"]=ie,ie.__name__="lime.utils.ObjectPool",ie.prototype={activeObjects:null,inactiveObjects:null,__inactiveObject0:null,__inactiveObject1:null,__inactiveObjectList:null,__pool:null,__size:null,add:function(t){this.__pool.exists(t)||(this.__pool.set(t,!1),this.clean(t),null==this.__inactiveObject0?this.__inactiveObject0=t:null==this.__inactiveObject1?this.__inactiveObject1=t:this.__inactiveObjectList.add(t),this.inactiveObjects++)},clean:function(t){},clear:function(){this.__pool=new vc,this.inactiveObjects=this.activeObjects=0,this.__inactiveObject1=this.__inactiveObject0=null,this.__inactiveObjectList.clear()},create:function(){return null},get:function(){var t=null;return 0<this.inactiveObjects?(null!=this.__inactiveObject0?(t=this.__inactiveObject0,this.__inactiveObject0=null):null!=this.__inactiveObject1?(t=this.__inactiveObject1,this.__inactiveObject1=null):(t=this.__inactiveObjectList.pop(),0<this.__inactiveObjectList.length&&(this.__inactiveObject0=this.__inactiveObjectList.pop()),0<this.__inactiveObjectList.length&&(this.__inactiveObject1=this.__inactiveObjectList.pop())),this.inactiveObjects--,this.activeObjects++):!(null==this.__size||this.activeObjects<this.__size)||null!=(t=this.create())&&(this.__pool.set(t,!0),this.activeObjects++),t},release:function(t){this.activeObjects--,null==this.__size||this.activeObjects+this.inactiveObjects<this.__size?(this.clean(t),null==this.__inactiveObject0?this.__inactiveObject0=t:null==this.__inactiveObject1?this.__inactiveObject1=t:this.__inactiveObjectList.add(t),this.inactiveObjects++):this.__pool.remove(t)},remove:function(t){this.__pool.exists(t)&&(this.__pool.remove(t),this.__inactiveObject0==t?(this.__inactiveObject0=null,this.inactiveObjects--):this.__inactiveObject1==t?(this.__inactiveObject1=null,this.inactiveObjects--):this.__inactiveObjectList.remove(t)?this.inactiveObjects--:this.activeObjects--)},__addInactive:function(t){null==this.__inactiveObject0?this.__inactiveObject0=t:null==this.__inactiveObject1?this.__inactiveObject1=t:this.__inactiveObjectList.add(t),this.inactiveObjects++},__getInactive:function(){var t;return null!=this.__inactiveObject0?(t=this.__inactiveObject0,this.__inactiveObject0=null):null!=this.__inactiveObject1?(t=this.__inactiveObject1,this.__inactiveObject1=null):(t=this.__inactiveObjectList.pop(),0<this.__inactiveObjectList.length&&(this.__inactiveObject0=this.__inactiveObjectList.pop()),0<this.__inactiveObjectList.length&&(this.__inactiveObject1=this.__inactiveObjectList.pop())),this.inactiveObjects--,this.activeObjects++,t},__removeInactive:function(t){if(!(t<=0||0==this.inactiveObjects)&&(null!=this.__inactiveObject0&&(this.__pool.remove(this.__inactiveObject0),this.__inactiveObject0=null,this.inactiveObjects--,--t),0!=t&&0!=this.inactiveObjects&&(null!=this.__inactiveObject1&&(this.__pool.remove(this.__inactiveObject1),this.__inactiveObject1=null,this.inactiveObjects--,--t),0!=t&&0!=this.inactiveObjects)))for(var e=this.__inactiveObjectList.h;null!=e;){var n=e.item,e=e.next;if(this.__pool.remove(n),this.__inactiveObjectList.remove(n),this.inactiveObjects--,0==--t||0==this.inactiveObjects)break}},get_size:function(){return this.__size},set_size:function(t){if(null==t)this.__size=null;else{var e=this.inactiveObjects+this.activeObjects;if((this.__size=t)<e)this.__removeInactive(e-t);else if(e<t)for(var n=0,s=t-e;n<s&&(n++,null!=(e=this.create()));)this.__pool.set(e,!1),this.__inactiveObjectList.add(e),this.inactiveObjects++}return t},__class__:ie,__properties__:{set_size:"set_size",get_size:"get_size"}};var P=function(){};r["haxe.IMap"]=P,P.__name__="haxe.IMap",P.__isInterface__=!0,P.prototype={get:null,set:null,exists:null,remove:null,keys:null,iterator:null,keyValueIterator:null,__class__:P};var vc=function(){this.h={__keys__:{}}};r["haxe.ds.ObjectMap"]=vc,vc.__name__="haxe.ds.ObjectMap",vc.__interfaces__=[P],vc.count=null,vc.prototype={h:null,set:function(t,e){var n=t.__id__;null==n&&(n=t.__id__=Fa.$haxeUID++),this.h[n]=e,this.h.__keys__[n]=t},get:function(t){return this.h[t.__id__]},exists:function(t){return null!=this.h.__keys__[t.__id__]},remove:function(t){return t=t.__id__,null!=this.h.__keys__[t]&&(delete this.h[t],delete this.h.__keys__[t],!0)},keys:function(){var t,e=[];for(t in this.h.__keys__)this.h.hasOwnProperty(t)&&e.push(this.h.__keys__[t]);return new Hf(e)},iterator:function(){return{ref:this.h,it:this.keys(),hasNext:function(){return this.it.hasNext()},next:function(){var t=this.it.next();return this.ref[t.__id__]}}},keyValueIterator:function(){return new Nh(this)},toString:function(){for(var t="{",e=this.keys();e.hasNext();){var n=e.next();t+=U.string(U.string(n)),t+=" => ",t+=U.string(U.string(this.h[n.__id__])),e.hasNext()&&(t+=", ")}return t+"}"},__class__:vc};var dd=function(){this.length=0};r["haxe.ds.List"]=dd,dd.__name__="haxe.ds.List",dd.prototype={h:null,q:null,length:null,add:function(t){t=new Nm(t,null),null==this.h?this.h=t:this.q.next=t,this.q=t,this.length++},push:function(t){this.h=t=new Nm(t,this.h),null==this.q&&(this.q=t),this.length++},pop:function(){if(null==this.h)return null;var t=this.h.item;return this.h=this.h.next,null==this.h&&(this.q=null),this.length--,t},clear:function(){this.q=this.h=null,this.length=0},remove:function(t){for(var e=null,n=this.h;null!=n;){if(n.item==t)return null==e?this.h=n.next:e.next=n.next,this.q==n&&(this.q=e),this.length--,!0;n=(e=n).next}return!1},iterator:function(){return new xq(this.h)},__class__:dd};var Sa=function(){zb.call(this),this.__alpha=this.__drawableType=1,this.__blendMode=10,this.__cacheAsBitmap=!1,this.__transform=new nb,this.__visible=!0,this.__rotationSine=this.__rotation=0,this.__worldAlpha=this.__scaleY=this.__scaleX=this.__rotationCosine=1,this.__worldBlendMode=10,this.__worldTransform=new nb,this.__worldColorTransform=new Ic,this.__renderTransform=new nb,this.__worldVisible=!0,this.set_name("instance"+ ++Sa.__instanceCount),null!=Sa.__initStage&&(this.stage=Sa.__initStage,Sa.__initStage=null,this.stage.addChild(this))};r["openfl.display.DisplayObject"]=Sa,Sa.__name__="openfl.display.DisplayObject",Sa.__interfaces__=[Lc],Sa.__initStage=null,Sa.__supportDOM=null,Sa.__calculateAbsoluteTransform=function(t,e,n){n.a=t.a*e.a+t.b*e.c,n.b=t.a*e.b+t.b*e.d,n.c=t.c*e.a+t.d*e.c,n.d=t.c*e.b+t.d*e.d,n.tx=t.tx*e.a+t.ty*e.c+e.tx,n.ty=t.tx*e.b+t.ty*e.d+e.ty},Sa.__super__=zb,Sa.prototype=D(zb.prototype,{opaqueBackground:null,parent:null,stage:null,__alpha:null,__blendMode:null,__cacheAsBitmap:null,__cacheAsBitmapMatrix:null,__cacheBitmap:null,__cacheBitmapBackground:null,__cacheBitmapColorTransform:null,__cacheBitmapData:null,__cacheBitmapData2:null,__cacheBitmapData3:null,__cacheBitmapMatrix:null,__cacheBitmapRenderer:null,__cairo:null,__children:null,__customRenderClear:null,__customRenderEvent:null,__drawableType:null,__filters:null,__graphics:null,__interactive:null,__isCacheBitmapRender:null,__isMask:null,__loaderInfo:null,__mask:null,__maskTarget:null,__name:null,__objectTransform:null,__renderable:null,__renderDirty:null,__renderParent:null,__renderTransform:null,__renderTransformCache:null,__renderTransformChanged:null,__rotation:null,__rotationCosine:null,__rotationSine:null,__scale9Grid:null,__scaleX:null,__scaleY:null,__scrollRect:null,__shader:null,__tempPoint:null,__transform:null,__transformDirty:null,__visible:null,__worldAlpha:null,__worldAlphaChanged:null,__worldBlendMode:null,__worldClip:null,__worldClipChanged:null,__worldColorTransform:null,__worldShader:null,__worldScale9Grid:null,__worldTransform:null,__worldVisible:null,__worldVisibleChanged:null,__worldTransformInvalid:null,__worldZ:null,__canvas:null,__context:null,__style:null,addEventListener:function(t,e,n,s,i){switch(null==i&&(i=!1),null==s&&(s=0),null==n&&(n=!1),t){case"activate":case"deactivate":case"enterFrame":case"exitFrame":case"frameConstructed":case"render":Object.prototype.hasOwnProperty.call(Sa.__broadcastEvents.h,t)||(Sa.__broadcastEvents.h[t]=[]);var a=Sa.__broadcastEvents.h[t];-1==a.indexOf(this)&&a.push(this);break;case"clearDOM":case"renderCairo":case"renderCanvas":case"renderDOM":case"renderOpenGL":null==this.__customRenderEvent&&(this.__customRenderEvent=new Yh(null),this.__customRenderEvent.objectColorTransform=new Ic,this.__customRenderEvent.objectMatrix=new nb,this.__customRenderClear=!0)}zb.prototype.addEventListener.call(this,t,e,n,s,i)},dispatchEvent:function(t){var e;return(t instanceof $b||t instanceof qe)&&(e=this.__getRenderTransform(),t.stageX=t.localX*e.a+t.localY*e.c+e.tx,e=this.__getRenderTransform(),t.stageY=t.localX*e.b+t.localY*e.d+e.ty),(t.target=this).__dispatchWithCapture(t)},getBounds:function(t){var e,n=nb.__pool.get();return null!=t&&t!=this?(n.copyFrom(this.__getWorldTransform()),(e=nb.__pool.get()).copyFrom(t.__getWorldTransform()),e.invert(),n.concat(e),nb.__pool.release(e)):n.identity(),t=new qa,this.__getBounds(t,n),nb.__pool.release(n),t},getRect:function(t){return this.getBounds(t)},globalToLocal:function(t){return this.__globalToLocal(t,new tb)},hitTestObject:function(t){if(null==t||null==t.parent||null==this.parent)return!1;var e=this.getBounds(this);return t=t.getBounds(this),e.intersects(t)},hitTestPoint:function(t,e,n){return null==n&&(n=!1),null!=this.stage&&this.__hitTest(t,e,n,null,!1,this)},invalidate:function(){this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty())},localToGlobal:function(t){return this.__getRenderTransform().transformPoint(t)},removeEventListener:function(t,e,n){switch(zb.prototype.removeEventListener.call(this,t,e,n=null==n?!1:n),t){case"activate":case"deactivate":case"enterFrame":case"exitFrame":case"frameConstructed":case"render":this.hasEventListener(t)||Object.prototype.hasOwnProperty.call(Sa.__broadcastEvents.h,t)&&oa.remove(Sa.__broadcastEvents.h[t],this);break;case"clearDOM":case"renderCairo":case"renderCanvas":case"renderDOM":case"renderOpenGL":this.hasEventListener("clearDOM")||this.hasEventListener("renderCairo")||this.hasEventListener("renderCanvas")||this.hasEventListener("renderDOM")||this.hasEventListener("renderOpenGL")||(this.__customRenderEvent=null)}},__cleanup:function(){(this.__context=this.__canvas=this.__cairo=null)!=this.__graphics&&this.__graphics.__cleanup(),null!=this.__cacheBitmap&&(this.__cacheBitmap.__cleanup(),this.__cacheBitmap=null),null!=this.__cacheBitmapData&&(this.__cacheBitmapData.dispose(),this.__cacheBitmapData=null)},__dispatch:function(t){if(null!=this.__eventMap&&this.hasEventListener(t.type)){var e=zb.prototype.__dispatchEvent.call(this,t);return!!t.__isCanceled||e}return!0},__dispatchChildren:function(t){},__dispatchEvent:function(t){var e=t.bubbles?this.parent:null,n=zb.prototype.__dispatchEvent.call(this,t);return!!t.__isCanceled||(null!=e&&e!=this&&(t.eventPhase=3,null==t.target&&(t.target=this),e.__dispatchEvent(t)),n)},__dispatchWithCapture:function(t){if(null==t.target&&(t.target=this),null!=this.parent)if(t.eventPhase=1,this.parent==this.stage)this.parent.__dispatch(t);else{for(var e=Sa.__tempStack.get(),n=this.parent,s=0;null!=n;)e.set(s,n),n=n.parent,++s;for(var n=0,i=s;n<i;){var a=n++;e.get(s-a-1).__dispatch(t)}Sa.__tempStack.release(e)}return t.eventPhase=2,this.__dispatchEvent(t)},__enterFrame:function(t){},__getBounds:function(t,e){null!=this.__graphics&&this.__graphics.__getBounds(t,e)},__getCursor:function(){return null},__getFilterBounds:function(t,e){if(this.__getRenderBounds(t,e),null!=this.__filters){e=qa.__pool.get();for(var n=0,s=this.__filters;n<s.length;){var i=s[n];++n,e.__expand(-i.__leftExtension,-i.__topExtension,i.__leftExtension+i.__rightExtension,i.__topExtension+i.__bottomExtension)}t.width+=e.width,t.height+=e.height,t.x+=e.x,t.y+=e.y,qa.__pool.release(e)}},__getInteractive:function(t){return!1},__getLocalBounds:function(t){this.__getBounds(t,this.__transform),t.x-=this.__transform.tx,t.y-=this.__transform.ty},__getRenderBounds:function(t,e){var n;null==this.__scrollRect?this.__getBounds(t,e):((n=qa.__pool.get()).copyFrom(this.__scrollRect),n.__transform(n,e),t.__expand(n.x,n.y,n.width,n.height),qa.__pool.release(n))},__getRenderTransform:function(){return this.__getWorldTransform(),this.__renderTransform},__getWorldTransform:function(){if(this.__transformDirty||this.__worldTransformInvalid){var t=[],e=this;if(null==this.parent)this.__update(!0,!1);else for(;e!=this.stage&&(t.push(e),null!=(e=e.parent)););for(var n=t.length;0<=--n;)(e=t[n]).__update(!0,!1)}return this.__worldTransform},__globalToLocal:function(t,e){var n,s,i;return this.__getRenderTransform(),t==e?0==(s=(n=this.__renderTransform).a*n.d-n.b*n.c)?(t.x=-n.tx,t.y=-n.ty):(i=1/s*(n.c*(n.ty-t.y)+n.d*(t.x-n.tx)),t.y=1/s*(n.a*(t.y-n.ty)+n.b*(n.tx-t.x)),t.x=i):(s=(n=this.__renderTransform).a*n.d-n.b*n.c,e.x=0==s?-n.tx:1/s*(n.c*(n.ty-t.y)+n.d*(t.x-n.tx)),s=(n=this.__renderTransform).a*n.d-n.b*n.c,e.y=0==s?-n.ty:1/s*(n.a*(t.y-n.ty)+n.b*(n.tx-t.x))),e},__hitTest:function(t,e,n,s,i,a){if(null!=this.__graphics){if(!a.__visible||this.__isMask||null!=this.get_mask()&&!this.get_mask().__hitTestMask(t,e))return!1;if(this.__graphics.__hitTest(t,e,n,this.__getRenderTransform()))return null==s||i||s.push(a),!0}return!1},__hitTestMask:function(t,e){return!(null==this.__graphics||!this.__graphics.__hitTest(t,e,!0,this.__getRenderTransform()))},__readGraphicsData:function(t,e){null!=this.__graphics&&this.__graphics.__readGraphicsData(t)},__setParentRenderDirty:function(){var t=null!=this.__renderParent?this.__renderParent:this.parent;null==t||t.__renderDirty||(t.__renderDirty=!0,t.__setParentRenderDirty())},__setRenderDirty:function(){this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty())},__setStageReference:function(t){this.stage=t},__setTransformDirty:function(){this.__transformDirty||(this.__transformDirty=!0,this.__setWorldTransformInvalid(),this.__setParentRenderDirty())},__setWorldTransformInvalid:function(){this.__worldTransformInvalid=!0},__stopAllMovieClips:function(){},__update:function(t,e){var n,s=null!=this.__renderParent?this.__renderParent:this.parent;this.__isMask&&null==s&&(s=this.__maskTarget),this.__renderable=this.__visible&&0!=this.__scaleX&&0!=this.__scaleY&&!this.__isMask&&(null==s||!s.__isMask),this.__updateTransforms(),this.__worldTransformInvalid=this.__transformDirty=!1,t||(Sa.__supportDOM&&(this.__renderTransformChanged=!this.__renderTransform.equals(this.__renderTransformCache),null==this.__renderTransformCache?this.__renderTransformCache=this.__renderTransform.clone():this.__renderTransformCache.copyFrom(this.__renderTransform)),null!=s?(Sa.__supportDOM?(n=s.__worldVisible&&this.__visible,this.__worldVisibleChanged=this.__worldVisible!=n,this.__worldVisible=n,n=this.get_alpha()*s.__worldAlpha,this.__worldAlphaChanged=this.__worldAlpha!=n,this.__worldAlpha=n):this.__worldAlpha=this.get_alpha()*s.__worldAlpha,null!=this.__objectTransform?(this.__worldColorTransform.__copyFrom(this.__objectTransform.__colorTransform),this.__worldColorTransform.__combine(s.__worldColorTransform)):this.__worldColorTransform.__copyFrom(s.__worldColorTransform),this.__worldBlendMode=null==this.__blendMode||10==this.__blendMode?s.__worldBlendMode:this.__blendMode,this.__worldShader=(null==this.__shader?s:this).__shader,this.__worldScale9Grid=(null==this.__scale9Grid?s:this).__scale9Grid):(this.__worldAlpha=this.get_alpha(),Sa.__supportDOM&&(this.__worldVisibleChanged=this.__worldVisible!=this.__visible,this.__worldVisible=this.__visible,this.__worldAlphaChanged=this.__worldAlpha!=this.get_alpha()),null!=this.__objectTransform?this.__worldColorTransform.__copyFrom(this.__objectTransform.__colorTransform):this.__worldColorTransform.__identity(),this.__worldBlendMode=this.__blendMode,this.__worldShader=this.__shader,this.__worldScale9Grid=this.__scale9Grid)),e&&null!=this.get_mask()&&this.get_mask().__update(t,!0)},__updateTransforms:function(t){var e=null!=t;t=e?t:this.__transform,null==this.__worldTransform&&(this.__worldTransform=new nb),null==this.__renderTransform&&(this.__renderTransform=new nb);var n,s,i=null!=this.__renderParent?this.__renderParent:this.parent;e||null==this.parent?this.__worldTransform.copyFrom(t):(n=this.parent.__worldTransform,(s=this.__worldTransform).a=t.a*n.a+t.b*n.c,s.b=t.a*n.b+t.b*n.d,s.c=t.c*n.a+t.d*n.c,s.d=t.c*n.b+t.d*n.d,s.tx=t.tx*n.a+t.ty*n.c+n.tx,s.ty=t.tx*n.b+t.ty*n.d+n.ty),e||null==i?this.__renderTransform.copyFrom(t):(n=i.__renderTransform,(s=this.__renderTransform).a=t.a*n.a+t.b*n.c,s.b=t.a*n.b+t.b*n.d,s.c=t.c*n.a+t.d*n.c,s.d=t.c*n.b+t.d*n.d,s.tx=t.tx*n.a+t.ty*n.c+n.tx,s.ty=t.tx*n.b+t.ty*n.d+n.ty),null!=this.__scrollRect&&(e=this.__renderTransform,t=-this.__scrollRect.x,i=-this.__scrollRect.y,e.tx=t*e.a+i*e.c+e.tx,e.ty=t*e.b+i*e.d+e.ty)},get_alpha:function(){return this.__alpha},set_alpha:function(t){return(t=(t=1<t?1:t)<0?0:t)==this.__alpha||this.get_cacheAsBitmap()||this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty()),this.__alpha=t},get_blendMode:function(){return this.__blendMode},set_blendMode:function(t){return(t=null==t?10:t)==this.__blendMode||this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty()),this.__blendMode=t},get_cacheAsBitmap:function(){return null!=this.__filters||this.__cacheAsBitmap},set_cacheAsBitmap:function(t){return t==this.__cacheAsBitmap||this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty()),this.__cacheAsBitmap=t},get_cacheAsBitmapMatrix:function(){return this.__cacheAsBitmapMatrix},set_cacheAsBitmapMatrix:function(t){return this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty()),this.__cacheAsBitmapMatrix=null!=t?t.clone():t},get_filters:function(){return null==this.__filters?[]:this.__filters.slice()},set_filters:function(t){return null!=t&&0<t.length?(this.__filters=t,this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty())):null!=this.__filters&&(this.__filters=null,this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty())),t},get_height:function(){var t=qa.__pool.get();this.__getLocalBounds(t);var e=t.height;return qa.__pool.release(t),e},set_height:function(t){var e=qa.__pool.get(),n=nb.__pool.get();return n.identity(),this.__getBounds(e,n),t!=e.height?this.set_scaleY(t/e.height):this.set_scaleY(1),qa.__pool.release(e),nb.__pool.release(n),t},get_loaderInfo:function(){return null!=this.stage?ld.current.__loaderInfo:null},get_mask:function(){return this.__mask},set_mask:function(t){return t==this.__mask?t:(t!=this.__mask&&(this.__setTransformDirty(),this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty())),null!=this.__mask&&(this.__mask.__isMask=!1,this.__mask.__maskTarget=null,this.__mask.__setTransformDirty(),(e=this.__mask).__renderDirty||(e.__renderDirty=!0,e.__setParentRenderDirty())),null!=t&&(t.__isMask=!0,t.__maskTarget=this,t.__setWorldTransformInvalid()),null!=this.__cacheBitmap&&this.__cacheBitmap.get_mask()!=t&&this.__cacheBitmap.set_mask(t),this.__mask=t);var e},get_mouseX:function(){var t=(null!=this.stage?this:ld.current).stage.__mouseX,e=(null!=this.stage?this:ld.current).stage.__mouseY,n=this.__getRenderTransform(),s=n.a*n.d-n.b*n.c;return 0==s?-n.tx:1/s*(n.c*(n.ty-e)+n.d*(t-n.tx))},get_mouseY:function(){var t=(null!=this.stage?this:ld.current).stage.__mouseX,e=(null!=this.stage?this:ld.current).stage.__mouseY,n=this.__getRenderTransform(),s=n.a*n.d-n.b*n.c;return 0==s?-n.ty:1/s*(n.a*(e-n.ty)+n.b*(n.tx-t))},get_name:function(){return this.__name},set_name:function(t){return this.__name=t},get_root:function(){return null!=this.stage?ld.current:null},get_rotation:function(){return this.__rotation},set_rotation:function(t){var e;return t!=this.__rotation&&(this.__rotation=t,e=Math.PI/180*this.__rotation,this.__rotationSine=Math.sin(e),this.__rotationCosine=Math.cos(e),this.__transform.a=this.__rotationCosine*this.__scaleX,this.__transform.b=this.__rotationSine*this.__scaleX,this.__transform.c=-this.__rotationSine*this.__scaleY,this.__transform.d=this.__rotationCosine*this.__scaleY,this.__setTransformDirty()),t},get_scale9Grid:function(){return null==this.__scale9Grid?null:this.__scale9Grid.clone()},set_scale9Grid:function(t){return null==t&&null==this.__scale9Grid||null!=t&&null!=this.__scale9Grid&&this.__scale9Grid.equals(t)||(null!=t?(null==this.__scale9Grid&&(this.__scale9Grid=new qa),this.__scale9Grid.copyFrom(t)):this.__scale9Grid=null,this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty())),t},get_scaleX:function(){return this.__scaleX},set_scaleX:function(t){var e,n;return t!=this.__scaleX&&(this.__scaleX=t,0==this.__transform.b?(t!=this.__transform.a&&this.__setTransformDirty(),this.__transform.a=t):(e=this.__rotationCosine*t,n=this.__rotationSine*t,this.__transform.a==e&&this.__transform.b==n||this.__setTransformDirty(),this.__transform.a=e,this.__transform.b=n)),t},get_scaleY:function(){return this.__scaleY},set_scaleY:function(t){var e,n;return t!=this.__scaleY&&(this.__scaleY=t,0==this.__transform.c?(t!=this.__transform.d&&this.__setTransformDirty(),this.__transform.d=t):(e=-this.__rotationSine*t,n=this.__rotationCosine*t,this.__transform.d==n&&this.__transform.c==e||this.__setTransformDirty(),this.__transform.c=e,this.__transform.d=n)),t},get_scrollRect:function(){return null==this.__scrollRect?null:this.__scrollRect.clone()},set_scrollRect:function(t){return null==t&&null==this.__scrollRect||null!=t&&null!=this.__scrollRect&&this.__scrollRect.equals(t)||(null!=t?(null==this.__scrollRect&&(this.__scrollRect=new qa),this.__scrollRect.copyFrom(t)):this.__scrollRect=null,this.__setTransformDirty(),Sa.__supportDOM&&!this.__renderDirty&&(this.__renderDirty=!0,this.__setParentRenderDirty())),t},get_shader:function(){return this.__shader},set_shader:function(t){return this.__shader=t,this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty()),t},get_transform:function(){return null==this.__objectTransform&&(this.__objectTransform=new Om(this)),this.__objectTransform},set_transform:function(t){if(null==t)throw G.thrown(new tl("Parameter transform must be non-null."));return null==this.__objectTransform&&(this.__objectTransform=new Om(this)),this.__setTransformDirty(),this.__objectTransform.set_matrix(t.get_matrix()),this.__objectTransform.__colorTransform.__equals(t.__colorTransform,!0)&&(this.get_cacheAsBitmap()||this.__objectTransform.__colorTransform.alphaMultiplier==t.__colorTransform.alphaMultiplier)||(this.__objectTransform.__colorTransform.__copyFrom(t.get_colorTransform()),this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty())),this.__objectTransform},get_visible:function(){return this.__visible},set_visible:function(t){return t==this.__visible||this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty()),this.__visible=t},get_width:function(){var t=qa.__pool.get();this.__getLocalBounds(t);var e=t.width;return qa.__pool.release(t),e},set_width:function(t){var e=qa.__pool.get(),n=nb.__pool.get();return n.identity(),this.__getBounds(e,n),t!=e.width?this.set_scaleX(t/e.width):this.set_scaleX(1),qa.__pool.release(e),nb.__pool.release(n),t},get_x:function(){return this.__transform.tx},set_x:function(t){return t!=this.__transform.tx&&this.__setTransformDirty(),this.__transform.tx=t},get_y:function(){return this.__transform.ty},set_y:function(t){return t!=this.__transform.ty&&this.__setTransformDirty(),this.__transform.ty=t},__class__:Sa,__properties__:{set_y:"set_y",get_y:"get_y",set_x:"set_x",get_x:"get_x",set_width:"set_width",get_width:"get_width",set_visible:"set_visible",get_visible:"get_visible",set_transform:"set_transform",get_transform:"get_transform",set_shader:"set_shader",get_shader:"get_shader",set_scrollRect:"set_scrollRect",get_scrollRect:"get_scrollRect",set_scaleY:"set_scaleY",get_scaleY:"get_scaleY",set_scaleX:"set_scaleX",get_scaleX:"get_scaleX",set_scale9Grid:"set_scale9Grid",get_scale9Grid:"get_scale9Grid",set_rotation:"set_rotation",get_rotation:"get_rotation",get_root:"get_root",set_name:"set_name",get_name:"get_name",get_mouseY:"get_mouseY",get_mouseX:"get_mouseX",set_mask:"set_mask",get_mask:"get_mask",get_loaderInfo:"get_loaderInfo",set_height:"set_height",get_height:"get_height",set_filters:"set_filters",get_filters:"get_filters",set_cacheAsBitmapMatrix:"set_cacheAsBitmapMatrix",get_cacheAsBitmapMatrix:"get_cacheAsBitmapMatrix",set_cacheAsBitmap:"set_cacheAsBitmap",get_cacheAsBitmap:"get_cacheAsBitmap",set_blendMode:"set_blendMode",get_blendMode:"get_blendMode",set_alpha:"set_alpha",get_alpha:"get_alpha"}});var yb=function(){Sa.call(this),this.doubleClickEnabled=!1,this.mouseEnabled=!0,this.needsSoftKeyboard=!1,this.__tabEnabled=null,this.__tabIndex=-1};r["openfl.display.InteractiveObject"]=yb,yb.__name__="openfl.display.InteractiveObject",yb.__super__=Sa,yb.prototype=D(Sa.prototype,{doubleClickEnabled:null,focusRect:null,mouseEnabled:null,needsSoftKeyboard:null,softKeyboardInputAreaOfInterest:null,__tabEnabled:null,__tabIndex:null,requestSoftKeyboard:function(){return ld.notImplemented({fileName:"openfl/display/InteractiveObject.hx",lineNumber:1251,className:"openfl.display.InteractiveObject",methodName:"requestSoftKeyboard"}),!1},__allowMouseFocus:function(){return this.get_tabEnabled()},__getInteractive:function(t){return null!=t&&(t.push(this),null!=this.parent&&this.parent.__getInteractive(t)),!0},__hitTest:function(t,e,n,s,i,a){return!(!a.get_visible()||this.__isMask||i&&!this.mouseEnabled)&&Sa.prototype.__hitTest.call(this,t,e,n,s,i,a)},__tabTest:function(t){this.get_tabEnabled()&&t.push(this)},get_tabEnabled:function(){return 1==this.__tabEnabled},set_tabEnabled:function(t){return this.__tabEnabled!=t&&(this.__tabEnabled=t,this.dispatchEvent(new Ka("tabEnabledChange",!0,!1))),this.__tabEnabled},get_tabIndex:function(){return this.__tabIndex},set_tabIndex:function(t){if(this.__tabIndex!=t){if(t<-1)throw G.thrown(new Aj("Parameter tabIndex must be a non-negative number; got "+t));this.__tabIndex=t,this.dispatchEvent(new Ka("tabIndexChange",!0,!1))}return this.__tabIndex},__class__:yb,__properties__:D(Sa.prototype.__properties__,{set_tabIndex:"set_tabIndex",get_tabIndex:"get_tabIndex",set_tabEnabled:"set_tabEnabled",get_tabEnabled:"get_tabEnabled"})});var Ib=function(){yb.call(this),this.__tabChildren=this.mouseChildren=!0,this.__children=[],this.__removedChildren=wb.toObjectVector(null)};r["openfl.display.DisplayObjectContainer"]=Ib,Ib.__name__="openfl.display.DisplayObjectContainer",Ib.__super__=yb,Ib.prototype=D(yb.prototype,{mouseChildren:null,__removedChildren:null,__tabChildren:null,addChild:function(t){return this.addChildAt(t,this.get_numChildren())},addChildAt:function(t,e){if(null==t)throw(t=new tl("Error #2007: Parameter child must be non-null.")).errorID=2007,G.thrown(t);if(t.stage==t)throw(t=new Bj("Error #3783: A Stage object cannot be added as the child of another object.")).errorID=3783,G.thrown(t);if(e>this.__children.length||e<0)throw G.thrown("Invalid index position "+e);var n;return t.parent==this?this.__children[e]!=t&&(oa.remove(this.__children,t),this.__children.splice(e,0,t),this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty())):(null!=t.parent&&t.parent.removeChild(t),this.__children.splice(e,0,t),(e=null!=(t.parent=this).stage&&null==t.stage)&&t.__setStageReference(this.stage),t.__setTransformDirty(),t.__renderDirty||(t.__renderDirty=!0,t.__setParentRenderDirty()),this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty()),(n=new Ka("added")).bubbles=!0,(n.target=t).__dispatchWithCapture(n),e&&(n=new Ka("addedToStage",!1,!1),t.__dispatchWithCapture(n),t.__dispatchChildren(n))),t},areInaccessibleObjectsUnderPoint:function(t){return!1},contains:function(t){for(;t!=this&&null!=t;)t=t.parent;return t==this},getChildAt:function(t){return 0<=t&&t<this.__children.length?this.__children[t]:null},getChildByName:function(t){for(var e=0,n=this.__children;e<n.length;){var s=n[e];if(++e,s.get_name()==t)return s}return null},getChildIndex:function(t){for(var e=0,n=this.__children.length;e<n;){var s=e++;if(this.__children[s]==t)return s}return-1},getObjectsUnderPoint:function(t){var e=[];return this.__hitTest(t.x,t.y,!1,e,!1,this),e.reverse(),e},removeChild:function(t){var e;return null!=t&&t.parent==this&&(t.__setTransformDirty(),t.__renderDirty||(t.__renderDirty=!0,t.__setParentRenderDirty()),this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty()),e=new Ka("removed",!0),t.__dispatchWithCapture(e),null!=this.stage&&(null!=t.stage&&this.stage.get_focus()==t&&this.stage.set_focus(null),e=new Ka("removedFromStage",!1,!1),t.__dispatchWithCapture(e),t.__dispatchChildren(e),t.__setStageReference(null)),t.parent=null,oa.remove(this.__children,t),this.__removedChildren.push(t),t.__setTransformDirty()),t},removeChildAt:function(t){return 0<=t&&t<this.__children.length?this.removeChild(this.__children[t]):null},removeChildren:function(t,e){if(null==t&&(t=0),!(2147483647==(e=null==e?2147483647:e)&&(e=this.__children.length-1)<0||t>this.__children.length-1)){if(e<t||t<0||e>this.__children.length)throw G.thrown(new Aj("The supplied index is out of bounds."));for(e-=t;0<=e;)this.removeChildAt(t),--e}},resolve:function(t){if(null==this.__children)return null;for(var e=0,n=this.__children;e<n.length;){var s=n[e];if(++e,s.get_name()==t)return s}return null},setChildIndex:function(t,e){0<=e&&e<=this.__children.length&&t.parent==this&&(oa.remove(this.__children,t),this.__children.splice(e,0,t))},stopAllMovieClips:function(){this.__stopAllMovieClips()},swapChildren:function(t,e){var n,s;t.parent==this&&e.parent==this&&(n=this.__children.indexOf(t),s=this.__children.indexOf(e),this.__children[n]=e,this.__children[s]=t,this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty()))},swapChildrenAt:function(t,e){var n=this.__children[t];this.__children[t]=this.__children[e],this.__children[e]=n,this.__renderDirty||(this.__renderDirty=!0,this.__setParentRenderDirty())},__cleanup:function(){yb.prototype.__cleanup.call(this);for(var t=0,e=this.__children;t<e.length;){var n=e[t];++t,n.__cleanup()}for(t=this.__removedChildren.iterator();t.hasNext();)null==(e=t.next()).stage&&e.__cleanup();this.__removedChildren.set_length(0)},__cleanupRemovedChildren:function(){for(var t=this.__removedChildren.iterator();t.hasNext();){var e=t.next();null==e.stage&&e.__cleanup()}this.__removedChildren.set_length(0)},__dispatchChildren:function(t){if(null!=this.__children)for(var e=0,n=this.__children;e<n.length;){var s=n[e];if(++e,!(t.target=s).__dispatchWithCapture(t))break;s.__dispatchChildren(t)}},__enterFrame:function(t){for(var e=0,n=this.__children;e<n.length;){var s=n[e];++e,s.__enterFrame(t)}},__getBounds:function(t,e){if(yb.prototype.__getBounds.call(this,t,e),0!=this.__children.length){for(var n=nb.__pool.get(),s=0,i=this.__children;s<i.length;){var a,r=i[s];++s,0!=r.__scaleX&&0!=r.__scaleY&&(a=r.__transform,n.a=a.a*e.a+a.b*e.c,n.b=a.a*e.b+a.b*e.d,n.c=a.c*e.a+a.d*e.c,n.d=a.c*e.b+a.d*e.d,n.tx=a.tx*e.a+a.ty*e.c+e.tx,n.ty=a.tx*e.b+a.ty*e.d+e.ty,r.__getBounds(t,n))}nb.__pool.release(n)}},__getFilterBounds:function(t,e){if(yb.prototype.__getFilterBounds.call(this,t,e),null==this.__scrollRect&&0!=this.__children.length){for(var n=nb.__pool.get(),s=0,i=this.__children;s<i.length;){var a,r=i[s];++s,0==r.__scaleX||0==r.__scaleY||r.__isMask||(a=r.__transform,n.a=a.a*e.a+a.b*e.c,n.b=a.a*e.b+a.b*e.d,n.c=a.c*e.a+a.d*e.c,n.d=a.c*e.b+a.d*e.d,n.tx=a.tx*e.a+a.ty*e.c+e.tx,n.ty=a.tx*e.b+a.ty*e.d+e.ty,a=qa.__pool.get(),r.__getFilterBounds(a,n),t.__expand(a.x,a.y,a.width,a.height),qa.__pool.release(a))}nb.__pool.release(n)}},__getRenderBounds:function(t,e){if(null!=this.__scrollRect)yb.prototype.__getRenderBounds.call(this,t,e);else if(yb.prototype.__getBounds.call(this,t,e),0!=this.__children.length){for(var n=nb.__pool.get(),s=0,i=this.__children;s<i.length;){var a,r=i[s];++s,0==r.__scaleX||0==r.__scaleY||r.__isMask||(a=r.__transform,n.a=a.a*e.a+a.b*e.c,n.b=a.a*e.b+a.b*e.d,n.c=a.c*e.a+a.d*e.c,n.d=a.c*e.b+a.d*e.d,n.tx=a.tx*e.a+a.ty*e.c+e.tx,n.ty=a.tx*e.b+a.ty*e.d+e.ty,r.__getRenderBounds(t,n))}nb.__pool.release(n)}},__hitTest:function(t,e,n,s,i,a){if(!a.get_visible()||this.__isMask||i&&!this.mouseEnabled&&!this.mouseChildren||null!=this.get_mask()&&!this.get_mask().__hitTestMask(t,e))return!1;if(null!=this.__scrollRect){var r=tb.__pool.get();r.setTo(t,e);var l,o=this.__getRenderTransform(),h=o.a*o.d-o.b*o.c;if(0==h?(r.x=-o.tx,r.y=-o.ty):(l=1/h*(o.c*(o.ty-r.y)+o.d*(r.x-o.tx)),r.y=1/h*(o.a*(r.y-o.ty)+o.b*(o.tx-r.x)),r.x=l),!this.__scrollRect.containsPoint(r))return tb.__pool.release(r),!1;tb.__pool.release(r)}if(r=this.__children.length,!i){for(h=!1;0<=--r&&(!this.__children[r].__hitTest(t,e,n,s,!1,this.__children[r])||(h=!0,null!=s)););return h}if(null!=s&&this.mouseChildren){if(null!=s){for(i=s.length,h=!1;0<=--r&&!(((o=this.__children[r].__getInteractive(null))||this.mouseEnabled&&!h)&&this.__children[r].__hitTest(t,e,n,s,!0,this.__children[r])&&(h=!0,o&&s.length>i)););if(h)return s.splice(i,0,a),!0}}else for(;0<=--r;)if(this.__children[r].__hitTest(t,e,n,null,!0,this.__children[r]))return null!=s&&s.push(a),!0;return!1},__hitTestMask:function(t,e){for(var n=this.__children.length;0<=--n;)if(this.__children[n].__hitTestMask(t,e))return!0;return!1},__readGraphicsData:function(t,e){if(yb.prototype.__readGraphicsData.call(this,t,e),e)for(var n=0,s=this.__children;n<s.length;){var i=s[n];++n,i.__readGraphicsData(t,e)}},__setStageReference:function(t){if(yb.prototype.__setStageReference.call(this,t),null!=this.__children)for(var e=0,n=this.__children;e<n.length;){var s=n[e];++e,s.__setStageReference(t)}},__setWorldTransformInvalid:function(){if(!this.__worldTransformInvalid&&(this.__worldTransformInvalid=!0,null!=this.__children))for(var t=0,e=this.__children;t<e.length;){var n=e[t];++t,n.__setWorldTransformInvalid()}},__stopAllMovieClips:function(){for(var t=0,e=this.__children;t<e.length;){var n=e[t];++t,n.__stopAllMovieClips()}},__tabTest:function(t){if(yb.prototype.__tabTest.call(this,t),this.get_tabChildren())for(var e=0,n=this.__children;e<n.length;){var s=n[e];++e,s.__getInteractive(null)&&s.__tabTest(t)}},__update:function(t,e){if(yb.prototype.__update.call(this,t,e),e){e=0;for(var n=this.__children;e<n.length;){var s=n[e];++e,s.__update(t,!0)}}},get_numChildren:function(){return this.__children.length},get_tabChildren:function(){return this.__tabChildren},set_tabChildren:function(t){return this.__tabChildren!=t&&(this.__tabChildren=t,this.dispatchEvent(new Ka("tabChildrenChange",!0,!1))),this.__tabChildren},__class__:Ib,__properties__:D(yb.prototype.__properties__,{set_tabChildren:"set_tabChildren",get_tabChildren:"get_tabChildren",get_numChildren:"get_numChildren"})});var La=function(){Ib.call(this),this.__drawableType=4,this.__buttonMode=!1,this.useHandCursor=!0};r["openfl.display.Sprite"]=La,La.__name__="openfl.display.Sprite",La.__super__=Ib,La.prototype=D(Ib.prototype,{dropTarget:null,hitArea:null,useHandCursor:null,__buttonMode:null,startDrag:function(t,e){null==t&&(t=!1),null!=this.stage&&this.stage.__startDrag(this,t,e)},stopDrag:function(){null!=this.stage&&this.stage.__stopDrag(this)},__getCursor:function(){return this.__buttonMode&&this.useHandCursor?"button":null},__hitTest:function(t,e,n,s,i,a){if(i&&!this.mouseEnabled&&!this.mouseChildren)return!1;if(!a.get_visible()||this.__isMask||null!=this.get_mask()&&!this.get_mask().__hitTestMask(t,e))return this.__hitTestHitArea(t,e,n,s,i,a);if(null!=this.__scrollRect){var r=tb.__pool.get();r.setTo(t,e);var l,o=this.__getRenderTransform(),h=o.a*o.d-o.b*o.c;if(0==h?(r.x=-o.tx,r.y=-o.ty):(l=1/h*(o.c*(o.ty-r.y)+o.d*(r.x-o.tx)),r.y=1/h*(o.a*(r.y-o.ty)+o.b*(o.tx-r.x)),r.x=l),!this.__scrollRect.containsPoint(r))return tb.__pool.release(r),this.__hitTestHitArea(t,e,n,s,!0,a);tb.__pool.release(r)}return Ib.prototype.__hitTest.call(this,t,e,n,s,i,a)?null==s||i:null==this.hitArea&&null!=this.__graphics&&this.__graphics.__hitTest(t,e,n,this.__getRenderTransform())?(null==s||i&&!this.mouseEnabled||s.push(a),!0):this.__hitTestHitArea(t,e,n,s,i,a)},__hitTestHitArea:function(t,e,n,s,i,a){return null!=this.hitArea&&!this.hitArea.mouseEnabled&&(this.hitArea.mouseEnabled=!0,t=this.hitArea.__hitTest(t,e,n,null,!0,a),this.hitArea.mouseEnabled=!1,null!=s&&t&&(s[s.length]=a),t)},__hitTestMask:function(t,e){return!!(Ib.prototype.__hitTestMask.call(this,t,e)||null!=this.__graphics&&this.__graphics.__hitTest(t,e,!0,this.__getRenderTransform()))},get_graphics:function(){return null==this.__graphics&&(this.__graphics=new tf(this)),this.__graphics},get_tabEnabled:function(){return null==this.__tabEnabled?this.__buttonMode:this.__tabEnabled},get_buttonMode:function(){return this.__buttonMode},set_buttonMode:function(t){return this.__buttonMode=t},__class__:La,__properties__:D(Ib.prototype.__properties__,{get_graphics:"get_graphics",set_buttonMode:"set_buttonMode",get_buttonMode:"get_buttonMode"})});var Ha=function(){this.startFullscreen=!1,this.skipSplash=!0,this.framerate=120,this.zoom=-1,this.initialState=Zh,this.gameHeight=720,this.gameWidth=1280,La.call(this),null!=this.stage?this.init():this.addEventListener("addedToStage",y(this,this.init))};r.Main=Ha,Ha.__name__="Main",Ha.main=function(){Ga.get_current().addChild(new Ha)},Ha.__super__=La,Ha.prototype=D(La.prototype,{gameWidth:null,gameHeight:null,initialState:null,zoom:null,framerate:null,skipSplash:null,startFullscreen:null,init:function(t){this.hasEventListener("addedToStage")&&this.removeEventListener("addedToStage",y(this,this.init)),this.setupGame()},setupGame:function(){var t=Ga.get_current().stage.stageWidth,e=Ga.get_current().stage.stageHeight;-1==this.zoom&&(this.zoom=Math.min(t/this.gameWidth,e/this.gameHeight),this.gameWidth=Math.ceil(t/this.zoom),this.gameHeight=Math.ceil(e/this.zoom)),this.initialState=Zh,this.game=new Pm(this.gameWidth,this.gameHeight,this.initialState,this.zoom,this.framerate,this.framerate,this.skipSplash,this.startFullscreen),this.addChild(this.game),(t=new yq).init1(),t.video.set_name("HTML CRAP"),this.addChild(t.video),t.init2(),dc.setVid(t),t.source("assets/videos/DO NOT DELETE OR GAME WILL CRASH/dontDelete.webm"),this.fpsCounter=new Qm(10,3,16777215),this.addChild(this.fpsCounter),this.toggleFPS(n.save.data.fps)},game:null,fpsCounter:null,toggleFPS:function(t){this.fpsCounter.set_visible(t)},changeFPSColor:function(t){this.fpsCounter.set_textColor(t)},setFPSCap:function(t){Ga.get_current().stage.set_frameRate(t)},getFPSCap:function(){return Ga.get_current().stage.get_frameRate()},getFPS:function(){return this.fpsCounter.currentFPS},__class__:Ha});var Na=function(t){t.addChild(this),Ha.call(this),this.dispatchEvent(new Ka("addedToStage",!1,!1))};r.DocumentClass=Na,Na.__name__="DocumentClass",Na.__super__=Ha,Na.prototype=D(Ha.prototype,{__class__:Na});var re=function(t,e){this.danceDir=!1,M.call(this,t,e),this.set_frames(lb.fromSparrow(N.getPath("images/limo/limoDancer.png","IMAGE",null),N.getPath("images/limo/limoDancer.xml","TEXT",null))),this.animation.addByIndices("danceLeft","bg dancer sketch PINK",[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14],"",24,!1),this.animation.addByIndices("danceRight","bg dancer sketch PINK",[15,16,17,18,19,20,21,22,23,24,25,26,27,28,29],"",24,!1),this.animation.play("danceLeft"),this.set_antialiasing(!0)};r.BackgroundDancer=re,re.__name__="BackgroundDancer",re.__super__=M,re.prototype=D(M.prototype,{danceDir:null,dance:function(){(this.danceDir=!this.danceDir)?this.animation.play("danceRight",!0):this.animation.play("danceLeft",!0)},__class__:re});var Mc=function(t,e){this.danceDir=!1,M.call(this,t,e),this.set_frames(lb.fromSparrow(N.getPath("images/weeb/bgFreaks.png","IMAGE",null),N.getPath("images/weeb/bgFreaks.xml","TEXT",null))),this.animation.addByIndices("danceLeft","BG girls group",Re.numberArray(14),"",24,!1),this.animation.addByIndices("danceRight","BG girls group",Re.numberArray(30,15),"",24,!1),this.animation.play("danceLeft")};r.BackgroundGirls=Mc,Mc.__name__="BackgroundGirls",Mc.__super__=M,Mc.prototype=D(M.prototype,{danceDir:null,getScared:function(){this.animation.addByIndices("danceLeft","BG fangirls dissuaded",Re.numberArray(14),"",24,!1),this.animation.addByIndices("danceRight","BG fangirls dissuaded",Re.numberArray(30,15),"",24,!1),this.dance()},dance:function(){(this.danceDir=!this.danceDir)?this.animation.play("danceRight",!0):this.animation.play("danceLeft",!0)},__class__:Mc});var Xc=function(t,e,n,s,i){switch(null==s&&(s=!1),null==n&&(n="bf"),this.danced=!1,this.animations=[],this.holdTimer=0,this.curCharacter="bf",this.debugMode=this.isPlayer=!1,M.call(this,t,e),new Zh,this.animOffsets=new va,this.curCharacter=n,this.isPlayer=s,this.set_antialiasing(!0),this.curCharacter){case"bf":t=lb.fromSparrow(N.getPath("images/BOYFRIEND.png","IMAGE",n=null),N.getPath("images/BOYFRIEND.xml","TEXT",n)),this.set_frames(t),this.animation.addByPrefix("idle","BF idle dance",24,!1),this.animation.addByPrefix("singUP","BF NOTE UP0",24,!1),this.animation.addByPrefix("singLEFT","BF NOTE LEFT0",24,!1),this.animation.addByPrefix("singRIGHT","BF NOTE RIGHT0",24,!1),this.animation.addByPrefix("singDOWN","BF NOTE DOWN0",24,!1),this.animation.addByPrefix("singUPmiss","BF NOTE UP MISS",24,!1),this.animation.addByPrefix("singLEFTmiss","BF NOTE LEFT MISS",24,!1),this.animation.addByPrefix("singRIGHTmiss","BF NOTE RIGHT MISS",24,!1),this.animation.addByPrefix("singDOWNmiss","BF NOTE DOWN MISS",24,!1),this.animation.addByPrefix("hey","BF HEY",24,!1),this.animation.addByPrefix("firstDeath","BF dies",24,!1),this.animation.addByPrefix("deathLoop","BF Dead Loop",24,!0),this.animation.addByPrefix("deathConfirm","BF Dead confirm",24,!1),this.animation.addByPrefix("scared","BF idle shaking",24),this.animation.addByPrefix("stunned","BF hit",24,!1),this.addOffset("idle",-5),this.addOffset("singUP",-29,27),this.addOffset("singRIGHT",-38,-7),this.addOffset("singLEFT",12,-6),this.addOffset("singDOWN",-10,-50),this.addOffset("singUPmiss",-29,27),this.addOffset("singRIGHTmiss",-30,21),this.addOffset("singLEFTmiss",12,24),this.addOffset("singDOWNmiss",-11,-19),this.addOffset("hey",7,4),this.addOffset("firstDeath",37,11),this.addOffset("deathLoop",37,5),this.addOffset("deathConfirm",37,69),this.addOffset("scared",-4),this.addOffset("stunned",31,22),this.playAnim("idle"),this.set_flipX(!0);break;case"bf-car":t=lb.fromSparrow(N.getPath("images/bfCar.png","IMAGE",n=null),N.getPath("images/bfCar.xml","TEXT",n)),this.set_frames(t),this.animation.addByPrefix("idle","BF idle dance",24,!1),this.animation.addByPrefix("singUP","BF NOTE UP0",24,!1),this.animation.addByPrefix("singLEFT","BF NOTE LEFT0",24,!1),this.animation.addByPrefix("singRIGHT","BF NOTE RIGHT0",24,!1),this.animation.addByPrefix("singDOWN","BF NOTE DOWN0",24,!1),this.animation.addByPrefix("singUPmiss","BF NOTE UP MISS",24,!1),this.animation.addByPrefix("singLEFTmiss","BF NOTE LEFT MISS",24,!1),this.animation.addByPrefix("singRIGHTmiss","BF NOTE RIGHT MISS",24,!1),this.animation.addByPrefix("singDOWNmiss","BF NOTE DOWN MISS",24,!1),this.addOffset("idle",-5),this.addOffset("singUP",-29,27),this.addOffset("singRIGHT",-38,-7),this.addOffset("singLEFT",12,-6),this.addOffset("singDOWN",-10,-50),this.addOffset("singUPmiss",-29,27),this.addOffset("singRIGHTmiss",-30,21),this.addOffset("singLEFTmiss",12,24),this.addOffset("singDOWNmiss",-11,-19),this.playAnim("idle"),this.set_flipX(!0);break;case"bf-christmas":t=lb.fromSparrow(N.getPath("images/christmas/bfChristmas.png","IMAGE",n=null),N.getPath("images/christmas/bfChristmas.xml","TEXT",n)),this.set_frames(t),this.animation.addByPrefix("idle","BF idle dance",24,!1),this.animation.addByPrefix("singUP","BF NOTE UP0",24,!1),this.animation.addByPrefix("singLEFT","BF NOTE LEFT0",24,!1),this.animation.addByPrefix("singRIGHT","BF NOTE RIGHT0",24,!1),this.animation.addByPrefix("singDOWN","BF NOTE DOWN0",24,!1),this.animation.addByPrefix("singUPmiss","BF NOTE UP MISS",24,!1),this.animation.addByPrefix("singLEFTmiss","BF NOTE LEFT MISS",24,!1),this.animation.addByPrefix("singRIGHTmiss","BF NOTE RIGHT MISS",24,!1),this.animation.addByPrefix("singDOWNmiss","BF NOTE DOWN MISS",24,!1),this.animation.addByPrefix("hey","BF HEY",24,!1),this.addOffset("idle",-5),this.addOffset("singUP",-29,27),this.addOffset("singRIGHT",-38,-7),this.addOffset("singLEFT",12,-6),this.addOffset("singDOWN",-10,-50),this.addOffset("singUPmiss",-29,27),this.addOffset("singRIGHTmiss",-30,21),this.addOffset("singLEFTmiss",12,24),this.addOffset("singDOWNmiss",-11,-19),this.addOffset("hey",7,4),this.playAnim("idle"),this.set_flipX(!0);break;case"bf-hell":t=lb.fromSparrow(N.getPath("images/hellclwn/BF/BF_3rd_phase.png","IMAGE",n=null),N.getPath("images/hellclwn/BF/BF_3rd_phase.xml","TEXT",n)),this.set_frames(t),this.animation.addByPrefix("idle","BF idle dance",24,!1),this.animation.addByPrefix("singUP","BF NOTE UP0",24,!1),this.animation.addByPrefix("singLEFT","BF NOTE LEFT0",24,!1),this.animation.addByPrefix("singRIGHT","BF NOTE RIGHT0",24,!1),this.animation.addByPrefix("singDOWN","BF NOTE DOWN0",24,!1),this.animation.addByPrefix("singUPmiss","BF NOTE UP MISS",24,!1),this.animation.addByPrefix("singLEFTmiss","BF NOTE LEFT MISS",24,!1),this.animation.addByPrefix("singRIGHTmiss","BF NOTE RIGHT MISS",24,!1),this.animation.addByPrefix("singDOWNmiss","BF NOTE DOWN MISS",24,!1),this.animation.addByPrefix("scared","BF idle shaking",24),this.animation.addByPrefix("stunned","BF hit",24,!1),this.addOffset("idle",-5),this.addOffset("singUP",-29,27),this.addOffset("singRIGHT",-38,-7),this.addOffset("singLEFT",12,-6),this.addOffset("singDOWN",-10,-50),this.addOffset("singUPmiss",-29,27),this.addOffset("singRIGHTmiss",-30,21),this.addOffset("singLEFTmiss",12,24),this.addOffset("singDOWNmiss",-11,-19),this.addOffset("scared",-4),this.playAnim("idle"),this.set_flipX(!0);break;case"bf-pixel":this.set_frames(lb.fromSparrow(N.getPath("images/weeb/bfPixel.png","IMAGE",n=null),N.getPath("images/weeb/bfPixel.xml","TEXT",n))),this.animation.addByPrefix("idle","BF IDLE",24,!1),this.animation.addByPrefix("singUP","BF UP NOTE",24,!1),this.animation.addByPrefix("singLEFT","BF LEFT NOTE",24,!1),this.animation.addByPrefix("singRIGHT","BF RIGHT NOTE",24,!1),this.animation.addByPrefix("singDOWN","BF DOWN NOTE",24,!1),this.animation.addByPrefix("singUPmiss","BF UP MISS",24,!1),this.animation.addByPrefix("singLEFTmiss","BF LEFT MISS",24,!1),this.animation.addByPrefix("singRIGHTmiss","BF RIGHT MISS",24,!1),this.animation.addByPrefix("singDOWNmiss","BF DOWN MISS",24,!1),this.addOffset("idle"),this.addOffset("singUP"),this.addOffset("singRIGHT"),this.addOffset("singLEFT"),this.addOffset("singDOWN"),this.addOffset("singUPmiss"),this.addOffset("singRIGHTmiss"),this.addOffset("singLEFTmiss"),this.addOffset("singDOWNmiss"),this.setGraphicSize(6*this.get_width()|0),this.updateHitbox(),this.playAnim("idle"),(t=this).set_width(t.get_width()-100),(t=this).set_height(t.get_height()-100),this.set_antialiasing(!1),this.set_flipX(!0);break;case"bf-pixel-dead":this.set_frames(lb.fromSparrow(N.getPath("images/weeb/bfPixelsDEAD.png","IMAGE",n=null),N.getPath("images/weeb/bfPixelsDEAD.xml","TEXT",n))),this.animation.addByPrefix("singUP","BF Dies pixel",24,!1),this.animation.addByPrefix("firstDeath","BF Dies pixel",24,!1),this.animation.addByPrefix("deathLoop","Retry Loop",24,!0),this.animation.addByPrefix("deathConfirm","RETRY CONFIRM",24,!1),this.animation.play("firstDeath"),this.addOffset("firstDeath"),this.addOffset("deathLoop",-37),this.addOffset("deathConfirm",-37),this.playAnim("firstDeath"),this.setGraphicSize(6*this.get_width()|0),this.updateHitbox(),this.set_antialiasing(!1),this.set_flipX(!0);break;case"dad":t=lb.fromSparrow(N.getPath("images/DADDY_DEAREST.png","IMAGE",n=null),N.getPath("images/DADDY_DEAREST.xml","TEXT",n)),this.set_frames(t),this.animation.addByPrefix("idle","Dad idle dance",24),this.animation.addByPrefix("singUP","Dad Sing Note UP",24),this.animation.addByPrefix("singRIGHT","Dad Sing Note RIGHT",24),this.animation.addByPrefix("singDOWN","Dad Sing Note DOWN",24),this.animation.addByPrefix("singLEFT","Dad Sing Note LEFT",24),this.addOffset("idle"),this.addOffset("singUP",-6,50),this.addOffset("singRIGHT",0,27),this.addOffset("singLEFT",-10,10),this.addOffset("singDOWN",0,-30),this.playAnim("idle");break;case"exTricky":this.set_frames(lb.fromSparrow(N.getPath("images/fourth/EXTRICKY.png","IMAGE",n=null),N.getPath("images/fourth/EXTRICKY.xml","TEXT",n))),this.exSpikes=new M(t-350,e-170),this.exSpikes.set_frames(lb.fromSparrow(N.getPath("images/fourth/FloorSpikes.png","IMAGE",n=null),N.getPath("images/fourth/FloorSpikes.xml","TEXT",n))),this.exSpikes.set_visible(!1),this.exSpikes.animation.addByPrefix("spike","Floor Spikes",24,!1),this.animation.addByPrefix("idle","Idle",24),this.animation.addByPrefix("singUP","Sing Up",24),this.animation.addByPrefix("singLEFT","Sing Left",24),this.animation.addByPrefix("singRIGHT","Sing Right",24),this.animation.addByPrefix("singDOWN","Sing Down",24),this.animation.addByPrefix("Hank","Hank",24,!0),this.addOffset("idle"),this.addOffset("Hank"),this.addOffset("singUP",0,100),this.addOffset("singRIGHT",-209,-29),this.addOffset("singLEFT",127,20),this.addOffset("singDOWN",-100,-340),this.playAnim("idle");break;case"gf":t=lb.fromSparrow(N.getPath("images/GF_assets.png","IMAGE",n=null),N.getPath("images/GF_assets.xml","TEXT",n)),this.set_frames(t),this.animation.addByPrefix("cheer","GF Cheer",24,!1),this.animation.addByPrefix("singLEFT","GF left note",24,!1),this.animation.addByPrefix("singRIGHT","GF Right Note",24,!1),this.animation.addByPrefix("singUP","GF Up Note",24,!1),this.animation.addByPrefix("singDOWN","GF Down Note",24,!1),this.animation.addByIndices("sad","gf sad",[0,1,2,3,4,5,6,7,8,9,10,11,12],"",24,!1),this.animation.addByIndices("danceLeft","GF Dancing Beat",[30,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14],"",24,!1),this.animation.addByIndices("danceRight","GF Dancing Beat",[15,16,17,18,19,20,21,22,23,24,25,26,27,28,29],"",24,!1),this.animation.addByIndices("hairBlow","GF Dancing Beat Hair blowing",[0,1,2,3],"",24),this.animation.addByIndices("hairFall","GF Dancing Beat Hair Landing",[0,1,2,3,4,5,6,7,8,9,10,11],"",24,!1),this.animation.addByPrefix("scared","GF FEAR",24),this.addOffset("cheer"),this.addOffset("sad",-2,-2),this.addOffset("danceLeft",0,-9),this.addOffset("danceRight",0,-9),this.addOffset("singUP",0,4),this.addOffset("singRIGHT",0,-20),this.addOffset("singLEFT",0,-19),this.addOffset("singDOWN",0,-20),this.addOffset("hairBlow",45,-8),this.addOffset("hairFall",0,-9),this.addOffset("scared",-2,-17),this.playAnim("danceRight");break;case"gf-car":t=lb.fromSparrow(N.getPath("images/gfCar.png","IMAGE",n=null),N.getPath("images/gfCar.xml","TEXT",n)),this.set_frames(t),this.animation.addByIndices("singUP","GF Dancing Beat Hair blowing CAR",[0],"",24,!1),this.animation.addByIndices("danceLeft","GF Dancing Beat Hair blowing CAR",[30,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14],"",24,!1),this.animation.addByIndices("danceRight","GF Dancing Beat Hair blowing CAR",[15,16,17,18,19,20,21,22,23,24,25,26,27,28,29],"",24,!1),this.addOffset("danceLeft",0),this.addOffset("danceRight",0),this.playAnim("danceRight");break;case"gf-christmas":t=lb.fromSparrow(N.getPath("images/christmas/gfChristmas.png","IMAGE",n=null),N.getPath("images/christmas/gfChristmas.xml","TEXT",n)),this.set_frames(t),this.animation.addByPrefix("cheer","GF Cheer",24,!1),this.animation.addByPrefix("singLEFT","GF left note",24,!1),this.animation.addByPrefix("singRIGHT","GF Right Note",24,!1),this.animation.addByPrefix("singUP","GF Up Note",24,!1),this.animation.addByPrefix("singDOWN","GF Down Note",24,!1),this.animation.addByIndices("sad","gf sad",[0,1,2,3,4,5,6,7,8,9,10,11,12],"",24,!1),this.animation.addByIndices("danceLeft","GF Dancing Beat",[30,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14],"",24,!1),this.animation.addByIndices("danceRight","GF Dancing Beat",[15,16,17,18,19,20,21,22,23,24,25,26,27,28,29],"",24,!1),this.animation.addByIndices("hairBlow","GF Dancing Beat Hair blowing",[0,1,2,3],"",24),this.animation.addByIndices("hairFall","GF Dancing Beat Hair Landing",[0,1,2,3,4,5,6,7,8,9,10,11],"",24,!1),this.animation.addByPrefix("scared","GF FEAR",24),this.addOffset("cheer"),this.addOffset("sad",-2,-2),this.addOffset("danceLeft",0,-9),this.addOffset("danceRight",0,-9),this.addOffset("singUP",0,4),this.addOffset("singRIGHT",0,-20),this.addOffset("singLEFT",0,-19),this.addOffset("singDOWN",0,-20),this.addOffset("hairBlow",45,-8),this.addOffset("hairFall",0,-9),this.addOffset("scared",-2,-17),this.playAnim("danceRight");break;case"gf-hell":t=lb.fromSparrow(N.getPath("images/hellclwn/GF/gf_phase_3.png","IMAGE",n=null),N.getPath("images/hellclwn/GF/gf_phase_3.xml","TEXT",n)),this.set_frames(t),this.animation.addByPrefix("cheer","GF Cheer",24,!1),this.animation.addByIndices("sad","gf sad",[0,1,2,3,4,5,6,7,8,9,10,11,12],"",24,!1),this.animation.addByIndices("danceLeft","GF Dancing Beat",[30,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14],"",24,!1),this.animation.addByIndices("danceRight","GF Dancing Beat",[15,16,17,18,19,20,21,22,23,24,25,26,27,28,29],"",24,!1),this.animation.addByPrefix("scared","GF FEAR",24),this.addOffset("cheer"),this.addOffset("sad",-2,-2),this.addOffset("danceLeft",0,-9),this.addOffset("danceRight",0,-9),this.addOffset("scared",-2,-17),this.playAnim("danceRight");break;case"gf-pixel":t=lb.fromSparrow(N.getPath("images/weeb/gfPixel.png","IMAGE",n=null),N.getPath("images/weeb/gfPixel.xml","TEXT",n)),this.set_frames(t),this.animation.addByIndices("singUP","GF IDLE",[2],"",24,!1),this.animation.addByIndices("danceLeft","GF IDLE",[30,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14],"",24,!1),this.animation.addByIndices("danceRight","GF IDLE",[15,16,17,18,19,20,21,22,23,24,25,26,27,28,29],"",24,!1),this.addOffset("danceLeft",0),this.addOffset("danceRight",0),this.playAnim("danceRight"),this.setGraphicSize(this.get_width()*L.daPixelZoom|0),this.updateHitbox(),this.set_antialiasing(!1);break;case"gf-tied":t=lb.fromSparrow(N.getPath("images/fourth/EX Tricky GF.png","IMAGE",n=null),N.getPath("images/fourth/EX Tricky GF.xml","TEXT",n)),this.set_frames(t),this.animation.addByIndices("danceLeft","GF Ex Tricky",[0,1,2,3,4,5,6,7,8],"",24,!1),this.animation.addByIndices("danceRight","GF Ex Tricky",[9,10,11,12,13,14,15,16,17,18,19],"",24,!1),this.addOffset("danceLeft",0),this.addOffset("danceRight",0),this.playAnim("danceRight");break;case"mom":t=lb.fromSparrow(N.getPath("images/Mom_Assets.png","IMAGE",n=null),N.getPath("images/Mom_Assets.xml","TEXT",n)),this.set_frames(t),this.animation.addByPrefix("idle","Mom Idle",24,!1),this.animation.addByPrefix("singUP","Mom Up Pose",24,!1),this.animation.addByPrefix("singDOWN","MOM DOWN POSE",24,!1),this.animation.addByPrefix("singLEFT","Mom Left Pose",24,!1),this.animation.addByPrefix("singRIGHT","Mom Pose Left",24,!1),this.addOffset("idle"),this.addOffset("singUP",14,71),this.addOffset("singRIGHT",10,-60),this.addOffset("singLEFT",250,-23),this.addOffset("singDOWN",20,-160),this.playAnim("idle");break;case"mom-car":t=lb.fromSparrow(N.getPath("images/momCar.png","IMAGE",n=null),N.getPath("images/momCar.xml","TEXT",n)),this.set_frames(t),this.animation.addByPrefix("idle","Mom Idle",24,!1),this.animation.addByPrefix("singUP","Mom Up Pose",24,!1),this.animation.addByPrefix("singDOWN","MOM DOWN POSE",24,!1),this.animation.addByPrefix("singLEFT","Mom Left Pose",24,!1),this.animation.addByPrefix("singRIGHT","Mom Pose Left",24,!1),this.addOffset("idle"),this.addOffset("singUP",14,71),this.addOffset("singRIGHT",10,-60),this.addOffset("singLEFT",250,-23),this.addOffset("singDOWN",20,-160),this.playAnim("idle");break;case"monster":t=lb.fromSparrow(N.getPath("images/Monster_Assets.png","IMAGE",n=null),N.getPath("images/Monster_Assets.xml","TEXT",n)),this.set_frames(t),this.animation.addByPrefix("idle","monster idle",24,!1),this.animation.addByPrefix("singUP","monster up note",24,!1),this.animation.addByPrefix("singDOWN","monster down",24,!1),this.animation.addByPrefix("singLEFT","Monster left note",24,!1),this.animation.addByPrefix("singRIGHT","Monster Right note",24,!1),this.addOffset("idle"),this.addOffset("singUP",-20,50),this.addOffset("singRIGHT",-51),this.addOffset("singLEFT",-30),this.addOffset("singDOWN",-30,-40),this.playAnim("idle");break;case"monster-christmas":t=lb.fromSparrow(N.getPath("images/christmas/monsterChristmas.png","IMAGE",n=null),N.getPath("images/christmas/monsterChristmas.xml","TEXT",n)),this.set_frames(t),this.animation.addByPrefix("idle","monster idle",24,!1),this.animation.addByPrefix("singUP","monster up note",24,!1),this.animation.addByPrefix("singDOWN","monster down",24,!1),this.animation.addByPrefix("singLEFT","Monster left note",24,!1),this.animation.addByPrefix("singRIGHT","Monster Right note",24,!1),this.addOffset("idle"),this.addOffset("singUP",-20,50),this.addOffset("singRIGHT",-51),this.addOffset("singLEFT",-30),this.addOffset("singDOWN",-40,-94),this.playAnim("idle");break;case"parents-christmas":this.set_frames(lb.fromSparrow(N.getPath("images/christmas/mom_dad_christmas_assets.png","IMAGE",n=null),N.getPath("images/christmas/mom_dad_christmas_assets.xml","TEXT",n))),this.animation.addByPrefix("idle","Parent Christmas Idle",24,!1),this.animation.addByPrefix("singUP","Parent Up Note Dad",24,!1),this.animation.addByPrefix("singDOWN","Parent Down Note Dad",24,!1),this.animation.addByPrefix("singLEFT","Parent Left Note Dad",24,!1),this.animation.addByPrefix("singRIGHT","Parent Right Note Dad",24,!1),this.animation.addByPrefix("singUP-alt","Parent Up Note Mom",24,!1),this.animation.addByPrefix("singDOWN-alt","Parent Down Note Mom",24,!1),this.animation.addByPrefix("singLEFT-alt","Parent Left Note Mom",24,!1),this.animation.addByPrefix("singRIGHT-alt","Parent Right Note Mom",24,!1),this.addOffset("idle"),this.addOffset("singUP",-47,24),this.addOffset("singRIGHT",-1,-23),this.addOffset("singLEFT",-30,16),this.addOffset("singDOWN",-31,-29),this.addOffset("singUP-alt",-47,24),this.addOffset("singRIGHT-alt",-1,-24),this.addOffset("singLEFT-alt",-30,15),this.addOffset("singDOWN-alt",-30,-27),this.playAnim("idle");break;case"pico":t=lb.fromSparrow(N.getPath("images/Pico_FNF_assetss.png","IMAGE",n=null),N.getPath("images/Pico_FNF_assetss.xml","TEXT",n)),this.set_frames(t),this.animation.addByPrefix("idle","Pico Idle Dance",24),this.animation.addByPrefix("singUP","pico Up note0",24,!1),this.animation.addByPrefix("singDOWN","Pico Down Note0",24,!1),s?(this.animation.addByPrefix("singLEFT","Pico NOTE LEFT0",24,!1),this.animation.addByPrefix("singRIGHT","Pico Note Right0",24,!1),this.animation.addByPrefix("singRIGHTmiss","Pico Note Right Miss",24,!1),this.animation.addByPrefix("singLEFTmiss","Pico NOTE LEFT miss",24,!1)):(this.animation.addByPrefix("singLEFT","Pico Note Right0",24,!1),this.animation.addByPrefix("singRIGHT","Pico NOTE LEFT0",24,!1),this.animation.addByPrefix("singRIGHTmiss","Pico NOTE LEFT miss",24,!1),this.animation.addByPrefix("singLEFTmiss","Pico Note Right Miss",24,!1)),this.animation.addByPrefix("singUPmiss","pico Up note miss",24),this.animation.addByPrefix("singDOWNmiss","Pico Down Note MISS",24),this.addOffset("idle"),this.addOffset("singUP",-29,27),this.addOffset("singRIGHT",-68,-7),this.addOffset("singLEFT",65,9),this.addOffset("singDOWN",200,-70),this.addOffset("singUPmiss",-19,67),this.addOffset("singRIGHTmiss",-60,41),this.addOffset("singLEFTmiss",62,64),this.addOffset("singDOWNmiss",210,-28),this.playAnim("idle"),this.set_flipX(!0);break;case"senpai":this.set_frames(lb.fromSparrow(N.getPath("images/weeb/senpai.png","IMAGE",n=null),N.getPath("images/weeb/senpai.xml","TEXT",n))),this.animation.addByPrefix("idle","Senpai Idle",24,!1),this.animation.addByPrefix("singUP","SENPAI UP NOTE",24,!1),this.animation.addByPrefix("singLEFT","SENPAI LEFT NOTE",24,!1),this.animation.addByPrefix("singRIGHT","SENPAI RIGHT NOTE",24,!1),this.animation.addByPrefix("singDOWN","SENPAI DOWN NOTE",24,!1),this.addOffset("idle"),this.addOffset("singUP",5,37),this.addOffset("singRIGHT"),this.addOffset("singLEFT",40),this.addOffset("singDOWN",14),this.playAnim("idle"),this.setGraphicSize(6*this.get_width()|0),this.updateHitbox(),this.set_antialiasing(!1);break;case"senpai-angry":this.set_frames(lb.fromSparrow(N.getPath("images/weeb/senpai.png","IMAGE",n=null),N.getPath("images/weeb/senpai.xml","TEXT",n))),this.animation.addByPrefix("idle","Angry Senpai Idle",24,!1),this.animation.addByPrefix("singUP","Angry Senpai UP NOTE",24,!1),this.animation.addByPrefix("singLEFT","Angry Senpai LEFT NOTE",24,!1),this.animation.addByPrefix("singRIGHT","Angry Senpai RIGHT NOTE",24,!1),this.animation.addByPrefix("singDOWN","Angry Senpai DOWN NOTE",24,!1),this.addOffset("idle"),this.addOffset("singUP",5,37),this.addOffset("singRIGHT"),this.addOffset("singLEFT",40),this.addOffset("singDOWN",14),this.playAnim("idle"),this.setGraphicSize(6*this.get_width()|0),this.updateHitbox(),this.set_antialiasing(!1);break;case"signDeath":this.set_frames(lb.fromSparrow(N.getPath("images/signDeath.png","IMAGE",n=null),N.getPath("images/signDeath.xml","TEXT",n))),this.animation.addByPrefix("firstDeath","BF dies",24,!1),this.animation.addByPrefix("deathLoop","BF Dead Loop",24,!1),this.animation.addByPrefix("deathConfirm","BF Dead confirm",24,!1),this.playAnim("firstDeath"),this.addOffset("firstDeath"),this.addOffset("deathLoop"),this.addOffset("deathConfirm",0,40),null!=(t=this.animation)._curAnim&&t._curAnim.pause(),this.updateHitbox(),this.set_antialiasing(!1),this.set_flipX(!0);break;case"spirit":this.set_frames(lb.fromSpriteSheetPacker(N.getPath("images/weeb/spirit.png","IMAGE",n=null),N.getPath("images/weeb/spirit.txt","TEXT",n))),this.animation.addByPrefix("idle","idle spirit_",24,!1),this.animation.addByPrefix("singUP","up_",24,!1),this.animation.addByPrefix("singRIGHT","right_",24,!1),this.animation.addByPrefix("singLEFT","left_",24,!1),this.animation.addByPrefix("singDOWN","spirit down_",24,!1),this.addOffset("idle",-220,-280),this.addOffset("singUP",-220,-240),this.addOffset("singRIGHT",-220,-280),this.addOffset("singLEFT",-200,-280),this.addOffset("singDOWN",170,110),this.setGraphicSize(6*this.get_width()|0),this.updateHitbox(),this.playAnim("idle"),this.set_antialiasing(!1);break;case"spooky":t=lb.fromSparrow(N.getPath("images/spooky_kids_assets.png","IMAGE",n=null),N.getPath("images/spooky_kids_assets.xml","TEXT",n)),this.set_frames(t),this.animation.addByPrefix("singUP","spooky UP NOTE",24,!1),this.animation.addByPrefix("singDOWN","spooky DOWN note",24,!1),this.animation.addByPrefix("singLEFT","note sing left",24,!1),this.animation.addByPrefix("singRIGHT","spooky sing right",24,!1),this.animation.addByIndices("danceLeft","spooky dance idle",[0,2,6],"",12,!1),this.animation.addByIndices("danceRight","spooky dance idle",[8,10,12,14],"",12,!1),this.addOffset("danceLeft"),this.addOffset("danceRight"),this.addOffset("singUP",-20,26),this.addOffset("singRIGHT",-130,-14),this.addOffset("singLEFT",130,-10),this.addOffset("singDOWN",-50,-130),this.playAnim("danceRight");break;case"tricky":t=lb.fromSparrow(N.getPath("images/tricky.png","IMAGE",n=null),N.getPath("images/tricky.xml","TEXT",n)),this.set_frames(t),this.animation.addByPrefix("idle","Idle",24),this.animation.addByPrefix("singUP","Sing Up",24),this.animation.addByPrefix("singRIGHT","Sing Right",24),this.animation.addByPrefix("singDOWN","Sing Down",24),this.animation.addByPrefix("singLEFT","Sing Left",24),this.addOffset("idle",0,-75),this.addOffset("singUP",93,-76),this.addOffset("singRIGHT",16,-176),this.addOffset("singLEFT",103,-72),this.addOffset("singDOWN",6,-84),this.playAnim("idle");break;case"trickyH":for(t=E.cachedInstance.fromSparrow("idle","hellclwn/Tricky/Idle"),this.set_frames(t),this.graphic.persist=!0,this.graphic.set_destroyOnNoUse(!1),this.animation.addByPrefix("idle","Phase 3 Tricky Idle",24),this.otherFrames=[],this.otherFrames.push(new Xc(100,100,"trickyHLeft")),this.otherFrames.push(new Xc(100,100,"trickyHRight")),this.otherFrames.push(new Xc(100,100,"trickyHUp")),this.otherFrames.push(new Xc(100,100,"trickyHDown")),this.animations.push(this.animation),t=0,e=this.otherFrames;t<e.length;)++t,this.animations.push(this.animation);this.addOffset("idle",325,0),this.playAnim("idle");break;case"trickyHDown":t=E.cachedInstance.fromSparrow("down","hellclwn/Tricky/Down"),this.set_frames(t),this.graphic.persist=!0,this.graphic.set_destroyOnNoUse(!1),this.animation.addByPrefix("idle","Proper Down",24),this.addOffset("idle",475,-450),this.playAnim("idle");break;case"trickyHLeft":t=E.cachedInstance.fromSparrow("left","hellclwn/Tricky/Left"),this.set_frames(t),this.graphic.persist=!0,this.graphic.set_destroyOnNoUse(!1),this.animation.addByPrefix("idle","Proper Left",24),this.addOffset("idle",516,25),this.playAnim("idle");break;case"trickyHRight":t=E.cachedInstance.fromSparrow("right","hellclwn/Tricky/right"),this.set_frames(t),this.graphic.persist=!0,this.graphic.set_destroyOnNoUse(!1),this.animation.addByPrefix("idle","Proper Right",24),this.addOffset("idle",485,-300),this.playAnim("idle");break;case"trickyHUp":t=E.cachedInstance.fromSparrow("up","hellclwn/Tricky/Up"),this.set_frames(t),this.graphic.persist=!0,this.graphic.set_destroyOnNoUse(!1),this.animation.addByPrefix("idle","Proper Up",24),this.addOffset("idle",575,-450),this.playAnim("idle");break;case"trickyMask":t=lb.fromSparrow(N.getPath("images/TrickyMask.png","IMAGE",n=null),N.getPath("images/TrickyMask.xml","TEXT",n)),this.set_frames(t),this.animation.addByPrefix("idle","Idle",24),this.animation.addByPrefix("singUP","Sing Up",24),this.animation.addByPrefix("singRIGHT","Sing Right",24),this.animation.addByPrefix("singDOWN","Sing Down",24),this.animation.addByPrefix("singLEFT","Sing Left",24),this.addOffset("idle",0,-117),this.addOffset("singUP",93,-100),this.addOffset("singRIGHT",16,-164),this.addOffset("singLEFT",194,-95),this.addOffset("singDOWN",32,-168),this.playAnim("idle")}this.set_antialiasing(!0),this.dance(),s&&(this.set_flipX(!this.flipX),Y.startsWith(this.curCharacter,"bf")||-1!=this.curCharacter.toLowerCase().indexOf("death")||(s=this.animation._animations.h.singRIGHT.frames,this.animation._animations.h.singRIGHT.frames=this.animation._animations.h.singLEFT.frames,this.animation._animations.h.singLEFT.frames=s,null!=this.animation._animations.h.singRIGHTmiss&&(s=this.animation._animations.h.singRIGHTmiss.frames,this.animation._animations.h.singRIGHTmiss.frames=this.animation._animations.h.singLEFTmiss.frames,this.animation._animations.h.singLEFTmiss.frames=s)))};r.Character=Xc,Xc.__name__="Character",Xc.__super__=M,Xc.prototype=D(M.prototype,{animOffsets:null,debugMode:null,isPlayer:null,curCharacter:null,holdTimer:null,animations:null,exSpikes:null,otherFrames:null,addOtherFrames:function(){for(var t=0,e=this.otherFrames;t<e.length;){var n=e[t];++t,L.staticVar.add(n),n.set_visible(!1)}},update:function(t){var e;switch(Y.startsWith(this.curCharacter,"bf")||null==this.animation._curAnim||(Y.startsWith(this.animation._curAnim.name,"sing")&&(this.holdTimer+=t),e=4,"dad"==this.curCharacter&&(e=6.1),this.holdTimer>=ea.stepCrochet*e*.001&&"trickyHLeft"!=this.curCharacter&&"trickyHRight"!=this.curCharacter&&"trickyHDown"!=this.curCharacter&&"trickyHUp"!=this.curCharacter&&(this.dance(),this.holdTimer=0)),this.curCharacter){case"exTricky":3<=this.exSpikes.animation.frameIndex&&"singUP"==this.animation._curAnim.name&&(null!=(e=this.exSpikes.animation)._curAnim&&e._curAnim.pause());break;case"gf":"hairFall"==this.animation._curAnim.name&&this.animation._curAnim.finished&&this.playAnim("danceRight")}M.prototype.update.call(this,t)},danced:null,dance:function(){if(!this.debugMode)switch(this.curCharacter){case"gf":case"gf-car":case"gf-christmas":case"gf-hell":case"gf-pixel":case"gf-tied":Y.startsWith(this.animation._curAnim.name,"hair")||((this.danced=!this.danced)?this.playAnim("danceRight"):this.playAnim("danceLeft"));break;case"spooky":(this.danced=!this.danced)?this.playAnim("danceRight"):this.playAnim("danceLeft");break;default:this.playAnim("idle")}},playAnim:function(t,e,n,s){null==s&&(s=0),null==n&&(n=!1),null==e&&(e=!1);var i=this;if(!this.debugMode||null==this.otherFrames)if(null!=this.otherFrames&&null!=L.dad&&L.generatedMusic){this.set_visible(!1);for(var a=0,r=this.otherFrames;a<r.length;){var l=r[a];++a,l.set_visible(!1),l.set_x(this.x),l.set_y(this.y+60)}switch(t){case"singDOWN":this.otherFrames[3].setGraphicSize(2*this.otherFrames[3].get_width()|0),this.otherFrames[3].set_visible(!0),this.otherFrames[3].playAnim("idle",e,n,s);break;case"singLEFT":this.otherFrames[0].setGraphicSize(2*this.otherFrames[0].get_width()|0),this.otherFrames[0].set_visible(!0),this.otherFrames[0].playAnim("idle",e,n,s);break;case"singRIGHT":this.otherFrames[1].setGraphicSize(2*this.otherFrames[1].get_width()|0),this.otherFrames[1].set_visible(!0),this.otherFrames[1].playAnim("idle",e,n,s);break;case"singUP":this.otherFrames[2].setGraphicSize(2*this.otherFrames[2].get_width()|0),this.otherFrames[2].set_visible(!0),this.otherFrames[2].playAnim("idle",e,n,s),(a=this.otherFrames[2]).set_y(a.y+20);break;default:this.set_visible(!0),this.animation.play(t,e,n,s),e=this.animOffsets.h[t],Object.prototype.hasOwnProperty.call(this.animOffsets.h,t)?this.offset.set(e[0],e[1]):this.offset.set(0,0)}}else null!=this.otherFrames&&null!=L.dad?(this.set_visible(!0),this.animation.play("idle",e,n,s),e=this.animOffsets.h.idle,Object.prototype.hasOwnProperty.call(this.animOffsets.h,"idle")?this.offset.set(e[0],e[1]):this.offset.set(0,0)):(this.animation.play(t,e,n,s),"exTricky"==this.curCharacter&&("singUP"==t?(this.exSpikes.set_visible(!0),this.exSpikes.animation.get_finished()&&this.exSpikes.animation.play("spike")):this.exSpikes.animation.get_finished()||(null!=(e=this.exSpikes.animation)._curAnim&&(e._curAnim.paused=!1),this.exSpikes.animation.finishCallback=function(t){i.exSpikes.set_visible(!1),i.exSpikes.animation.finishCallback=null})),e=this.animOffsets.h[t],Object.prototype.hasOwnProperty.call(this.animOffsets.h,t)?this.offset.set(e[0],e[1]):this.offset.set(0,0),"gf"==this.curCharacter&&("singLEFT"==t?this.danced=!0:"singRIGHT"==t&&(this.danced=!1),"singUP"==t||"singDOWN"==t)&&(this.danced=!this.danced))},addOffset:function(t,e,n){this.animOffsets.h[t]=[e=null==e?0:e,n=null==n?0:n]},__class__:Xc});var Fc=function(t,e,n){null==n&&(n="bf"),this.stunned=!1,Xc.call(this,t,e,n,!0)};r.Boyfriend=Fc,Fc.__name__="Boyfriend",Fc.__super__=Xc,Fc.prototype=D(Xc.prototype,{stunned:null,update:function(t){this.debugMode||(Y.startsWith(this.animation._curAnim.name,"sing")?this.holdTimer+=t:this.holdTimer=0,Y.endsWith(this.animation._curAnim.name,"miss")&&this.animation._curAnim.finished&&!this.debugMode&&this.playAnim("idle",!0,!1,10),"Alldeath"==this.curCharacter&&"deathConfirm"!=this.animation._curAnim.name&&this.animation._curAnim.finished&&(Bb.trace("play death loop",{fileName:"source/Boyfriend.hx",lineNumber:37,className:"Boyfriend",methodName:"update"}),this.playAnim("deathLoop"))),Xc.prototype.update.call(this,t)},__class__:Fc});var E=function(){this.progress=0,this.toBeLoaded=new va,this.loaded=!1,this.cachedGraphics=new va};r.CachedFrames=E,E.__name__="CachedFrames",E.cachedInstance=null,E.loadEverything=function(){E.cachedInstance=new E,E.cachedInstance.loadFrames()},E.prototype={cachedGraphics:null,loaded:null,fromSparrow:function(t,e){return lb.fromSparrow(N.getPath("images/"+e+".png","IMAGE",null),N.getPath("images/"+e+".xml","TEXT",null))},get:function(t){return this.cachedGraphics.h[t]},load:function(t,e){(e=Jc.fromAssetKey(N.getPath("images/"+e+".png","IMAGE",null))).persist=!0,e.set_destroyOnNoUse(!1),this.cachedGraphics.h[t]=e,Bb.trace("Loaded "+t,{fileName:"source/CachedFrames.hx",lineNumber:55,className:"CachedFrames",methodName:"load"})},toBeLoaded:null,progress:null,loadFrames:function(){Bb.trace("loaded everythin",{fileName:"source/CachedFrames.hx",lineNumber:66,className:"CachedFrames",methodName:"loadFrames"}),this.loaded=!0},__class__:E};var Aa=function(t){null==t&&(t=0),this.length=this._marker=0,aa.call(this),this.members=[],this.set_maxSize(0|Math.abs(t)),this.flixelType=2};r["flixel.group.FlxTypedGroup"]=Aa,Aa.__name__="flixel.group.FlxTypedGroup",Aa.overlaps=function(t,e,n,s,i,a){var r=!1;if(null!=e)for(var l,o=0,h=e.length;o<h;)if(null!=(l=e.members[o++])&&t(l,n,s,i,a)){r=!0;break}return r},Aa.resolveGroup=function(t){var e=null;return null!=t&&(2==t.flixelType?e=t:4==t.flixelType&&(e=t.group)),e},Aa.__super__=aa,Aa.prototype=D(aa.prototype,{members:null,maxSize:null,length:null,_memberAdded:null,_memberRemoved:null,_marker:null,destroy:function(){if(aa.prototype.destroy.call(this),ya.destroy(this._memberAdded),ya.destroy(this._memberRemoved),null!=this.members){for(var t,e=0;e<this.length;)null!=(t=this.members[e++])&&t.destroy();this.members=null}},update:function(t){for(var e,n=0;n<this.length;)null!=(e=this.members[n++])&&e.exists&&e.active&&e.update(t)},draw:function(){var t=0,e=cc._defaultCameras;for(null!=this.get_cameras()&&(cc._defaultCameras=this.get_cameras());t<this.length;){var n=this.members[t++];null!=n&&n.exists&&n.visible&&n.draw()}cc._defaultCameras=e},add:function(t){if(null==t)return null;if(0<=this.members.indexOf(t))return t;var e=this.getFirstNull();return-1!=e?(this.members[e]=t,e>=this.length&&(this.length=e+1),null!=this._memberAdded&&this._memberAdded.dispatch(t)):0<this.maxSize&&this.length>=this.maxSize||(this.members.push(t),this.length++,null!=this._memberAdded&&this._memberAdded.dispatch(t)),t},insert:function(t,e){return null==e?null:(0<=this.members.indexOf(e)||(t<this.length&&null==this.members[t]?(this.members[t]=e,null!=this._memberAdded&&this._memberAdded.dispatch(e)):0<this.maxSize&&this.length>=this.maxSize||(this.members.splice(t,0,e),this.length++,null!=this._memberAdded&&this._memberAdded.dispatch(e))),e)},recycle:function(t,e,n,s){return null==s&&(s=!0),null==n&&(n=!1),0<this.maxSize?this.length<this.maxSize?((s=null)!=e?(s=e(),this.add(s)):null!=t&&(s=Cb.createInstance(t,[]),this.add(s)),s):(n=this.members[this._marker++],this._marker>=this.maxSize&&(this._marker=0),s&&n.revive(),n):null!=(n=this.getFirstAvailable(t,n))?(s&&n.revive(),n):((s=null)!=e?(s=e(),this.add(s)):null!=t&&(s=Cb.createInstance(t,[]),this.add(s)),s)},recycleCreateObject:function(t,e){var n=null;return null!=e?(n=e(),this.add(n)):null!=t&&(n=Cb.createInstance(t,[]),this.add(n)),n},remove:function(t,e){if(null==e&&(e=!1),null==this.members)return null;var n=this.members.indexOf(t);return n<0?null:(e?(this.members.splice(n,1),this.length--):this.members[n]=null,null!=this._memberRemoved&&this._memberRemoved.dispatch(t),t)},replace:function(t,e){var n=this.members.indexOf(t);return n<0?null:(this.members[n]=e,null!=this._memberRemoved&&this._memberRemoved.dispatch(t),null!=this._memberAdded&&this._memberAdded.dispatch(e),e)},sort:function(n,t){var s=t=null==t?-1:t;this.members.sort(function(t,e){return n(s,t,e)})},getFirstAvailable:function(t,e){null==e&&(e=!1);for(var n,s=0;s<this.length;)if(!(null==(n=this.members[s++])||n.exists||null!=t&&!xa.__instanceof(n,t)||e&&xa.getClass(n).__name__!=t.__name__))return this.members[s-1];return null},getFirstNull:function(){for(var t=0;t<this.length;){if(null==this.members[t])return t;++t}return-1},getFirstExisting:function(){for(var t,e=0;e<this.length;)if(null!=(t=this.members[e++])&&t.exists)return t;return null},getFirstAlive:function(){for(var t,e=0;e<this.length;)if(null!=(t=this.members[e++])&&t.exists&&t.alive)return t;return null},getFirstDead:function(){for(var t,e=0;e<this.length;)if(null!=(t=this.members[e++])&&!t.alive)return t;return null},countLiving:function(){for(var t,e=0,n=-1;e<this.length;)null!=(t=this.members[e++])&&(n<0&&(n=0),t.exists&&t.alive&&++n);return n},countDead:function(){for(var t,e=0,n=-1;e<this.length;)null!=(t=this.members[e++])&&(n<0&&(n=0),t.alive||++n);return n},getRandom:function(t,e){return(e=null==e?0:e)<=0&&(e=this.length),n.random.getObject_flixel_group_FlxTypedGroup_T(this.members,null,t=(t=null==t?0:t)<0?0:t,e)},clear:function(){if(this.length=0,null!=this._memberRemoved)for(var t=0,e=this.members;t<e.length;){var n=e[t];++t,null!=n&&this._memberRemoved.dispatch(n)}pd.clearArray(this.members)},kill:function(){for(var t,e=0;e<this.length;)null!=(t=this.members[e++])&&t.exists&&t.kill();aa.prototype.kill.call(this)},revive:function(){for(var t,e=0;e<this.length;)null==(t=this.members[e++])||t.exists||t.revive();aa.prototype.revive.call(this)},iterator:function(t){return new yj(this.members,t)},forEach:function(t,e){null==e&&(e=!1);for(var n,s,i=0;i<this.length;)null!=(s=this.members[i++])&&(!e||null!=(n=Aa.resolveGroup(s))&&n.forEach(t,e),t(s))},forEachAlive:function(t,e){null==e&&(e=!1);for(var n,s,i=0;i<this.length;)null!=(s=this.members[i++])&&s.exists&&s.alive&&(!e||null!=(n=Aa.resolveGroup(s))&&n.forEachAlive(t,e),t(s))},forEachDead:function(t,e){null==e&&(e=!1);for(var n,s,i=0;i<this.length;)null==(s=this.members[i++])||s.alive||(!e||null!=(n=Aa.resolveGroup(s))&&n.forEachDead(t,e),t(s))},forEachExists:function(t,e){null==e&&(e=!1);for(var n,s,i=0;i<this.length;)null!=(s=this.members[i++])&&s.exists&&(!e||null!=(n=Aa.resolveGroup(s))&&n.forEachExists(t,e),t(s))},forEachOfType:function(t,e,n){null==n&&(n=!1);for(var s,i,a=0;a<this.length;)null!=(i=this.members[a++])&&(!n||null!=(s=Aa.resolveGroup(i))&&s.forEachOfType(t,e,n),xa.__instanceof(i,t)&&e(i))},set_maxSize:function(t){if(this.maxSize=0|Math.abs(t),this._marker>=this.maxSize&&(this._marker=0),0==this.maxSize||null==this.members||this.maxSize>=this.length)return this.maxSize;t=this.maxSize;for(var e,n=this.length;t<n;)null!=(e=this.members[t++])&&(null!=this._memberRemoved&&this._memberRemoved.dispatch(e),e.destroy());return pd.setLength_flixel_group_FlxTypedGroup_T(this.members,this.maxSize),this.length=this.members.length,this.maxSize},get_memberAdded:function(){return null==this._memberAdded&&(this._memberAdded=new If),this._memberAdded},get_memberRemoved:function(){return null==this._memberRemoved&&(this._memberRemoved=new If),this._memberRemoved},__class__:Aa,__properties__:D(aa.prototype.__properties__,{get_memberRemoved:"get_memberRemoved",get_memberAdded:"get_memberAdded",set_maxSize:"set_maxSize"})});var K=function(t){this._requestSubStateReset=!1,this.persistentDraw=this.destroySubStates=!0,this.persistentUpdate=!1,Aa.call(this,t)};r["flixel.FlxState"]=K,K.__name__="flixel.FlxState",K.__super__=Aa,K.prototype=D(Aa.prototype,{persistentUpdate:null,persistentDraw:null,destroySubStates:null,subState:null,_requestedSubState:null,_requestSubStateReset:null,_subStateOpened:null,_subStateClosed:null,create:function(){},draw:function(){!this.persistentDraw&&null!=this.subState||Aa.prototype.draw.call(this),null!=this.subState&&this.subState.draw()},openSubState:function(t){this._requestSubStateReset=!0,this._requestedSubState=t},closeSubState:function(){this._requestSubStateReset=!0},resetSubState:function(){null!=this.subState&&(null!=this.subState.closeCallback&&this.subState.closeCallback(),null!=this._subStateClosed&&this._subStateClosed.dispatch(this.subState),this.destroySubStates&&this.subState.destroy()),this.subState=this._requestedSubState,(this._requestedSubState=null)!=this.subState&&(this.persistentUpdate||n.inputs.onStateSwitch(),(this.subState._parentState=this).subState._created||(this.subState._created=!0,this.subState.create()),null!=this.subState.openCallback&&this.subState.openCallback(),null!=this._subStateOpened&&this._subStateOpened.dispatch(this.subState))},destroy:function(){ya.destroy(this._subStateOpened),ya.destroy(this._subStateClosed),null!=this.subState&&(this.subState.destroy(),this.subState=null),Aa.prototype.destroy.call(this)},switchTo:function(t){return!0},onFocusLost:function(){},onFocus:function(){},onResize:function(t,e){},tryUpdate:function(t){!this.persistentUpdate&&null!=this.subState||this.update(t),this._requestSubStateReset&&(this._requestSubStateReset=!1,this.resetSubState()),null!=this.subState&&this.subState.tryUpdate(t)},get_bgColor:function(){return n.cameras.get_bgColor()},set_bgColor:function(t){return n.cameras.set_bgColor(t)},get_subStateOpened:function(){return null==this._subStateOpened&&(this._subStateOpened=new If),this._subStateOpened},get_subStateClosed:function(){return null==this._subStateClosed&&(this._subStateClosed=new If),this._subStateClosed},__class__:K,__properties__:D(Aa.prototype.__properties__,{get_subStateClosed:"get_subStateClosed",get_subStateOpened:"get_subStateOpened",set_bgColor:"set_bgColor",get_bgColor:"get_bgColor"})});var H=function(t,e){this.transOutFinished=this._exiting=!1,this.transIn=t,this.transOut=e,null==this.transIn&&null!=H.defaultTransIn&&(this.transIn=H.defaultTransIn),null==this.transOut&&null!=H.defaultTransOut&&(this.transOut=H.defaultTransOut),K.call(this)};r["flixel.addons.transition.FlxTransitionableState"]=H,H.__name__="flixel.addons.transition.FlxTransitionableState",H.__super__=K,H.prototype=D(K.prototype,{transIn:null,transOut:null,destroy:function(){K.prototype.destroy.call(this),this._onExit=this.transOut=this.transIn=null},create:function(){K.prototype.create.call(this),this.transitionIn()},switchTo:function(t){return!this.get_hasTransOut()||(this._exiting||this.transitionToState(t),this.transOutFinished)},transitionToState:function(t){this._exiting=!0,this.transitionOut(function(){n.game._state.switchTo(t)&&(n.game._requestedState=t)}),H.skipNextTransOut&&(H.skipNextTransOut=!1,this.finishTransOut())},transitionIn:function(){var t;null!=this.transIn&&"none"!=this.transIn.type&&(H.skipNextTransIn?(H.skipNextTransIn=!1,null!=this.finishTransIn&&this.finishTransIn()):((t=this.createTransition(this.transIn)).setStatus(3),this.openSubState(t),t.set_finishCallback(y(this,this.finishTransIn)),t.start(1)))},transitionOut:function(t){this._onExit=t,this.get_hasTransOut()?((t=this.createTransition(this.transOut)).setStatus(2),this.openSubState(t),t.set_finishCallback(y(this,this.finishTransOut)),t.start(0)):this._onExit()},transOutFinished:null,_exiting:null,_onExit:null,get_hasTransIn:function(){return null!=this.transIn&&"none"!=this.transIn.type},get_hasTransOut:function(){return null!=this.transOut&&"none"!=this.transOut.type},createTransition:function(t){switch(t.type){case"fade":case"tiles":return new ul(t);default:return null}},finishTransIn:function(){this.closeSubState()},finishTransOut:function(){this.transOutFinished=!0,this._exiting||this.closeSubState(),null!=this._onExit&&this._onExit()},__class__:H,__properties__:D(K.prototype.__properties__,{get_hasTransOut:"get_hasTransOut",get_hasTransIn:"get_hasTransIn"})});var za=function(){};r["flixel.addons.ui.interfaces.IEventGetter"]=za,za.__name__="flixel.addons.ui.interfaces.IEventGetter",za.__isInterface__=!0,za.prototype={getEvent:null,getRequest:null,__class__:za};var Pa=function(){};r["flixel.addons.ui.interfaces.IFlxUIState"]=Pa,Pa.__name__="flixel.addons.ui.interfaces.IFlxUIState",Pa.__isInterface__=!0,Pa.__interfaces__=[za],Pa.prototype={forceFocus:null,tooltips:null,cursor:null,_tongue:null,__class__:Pa};var Ta=function(t,e){this.getTextFallback=null,this._reload_countdown=0,this.reload_ui_on_resize=this._reload=!1,this._xml_id="",this.hideCursorOnSubstate=this._cursorHidden=!1,this.cursor=null,H.call(this,t,e)};r["flixel.addons.ui.FlxUIState"]=Ta,Ta.__name__="flixel.addons.ui.FlxUIState",Ta.__interfaces__=[Pa,za],Ta.__super__=H,Ta.prototype=D(H.prototype,{destroyed:null,cursor:null,hideCursorOnSubstate:null,_cursorHidden:null,tooltips:null,_xml_id:null,_makeCursor:null,_ui_vars:null,_ui:null,_tongue:null,reload_ui_on_resize:null,_reload:null,_reload_countdown:null,getTextFallback:null,create:function(){if(null!=Ta.static_tongue&&(this._tongue=Ta.static_tongue),1==this._makeCursor&&(this.cursor=this.createCursor()),this.tooltips=new vl(this),this._ui=this.createUI(null,this,null,this._tongue),this.add(this._ui),null!=this.getTextFallback&&(this._ui.getTextFallback=this.getTextFallback),null!=this._xml_id&&""!=this._xml_id){var t=null;try{t=I.xml(this._xml_id)}catch(t){ub.lastError=t;var e=G.caught(t).unwrap();if("string"!=typeof e)throw t}if(null==t)try{t=I.xml(this._xml_id,"xml",!0,"")}catch(t){if(ub.lastError=t,"string"!=typeof(e=G.caught(t).unwrap()))throw t}null!=t&&this.loadUIFromData(t)}else this.loadUIFromData(null);null!=this.cursor&&null!=this._ui&&(this.add(this.cursor),this.cursor.addWidgetsFromUI(this._ui),this.cursor.findVisibleLocation(0)),this.tooltips.init(),H.prototype.create.call(this),this.cleanup()},update:function(t){H.prototype.update.call(this,t),null!=this.tooltips&&this.tooltips.update(t),this._reload&&0<this._reload_countdown&&(this._reload_countdown--,0==this._reload_countdown&&this.reloadUI())},cleanup:function(){this._ui.cleanup()},_cleanupUIVars:function(){if(null!=this._ui_vars){for(var t=va.keysIterator(this._ui_vars.h);t.hasNext();){var e=t.next(),n=this._ui_vars;Object.prototype.hasOwnProperty.call(n.h,e)&&delete n.h[e]}this._ui_vars=null}},setUIVariable:function(t,e){null!=this._ui?this._ui.setVariable(t,e):(null==this._ui_vars&&(this._ui_vars=new va),this._ui_vars.h[t]=e)},resizeScreen:function(t,e){},openSubState:function(t){null!=this.cursor&&this.hideCursorOnSubstate&&1==this.cursor.visible&&(this._cursorHidden=!0,this.cursor.set_visible(!1)),H.prototype.openSubState.call(this,t)},closeSubState:function(){null!=this.cursor&&this.hideCursorOnSubstate&&this._cursorHidden&&(this._cursorHidden=!1,this.cursor.set_visible(!0)),H.prototype.closeSubState.call(this)},onResize:function(t,e){this.reload_ui_on_resize&&(n.scaleMode.onMeasure(t,e),this._reload_countdown=1,this._reload=!0)},onShowTooltip:function(t){},destroy:function(){this.destroyed=!0,null!=this._ui&&(this._ui.destroy(),this.remove(this._ui,!0),this._ui=null),null!=this.tooltips&&(this.tooltips.destroy(),this.tooltips=null),H.prototype.destroy.call(this)},forceFocus:function(t,e){null!=this._ui&&(t?this._ui.set_focus(e):this._ui.set_focus(null))},onCursorEvent:function(t,e){this.getEvent(t,e,null)},getEvent:function(t,e,n,s){},getRequest:function(t,e,n,s){return null},getText:function(t,e,n){return null==n&&(n=!0),null==e&&(e="ui"),null!=this._tongue?this._tongue.get(t,e,n):null!=this.getTextFallback?this.getTextFallback(t,e,n):t},createCursor:function(){return new Jf(y(this,this.onCursorEvent))},createUI:function(t,e,n,s,i){return t=new Kb(t,e,n,s,i=null==i?"":i,this._ui_vars),this._cleanupUIVars(),t},loadUIFromData:function(t){this._ui.load(t)},reloadUI:function(t){null!=this._ui&&(this.remove(this._ui,!0),this._ui.destroy(),this._ui=null),this._ui=this.createUI(null,this,null,this._tongue),this.add(this._ui),null!=(t=I.xml(this._xml_id))&&this.loadUIFromData(t),this._reload=!1,this._reload_countdown=0},__class__:Ta});var na=function(t,e){this.skippedFrames=0;var n=16777215&(-256&(-65281&(-16711681&(n=qb._new())|9699328)|0)|211)|-16777216,s=16777215&(-256&(-65281&(-16711681&(s=qb._new())|4915200)|0)|130)|-16777216,i=16777215&(-256&(-65281&(-16711681&(i=qb._new())|0)|0)|255)|-16777216,a=16777215&(-256&(-65281&(-16711681&(a=qb._new())|0)|65280)|0)|-16777216,r=16777215&(-256&(-65281&(-16711681&(r=qb._new())|16711680)|65280)|0)|-16777216,l=16777215&(-256&(-65281&(-16711681&(l=qb._new())|16711680)|32512)|0)|-16777216,o=qb._new();this.array=[n,s,i,a,r,l,16777215&(-256&(-65281&(-16711681&o|16711680)|0)|0)|-16777216],this.lastBeat=this.lastStep=this.curStep=this.curBeat=0,Ta.call(this,t,e)};r.MusicBeatState=na,na.__name__="MusicBeatState",na.__super__=Ta,na.prototype=D(Ta.prototype,{lastBeat:null,lastStep:null,curStep:null,curBeat:null,get_controls:function(){return ec.player1.controls},create:function(){xa.__cast(Ga.get_current().getChildAt(0),Ha).setFPSCap(n.save.data.fpsCap),null!=this.transIn&&Bb.trace("reg "+U.string(this.transIn.region),{fileName:"source/MusicBeatState.hx",lineNumber:30,className:"MusicBeatState",methodName:"create"}),Ta.prototype.create.call(this)},array:null,skippedFrames:null,update:function(t){var e=this.curStep;this.updateCurStep(),this.updateBeat(),e!=this.curStep&&0<this.curStep&&this.stepHit(),n.save.data.fpsRain&&6<=this.skippedFrames?(na.currentColor>=this.array.length&&(na.currentColor=0),xa.__cast(Ga.get_current().getChildAt(0),Ha).changeFPSColor(this.array[na.currentColor]),na.currentColor++,this.skippedFrames=0):this.skippedFrames++,y(C=xa.__cast(Ga.get_current().getChildAt(0),Ha),C.getFPSCap)!=n.save.data.fpsCap&&n.save.data.fpsCap<=290&&xa.__cast(Ga.get_current().getChildAt(0),Ha).setFPSCap(n.save.data.fpsCap),Ta.prototype.update.call(this,t)},updateBeat:function(){this.lastBeat=this.curStep,this.curBeat=Math.floor(this.curStep/4)},updateCurStep:function(){for(var t={stepTime:0,songTime:0,bpm:0},e=0,n=ea.bpmChangeMap.length;e<n;){var s=e++;ea.songPosition>=ea.bpmChangeMap[s].songTime&&(t=ea.bpmChangeMap[s])}this.curStep=t.stepTime+Math.floor((ea.songPosition-t.songTime)/ea.stepCrochet)},stepHit:function(){0==this.curStep%4&&this.beatHit()},beatHit:function(){},__class__:na,__properties__:D(Ta.prototype.__properties__,{get_controls:"get_controls"})});var ic=function(t,e){this.daSpacing=.3,this.updatedSection=!1,this.tempBpm=0,this.GRID_SIZE=40,this.amountSteps=0,this.curSong="Dadbattle",this.curSection=0,na.call(this,t,e)};r.ChartingState=ic,ic.__name__="ChartingState",ic.__super__=na,ic.prototype=D(na.prototype,{_file:null,UI_box:null,curSection:null,bpmTxt:null,strumLine:null,curSong:null,amountSteps:null,bullshitUI:null,highlight:null,GRID_SIZE:null,dummyArrow:null,curRenderedNotes:null,curRenderedSustains:null,gridBG:null,_song:null,typingShit:null,curSelectedNote:null,tempBpm:null,vocals:null,leftIcon:null,rightIcon:null,create:function(){this.curSection=ic.lastSection,this.gridBG=rk.create(this.GRID_SIZE,this.GRID_SIZE,8*this.GRID_SIZE,16*this.GRID_SIZE),this.add(this.gridBG),this.leftIcon=new Cj("bf"),this.rightIcon=new Cj("dad"),this.leftIcon.scrollFactor.set(1,1),this.rightIcon.scrollFactor.set(1,1),this.leftIcon.setGraphicSize(0,45),this.rightIcon.setGraphicSize(0,45),this.add(this.leftIcon),this.add(this.rightIcon),this.leftIcon.setPosition(0,-100),this.rightIcon.setPosition(this.gridBG.get_width()/2,-100);var t=new M(this.gridBG.x+this.gridBG.get_width()/2).makeGraphic(2,0|this.gridBG.get_height(),-16777216);this.add(t),this.curRenderedNotes=new Aa,this.curRenderedSustains=new Aa,this._song=null!=L.SONG?L.SONG:{song:"Test",notes:[],bpm:150,needsVoices:!0,player1:"bf",player2:"dad",speed:1,validScore:!1},n.mouse.set_visible(!0),n.save.bind("funkin","ninjamuffin99"),this.tempBpm=this._song.bpm,this.addSection(),this.updateGrid(),this.loadSong(this._song.song),ea.changeBPM(this._song.bpm),ea.mapBPMChanges(this._song),this.bpmTxt=new Vb(1e3,50,0,"",16),this.bpmTxt.scrollFactor.set(),this.add(this.bpmTxt),this.strumLine=new M(0,50).makeGraphic(n.width/2|0,4),this.add(this.strumLine),this.dummyArrow=(new M).makeGraphic(this.GRID_SIZE,this.GRID_SIZE),this.add(this.dummyArrow),this.UI_box=new oi(null,null,[{name:"Song",label:"Song"},{name:"Section",label:"Section"},{name:"Note",label:"Note"}],null,!0),this.UI_box.resize(300,400),this.UI_box.set_x(n.width/2),this.UI_box.set_y(20),this.add(this.UI_box),this.addSongUI(),this.addSectionUI(),this.addNoteUI(),this.add(this.curRenderedNotes),this.add(this.curRenderedSustains),na.prototype.create.call(this)},addSongUI:function(){var e=this,t=new yg(10,10,70,this._song.song,8);this.typingShit=t;var s=new uf(10,25,null,null,"Has voice track",100);s.set_checked(this._song.needsVoices),s.callback=function(){e._song.needsVoices=s.checked,Bb.trace("CHECKED!",{fileName:"source/ChartingState.hx",lineNumber:188,className:"ChartingState",methodName:"addSongUI"})};var i=new uf(10,200,null,null,"Mute Instrumental (in editor)",100);i.set_checked(!1),i.callback=function(){var t=1;i.checked&&(t=0),n.sound.music.set_volume(t)};var a=new ag(110,8,"Save",function(){e.saveLevel()}),r=new ag(a.x+a.get_width()+10,a.y,"Reload Audio",function(){e.loadSong(e._song.song)}),l=new ag(r.x,a.y+30,"Reload JSON",function(){e.loadJson(e._song.song.toLowerCase())}),o=new ag(l.x,l.y+30,"load autosave",y(this,this.loadAutosave)),h=new vf(10,80,.1,1,.1,10,1);h.set_value(this._song.speed),h.name="song_speed";var _=new vf(10,65,1,1,1,339,0);_.set_value(ea.bpm),_.name="song_bpm";var u=Re.coolTextFile(N.getPath("data/characterList.txt","TEXT",null)),c=new bg(10,100,bg.makeStrIdLabelArray(u,!0),function(t){e._song.player1=u[U.parseInt(t)]});c.set_selectedLabel(this._song.player1);var d=new bg(140,100,bg.makeStrIdLabelArray(u,!0),function(t){e._song.player2=u[U.parseInt(t)]});d.set_selectedLabel(this._song.player2);var f=new Kb(null,this.UI_box);f.name="Song",f.add(t),f.add(s),f.add(i),f.add(a),f.add(r),f.add(l),f.add(o),f.add(_),f.add(h),f.add(c),f.add(d),this.UI_box.addGroup(f),this.UI_box.scrollFactor.set(),n.camera.follow(this.strumLine)},stepperLength:null,check_mustHitSection:null,check_changeBPM:null,stepperSectionBPM:null,check_altAnim:null,addSectionUI:function(){var i=this,t=new Kb(null,this.UI_box);t.name="Section",this.stepperLength=new vf(10,10,4,0,0,999,0),this.stepperLength.set_value(this._song.notes[this.curSection].lengthInSteps),this.stepperLength.name="section_length",this.stepperSectionBPM=new vf(10,80,1,ea.bpm,0,999,0),this.stepperSectionBPM.set_value(ea.bpm),this.stepperSectionBPM.name="section_bpm";var e=new vf(110,130,1,1,-999,999,0),n=new ag(10,130,"Copy last section",function(){i.copySection(0|e.value)}),s=new ag(10,150,"Clear",y(this,this.clearSection)),a=new ag(10,170,"Swap section",function(){for(var t=0,e=i._song.notes[i.curSection].sectionNotes.length;t<e;){var n=t++,s=i._song.notes[i.curSection].sectionNotes[n];s[1]=(s[1]+4)%8,i._song.notes[i.curSection].sectionNotes[n]=s,i.updateGrid()}});this.check_mustHitSection=new uf(10,30,null,null,"Must hit section",100),this.check_mustHitSection.name="check_mustHit",this.check_mustHitSection.set_checked(!0),this.check_altAnim=new uf(10,400,null,null,"Alt Animation",100),this.check_altAnim.name="check_altAnim",this.check_changeBPM=new uf(10,60,null,null,"Change BPM",100),this.check_changeBPM.name="check_changeBPM",t.add(this.stepperLength),t.add(this.stepperSectionBPM),t.add(e),t.add(this.check_mustHitSection),t.add(this.check_altAnim),t.add(this.check_changeBPM),t.add(n),t.add(s),t.add(a),this.UI_box.addGroup(t)},stepperSusLength:null,addNoteUI:function(){var t=new Kb(null,this.UI_box);t.name="Note",this.stepperSusLength=new vf(10,10,ea.stepCrochet/2,0,0,48*ea.stepCrochet),this.stepperSusLength.set_value(0),this.stepperSusLength.name="note_susLength";var e=new ag(100,10,"Apply");t.add(this.stepperSusLength),t.add(e),this.UI_box.addGroup(t)},loadSong:function(t){var e,s=this;null!=n.sound.music&&(e=n.sound.music).cleanup(e.autoDestroy,!0),n.sound.playMusic("songs:assets/songs/"+t.toLowerCase()+"/Inst.mp3",.6),this.vocals=(new gd).loadEmbedded("songs:assets/songs/"+t.toLowerCase()+"/Voices.mp3"),n.sound.list.add(this.vocals),n.sound.music.pause(),this.vocals.pause(),n.sound.music.onComplete=function(){s.vocals.pause(),s.vocals.set_time(0),n.sound.music.pause(),n.sound.music.set_time(0),s.changeSection()}},generateUI:function(){for(;0<this.bullshitUI.members.length;)this.bullshitUI.remove(this.bullshitUI.members[0],!0);var t=new Vb(this.UI_box.x+20,this.UI_box.y+20,0);this.bullshitUI.add(t)},getEvent:function(t,e,n,s){if("click_check_box"==t)switch(e.getLabel().text){case"Alt Animation":this._song.notes[this.curSection].altAnim=e.checked;break;case"Change BPM":this._song.notes[this.curSection].changeBPM=e.checked;break;case"Must hit section":this._song.notes[this.curSection].mustHitSection=e.checked,this.updateHeads()}else"change_numeric_stepper"==t&&e instanceof vf&&("section_length"==(t=e.name)?(this._song.notes[this.curSection].lengthInSteps=0|e.value,this.updateGrid()):"song_speed"==t?this._song.speed=e.value:"song_bpm"==t?(this.tempBpm=0|e.value,ea.mapBPMChanges(this._song),ea.changeBPM(0|e.value)):"note_susLength"==t?(this.curSelectedNote[2]=e.value,this.updateGrid()):"section_bpm"==t&&(this._song.notes[this.curSection].bpm=0|e.value,this.updateGrid()))},updatedSection:null,sectionStartTime:function(){for(var t=this._song.bpm,e=0,n=0,s=this.curSection;n<s;){var i=n++;e+=6e4/(t=this._song.notes[i].changeBPM?this._song.notes[i].bpm:t)*4}return e},update:function(t){var e,s,i=this;this.curStep=this.recalculateSteps(),ea.songPosition=n.sound.music._time,this._song.song=this.typingShit.text,this.strumLine.set_y(this.getYfromStrum((ea.songPosition-this.sectionStartTime())%(ea.stepCrochet*this._song.notes[this.curSection].lengthInSteps))),0==this.curBeat%4&&this.curStep>=16*(this.curSection+1)&&(Bb.trace(this.curStep,{fileName:"source/ChartingState.hx",lineNumber:483,className:"ChartingState",methodName:"update"}),Bb.trace(this._song.notes[this.curSection].lengthInSteps*(this.curSection+1),{fileName:"source/ChartingState.hx",lineNumber:484,className:"ChartingState",methodName:"update"}),Bb.trace("DUMBSHIT",{fileName:"source/ChartingState.hx",lineNumber:485,className:"ChartingState",methodName:"update"}),null==this._song.notes[this.curSection+1]&&this.addSection(),this.changeSection(this.curSection+1,!1)),2==n.mouse._leftButton.current&&(n.mouse.overlaps(this.curRenderedNotes)?this.curRenderedNotes.forEach(function(t){var e;n.mouse.overlaps(t)&&((e=n.keys.pressed).keyManager.checkStatus(17,e.status)?i.selectNote(t):(Bb.trace("tryin to delete note...",{fileName:"source/ChartingState.hx",lineNumber:512,className:"ChartingState",methodName:"update"}),i.deleteNote(t)))}):n.mouse.x>this.gridBG.x&&n.mouse.x<this.gridBG.x+this.gridBG.get_width()&&n.mouse.y>this.gridBG.y&&n.mouse.y<this.gridBG.y+this.GRID_SIZE*this._song.notes[this.curSection].lengthInSteps&&this.addNote()),n.mouse.x>this.gridBG.x&&n.mouse.x<this.gridBG.x+this.gridBG.get_width()&&n.mouse.y>this.gridBG.y&&n.mouse.y<this.gridBG.y+this.GRID_SIZE*this._song.notes[this.curSection].lengthInSteps&&(this.dummyArrow.set_x(Math.floor(n.mouse.x/this.GRID_SIZE)*this.GRID_SIZE),(s=n.keys.pressed).keyManager.checkStatus(16,s.status)?this.dummyArrow.set_y(n.mouse.y):this.dummyArrow.set_y(Math.floor(n.mouse.y/this.GRID_SIZE)*this.GRID_SIZE)),(s=n.keys.justPressed).keyManager.checkStatus(13,s.status)&&(ic.lastSection=this.curSection,L.SONG=this._song,(s=n.sound.music).cleanup(s.autoDestroy,!0),(s=this.vocals).cleanup(s.autoDestroy,!0),s=new L,n.game._state.switchTo(s)&&(n.game._requestedState=s),n.mouse.set_visible(!1)),(s=n.keys.justPressed).keyManager.checkStatus(69,s.status)&&this.changeNoteSustain(ea.stepCrochet),(s=n.keys.justPressed).keyManager.checkStatus(81,s.status)&&this.changeNoteSustain(-ea.stepCrochet),(s=n.keys.justPressed).keyManager.checkStatus(9,s.status)&&((s=n.keys.pressed).keyManager.checkStatus(16,s.status)?((s=this.UI_box).set_selected_tab(s.get_selected_tab()-1),this.UI_box.get_selected_tab()<0&&this.UI_box.set_selected_tab(2)):((s=this.UI_box).set_selected_tab(s.get_selected_tab()+1),3<=this.UI_box.get_selected_tab()&&this.UI_box.set_selected_tab(0))),this.typingShit.hasFocus||((s=n.keys.justPressed).keyManager.checkStatus(32,s.status)&&(null!=n.sound.music._channel?(n.sound.music.pause(),this.vocals.pause()):(this.vocals.play(),n.sound.music.play())),(s=n.keys.justPressed).keyManager.checkStatus(82,s.status)&&((s=n.keys.pressed).keyManager.checkStatus(16,s.status)?this.resetSection(!0):this.resetSection()),0!=n.mouse.wheel&&(n.sound.music.pause(),this.vocals.pause(),(s=n.sound.music).set_time(s._time-n.mouse.wheel*ea.stepCrochet*.4),this.vocals.set_time(n.sound.music._time)),(s=n.keys.pressed).keyManager.checkStatus(16,s.status)?(s=!!(s=n.keys.justPressed).keyManager.checkStatus(87,s.status)||(s=n.keys.justPressed).keyManager.checkStatus(83,s.status))&&(n.sound.music.pause(),this.vocals.pause(),e=2*ea.stepCrochet,(s=n.keys.justPressed).keyManager.checkStatus(87,s.status)?(s=n.sound.music).set_time(s._time-e):(s=n.sound.music).set_time(s._time+e),this.vocals.set_time(n.sound.music._time)):(s=!!(s=n.keys.pressed).keyManager.checkStatus(87,s.status)||(s=n.keys.pressed).keyManager.checkStatus(83,s.status))&&(n.sound.music.pause(),this.vocals.pause(),e=700*n.elapsed,(s=n.keys.pressed).keyManager.checkStatus(87,s.status)?(s=n.sound.music).set_time(s._time-e):(s=n.sound.music).set_time(s._time+e),this.vocals.set_time(n.sound.music._time))),this._song.bpm=this.tempBpm,e=1,(s=n.keys.pressed).keyManager.checkStatus(16,s.status)&&(e=4),(s=!!(s=n.keys.justPressed).keyManager.checkStatus(39,s.status)||(s=n.keys.justPressed).keyManager.checkStatus(68,s.status))&&this.changeSection(this.curSection+e),(s=!!(s=n.keys.justPressed).keyManager.checkStatus(37,s.status)||(s=n.keys.justPressed).keyManager.checkStatus(65,s.status))&&this.changeSection(this.curSection-e),this.bpmTxt.set_text(this.bpmTxt.set_text(U.string(Hb.roundDecimal(ea.songPosition/1e3,2))+" / "+U.string(Hb.roundDecimal(n.sound.music._length/1e3,2))+"\nSection: "+this.curSection+"\nCurStep: "+this.curStep+"\nCurBeat: "+this.curBeat)),na.prototype.update.call(this,t)},changeNoteSustain:function(t){null!=this.curSelectedNote&&null!=this.curSelectedNote[2]&&(this.curSelectedNote[2]+=t,this.curSelectedNote[2]=Math.max(this.curSelectedNote[2],0)),this.updateNoteUI(),this.updateGrid()},recalculateSteps:function(){for(var t={stepTime:0,songTime:0,bpm:0},e=0,s=ea.bpmChangeMap.length;e<s;){var i=e++;n.sound.music._time>ea.bpmChangeMap[i].songTime&&(t=ea.bpmChangeMap[i])}return this.curStep=t.stepTime+Math.floor((n.sound.music._time-t.songTime)/ea.stepCrochet),this.updateBeat(),this.curStep},resetSection:function(t){null==t&&(t=!1),this.updateGrid(),n.sound.music.pause(),this.vocals.pause(),n.sound.music.set_time(this.sectionStartTime()),t&&(n.sound.music.set_time(0),this.curSection=0),this.vocals.set_time(n.sound.music._time),this.updateCurStep(),this.updateGrid(),this.updateSectionUI()},changeSection:function(t,e){null==e&&(e=!0),Bb.trace("changing section"+(t=null==t?0:t),{fileName:"source/ChartingState.hx",lineNumber:734,className:"ChartingState",methodName:"changeSection"}),null!=this._song.notes[t]&&(this.curSection=t,this.updateGrid(),e&&(n.sound.music.pause(),this.vocals.pause(),n.sound.music.set_time(this.sectionStartTime()),this.vocals.set_time(n.sound.music._time),this.updateCurStep()),this.updateGrid(),this.updateSectionUI())},copySection:function(t){for(var e=(t=null==t?1:t)<(e=this.curSection)?e:t,n=0,s=this._song.notes[e-t].sectionNotes;n<s.length;){var i=s[n];++n,this._song.notes[e].sectionNotes.push([i[0]+ea.stepCrochet*this._song.notes[e].lengthInSteps*t,i[1],i[2]])}this.updateGrid()},updateSectionUI:function(){var t=this._song.notes[this.curSection];this.stepperLength.set_value(t.lengthInSteps),this.check_mustHitSection.set_checked(t.mustHitSection),this.check_altAnim.set_checked(t.altAnim),this.check_changeBPM.set_checked(t.changeBPM),this.stepperSectionBPM.set_value(t.bpm),this.updateHeads()},updateHeads:function(){this.check_mustHitSection.checked?(this.leftIcon.animation.play("bf"),this.rightIcon.animation.play("dad")):(this.leftIcon.animation.play("dad"),this.rightIcon.animation.play("bf"))},updateNoteUI:function(){null!=this.curSelectedNote&&this.stepperSusLength.set_value(this.curSelectedNote[2])},updateGrid:function(){for(;0<this.curRenderedNotes.members.length;)this.curRenderedNotes.remove(this.curRenderedNotes.members[0],!0);for(;0<this.curRenderedSustains.members.length;)this.curRenderedSustains.remove(this.curRenderedSustains.members[0],!0);var t=this._song.notes[this.curSection].sectionNotes;if(this._song.notes[this.curSection].changeBPM&&0<this._song.notes[this.curSection].bpm)ea.changeBPM(this._song.notes[this.curSection].bpm);else{for(var e=this._song.bpm,n=0,s=this.curSection;n<s;){var i=n++;this._song.notes[i].changeBPM&&(e=this._song.notes[i].bpm)}ea.changeBPM(e)}for(n=0;n<t.length;){i=t[n],++n;var e=i[1],s=i[0],i=i[2],a=new Nd(s,e%4);a.sustainLength=i,a.setGraphicSize(this.GRID_SIZE,this.GRID_SIZE),a.updateHitbox(),a.burning=7<e,a.set_x(Math.floor(e*this.GRID_SIZE)),a.set_y(Math.floor(this.getYfromStrum((s-this.sectionStartTime())%(ea.stepCrochet*this._song.notes[this.curSection].lengthInSteps)))),this.curRenderedNotes.add(a),0<i&&(i=new M(a.x+this.GRID_SIZE/2,a.y+this.GRID_SIZE).makeGraphic(8,Math.floor(Hb.remapToRange(i,0,16*ea.stepCrochet,0,this.gridBG.get_height()))),this.curRenderedSustains.add(i))}},addSection:function(t){this._song.notes.push({lengthInSteps:t=null==t?16:t,bpm:this._song.bpm,changeBPM:!1,mustHitSection:!0,sectionNotes:[],typeOfSection:0,altAnim:!1})},selectNote:function(t){for(var e=0,n=0,s=this._song.notes[this.curSection].sectionNotes;n<s.length;){var i=s[n];++n,i.strumTime==t.strumTime&&i.noteData%4==t.noteData&&(this.curSelectedNote=this._song.notes[this.curSection].sectionNotes[e]),++e}this.updateGrid(),this.updateNoteUI()},deleteNote:function(t){for(var e=0,n=this._song.notes[this.curSection].sectionNotes;e<n.length;){var s=n[e];++e,s[0]==t.strumTime&&s[1]%4==t.noteData&&oa.remove(this._song.notes[this.curSection].sectionNotes,s)}this.updateGrid()},clearSection:function(){this._song.notes[this.curSection].sectionNotes=[],this.updateGrid()},clearSong:function(){for(var t=0,e=this._song.notes.length;t<e;){var n=t++;this._song.notes[n].sectionNotes=[]}this.updateGrid()},addNote:function(){var t=this.getStrumTime(this.dummyArrow.y)+16*this.curSection*ea.stepCrochet,e=n.keys.pressed,s=Math.floor(n.mouse.x/this.GRID_SIZE)+(e.keyManager.checkStatus(18,e.status)?8:0);this._song.notes[this.curSection].sectionNotes.push([t,s,0]),this.curSelectedNote=this._song.notes[this.curSection].sectionNotes[this._song.notes[this.curSection].sectionNotes.length-1],(e=n.keys.pressed).keyManager.checkStatus(17,e.status)&&this._song.notes[this.curSection].sectionNotes.push([t,(s+4)%8,0]),Bb.trace(t,{fileName:"source/ChartingState.hx",lineNumber:962,className:"ChartingState",methodName:"addNote"}),Bb.trace(this.curSection,{fileName:"source/ChartingState.hx",lineNumber:963,className:"ChartingState",methodName:"addNote"}),this.updateGrid(),this.updateNoteUI(),this.autosaveSong()},getStrumTime:function(t){return Hb.remapToRange(t,this.gridBG.y,this.gridBG.y+this.gridBG.get_height(),0,16*ea.stepCrochet)},getYfromStrum:function(t){return Hb.remapToRange(t,0,16*ea.stepCrochet,this.gridBG.y,this.gridBG.y+this.gridBG.get_height())},daSpacing:null,loadLevel:function(){Bb.trace(this._song.notes,{fileName:"source/ChartingState.hx",lineNumber:1008,className:"ChartingState",methodName:"loadLevel"})},getNotes:function(){for(var t=[],e=0,n=this._song.notes;e<n.length;){var s=n[e];++e,t.push(s.sectionNotes)}return t},loadJson:function(t){L.SONG=Yg.loadFromJson(t.toLowerCase(),t.toLowerCase()),t=Cb.createInstance(xa.getClass(n.game._state),[]),n.game._state.switchTo(t)&&(n.game._requestedState=t)},loadAutosave:function(){L.SONG=Yg.parseJSONshit(n.save.data.autosave);var t=Cb.createInstance(xa.getClass(n.game._state),[]);n.game._state.switchTo(t)&&(n.game._requestedState=t)},autosaveSong:function(){n.save.data.autosave=JSON.stringify({song:this._song}),n.save.flush()},saveLevel:function(){var t=JSON.stringify({song:this._song});null!=t&&0<t.length&&(this._file=new Rm,this._file.addEventListener("complete",y(this,this.onSaveComplete)),this._file.addEventListener("cancel",y(this,this.onSaveCancel)),this._file.addEventListener("ioError",y(this,this.onSaveError)),this._file.save(Y.trim(t),this._song.song.toLowerCase()+".json"))},onSaveComplete:function(t){this._file.removeEventListener("complete",y(this,this.onSaveComplete)),this._file.removeEventListener("cancel",y(this,this.onSaveCancel)),this._file.removeEventListener("ioError",y(this,this.onSaveError)),this._file=null},onSaveCancel:function(t){this._file.removeEventListener("complete",y(this,this.onSaveComplete)),this._file.removeEventListener("cancel",y(this,this.onSaveCancel)),this._file.removeEventListener("ioError",y(this,this.onSaveError)),this._file=null},onSaveError:function(t){this._file.removeEventListener("complete",y(this,this.onSaveComplete)),this._file.removeEventListener("cancel",y(this,this.onSaveCancel)),this._file.removeEventListener("ioError",y(this,this.onSaveError)),this._file=null},__class__:ic}),Math.__name__="Math";var ea=function(){};r.Conductor=ea,ea.__name__="Conductor",ea.songPosition=null,ea.lastSongPos=null,ea.recalculateTimings=function(){ea.safeFrames=n.save.data.frames,ea.safeZoneOffset=Math.floor(ea.safeFrames/60*1e3),ea.timeScale=ea.safeZoneOffset/166},ea.mapBPMChanges=function(t){ea.bpmChangeMap=[];for(var e=t.bpm,n=0,s=0,i=0,a=t.notes.length;i<a;){var r=i++;t.notes[r].changeBPM&&t.notes[r].bpm!=e&&(e=t.notes[r].bpm,ea.bpmChangeMap.push({stepTime:n,songTime:s,bpm:e})),n+=r=t.notes[r].lengthInSteps,s+=60/e*1e3/4*r}Bb.trace("new BPM map BUDDY "+U.string(ea.bpmChangeMap),{fileName:"source/Conductor.hx",lineNumber:68,className:"Conductor",methodName:"mapBPMChanges"})},ea.changeBPM=function(t){ea.bpm=t,ea.crochet=60/ea.bpm*1e3,ea.stepCrochet=ea.crochet/4},ea.prototype={__class__:ea},F.Device={__ename__:"Device",__constructs__:["Keys","Gamepad"],Keys:{_hx_index:0,__enum__:"Device",toString:v},Gamepad:(C=function(t){return{_hx_index:1,id:t,__enum__:"Device",toString:v}},C.__params__=["id"],C)};var Hc=F.Control={__ename__:"Control",__constructs__:"UP LEFT RIGHT DOWN RESET ACCEPT BACK PAUSE CHEAT".split(" "),UP:{_hx_index:0,__enum__:"Control",toString:v},LEFT:{_hx_index:1,__enum__:"Control",toString:v},RIGHT:{_hx_index:2,__enum__:"Control",toString:v},DOWN:{_hx_index:3,__enum__:"Control",toString:v},RESET:{_hx_index:4,__enum__:"Control",toString:v},ACCEPT:{_hx_index:5,__enum__:"Control",toString:v},BACK:{_hx_index:6,__enum__:"Control",toString:v},PAUSE:{_hx_index:7,__enum__:"Control",toString:v},CHEAT:{_hx_index:8,__enum__:"Control",toString:v}},hd=F.KeyboardScheme={__ename__:"KeyboardScheme",__constructs__:["Solo","Duo","None","Custom"],Solo:{_hx_index:0,__enum__:"KeyboardScheme",toString:v},Duo:(C=function(t){return{_hx_index:1,first:t,__enum__:"KeyboardScheme",toString:v}},C.__params__=["first"],C),None:{_hx_index:2,__enum__:"KeyboardScheme",toString:v},Custom:{_hx_index:3,__enum__:"KeyboardScheme",toString:v}},Se=function(t,e,n){this.active=!0,this.name="",this.name=t,null==n&&(n=[]),this.digitalActions=e=null==e?[]:e,this.analogActions=n};r["flixel.input.actions.FlxActionSet"]=Se,Se.__name__="flixel.input.actions.FlxActionSet",Se.__interfaces__=[X],Se.fromJson=function(t,e,n){var s=[],i=[];if(null==t)return null;if(null!=t.digitalActions)for(var a=t.digitalActions,r=0;r<a.length;){var l=a[r];++r,l=new Ce(l,e),s.push(l)}if(null!=t.analogActions)for(e=t.analogActions,r=0;r<e.length;)a=e[r],++r,l=new Sm(a,n),i.push(l);return null!=t.name?new Se(t.name,s,i):null},Se.prototype={name:null,digitalActions:null,analogActions:null,active:null,toJson:function(){return JSON.stringify(this,function(t,e){return e instanceof Kf?{type:e.type,name:e.name,steamHandle:e.steamHandle}:e},"\t")},attachSteamController:function(t,e){this.attachSteamControllerSub(t,e=null==e?!0:e,Zg.DIGITAL,this.digitalActions,null),this.attachSteamControllerSub(t,e,Zg.ANALOG,null,this.analogActions)},add:function(t){return t.type==Zg.DIGITAL?-1==this.digitalActions.indexOf(t)&&(this.digitalActions.push(t),!0):t.type==Zg.ANALOG&&(-1==this.analogActions.indexOf(t)&&(this.analogActions.push(t),!0))},destroy:function(){this.digitalActions=ya.destroyArray(this.digitalActions),this.analogActions=ya.destroyArray(this.analogActions)},remove:function(t,e){null==e&&(e=!0);var n=!1;return t.type==Zg.DIGITAL?(n=oa.remove(this.digitalActions,t))&&e&&t.destroy():t.type==Zg.ANALOG&&(n=oa.remove(this.analogActions,t))&&e&&t.destroy(),n},update:function(){if(this.active){for(var t=0,e=this.digitalActions;t<e.length;){var n=e[t];++t,n.update()}for(t=0,e=this.analogActions;t<e.length;)n=e[t],++t,n.update()}},attachSteamControllerSub:function(t,e,n,s,i){for(var a=0,r=(n==Zg.DIGITAL?s:i).length;a<r;){var l=a++,o=(n==Zg.DIGITAL?s:i)[l];if(-1!=o.steamHandle){var h=!1,_=null;if(null!=o.inputs)for(var u=0,c=o.inputs;u<c.length;){var d=c[u];++u,d.device==Yc.STEAM_CONTROLLER&&d.deviceID==t&&(h=!0,_=d)}e?h||(n==Zg.DIGITAL?s[l].add(new Tm(o.steamHandle,2,t)):n==Zg.ANALOG&&i[l].add(new Um(o.steamHandle,1,3,t))):h&&o.remove(_)}}},__class__:Se};var mc=function(t,e){null==e&&(e=hd.None),this.keyboardScheme=hd.None,this.gamepadsAdded=[],this.byName=new va,this._cheat=new Ce("cheat"),this._reset=new Ce("reset"),this._pause=new Ce("pause"),this._back=new Ce("back"),this._accept=new Ce("accept"),this._downR=new Ce("down-release"),this._rightR=new Ce("right-release"),this._leftR=new Ce("left-release"),this._upR=new Ce("up-release"),this._downP=new Ce("down-press"),this._rightP=new Ce("right-press"),this._leftP=new Ce("left-press"),this._upP=new Ce("up-press"),this._down=new Ce("down"),this._right=new Ce("right"),this._left=new Ce("left"),this._up=new Ce("up"),Se.call(this,t),this.add(this._up),this.add(this._left),this.add(this._right),this.add(this._down),this.add(this._upP),this.add(this._leftP),this.add(this._rightP),this.add(this._downP),this.add(this._upR),this.add(this._leftR),this.add(this._rightR),this.add(this._downR),this.add(this._accept),this.add(this._back),this.add(this._pause),this.add(this._reset),this.add(this._cheat),t=0;for(var n=this.digitalActions;t<n.length;){var s=n[t];++t,this.byName.h[s.name]=s}this.setKeyboardScheme(e,!1)};r.Controls=mc,mc.__name__="Controls",mc.init=function(){var t=new Vm;n.inputs.add_flixel_input_actions_FlxActionManager(t)},mc.addKeys=function(t,e,n){for(var s=0;s<e.length;){var i=e[s];++s,t.addKey(i,n)}},mc.removeKeys=function(t,e){for(var n=t.inputs.length;0<n--;){var s=t.inputs[n];s.device==Yc.KEYBOARD&&-1!=e.indexOf(s.inputID)&&t.remove(s)}},mc.addButtons=function(t,e,n,s){for(var i=0;i<e.length;){var a=e[i];++i,t.addGamepad(a,n,s)}},mc.removeButtons=function(t,e,n){for(var s=t.inputs.length;0<s--;){var i=t.inputs[s];i.device!=Yc.GAMEPAD||-1!=e&&i.deviceID!=e||-1==n.indexOf(i.inputID)||t.remove(i)}},mc.isDevice=function(t,e){switch(e._hx_index){case 0:return t.device==Yc.KEYBOARD;case 1:return e=e.id,t.device==Yc.GAMEPAD&&(-1==e||t.deviceID==e)}},mc.isGamepad=function(t,e){return t.device==Yc.GAMEPAD&&(-1==e||t.deviceID==e)},mc.__super__=Se,mc.prototype=D(Se.prototype,{_up:null,_left:null,_right:null,_down:null,_upP:null,_leftP:null,_rightP:null,_downP:null,_upR:null,_leftR:null,_rightR:null,_downR:null,_accept:null,_back:null,_pause:null,_reset:null,_cheat:null,byName:null,gamepadsAdded:null,keyboardScheme:null,get_UP:function(){return this._up.check()},get_LEFT:function(){return this._left.check()},get_RIGHT:function(){return this._right.check()},get_DOWN:function(){return this._down.check()},get_UP_P:function(){return this._upP.check()},get_LEFT_P:function(){return this._leftP.check()},get_RIGHT_P:function(){return this._rightP.check()},get_DOWN_P:function(){return this._downP.check()},get_UP_R:function(){return this._upR.check()},get_LEFT_R:function(){return this._leftR.check()},get_RIGHT_R:function(){return this._rightR.check()},get_DOWN_R:function(){return this._downR.check()},get_ACCEPT:function(){return this._accept.check()},get_BACK:function(){return this._back.check()},get_PAUSE:function(){return this._pause.check()},get_RESET:function(){return this._reset.check()},get_CHEAT:function(){return this._cheat.check()},update:function(){Se.prototype.update.call(this)},checkByName:function(t){return this.byName.h[t].check()},getDialogueName:function(t){var e=(t=t.inputs[0]).device;switch(e._hx_index){case 3:return"["+(null==(t=t.inputID)?"null":db.toStringMap.h[t])+"]";case 4:return"("+(null==(t=t.inputID)?"null":Ac.toStringMap.h[t])+")";default:throw G.thrown("unhandled device: "+U.string(e))}},getDialogueNameFromToken:function(t){return this.getDialogueName(this.getActionFromControl(Cb.createEnum(Hc,t.toUpperCase(),null)))},getActionFromControl:function(t){switch(t._hx_index){case 0:return this._up;case 1:return this._left;case 2:return this._right;case 3:return this._down;case 4:return this._reset;case 5:return this._accept;case 6:return this._back;case 7:return this._pause;case 8:return this._cheat}},forEachBound:function(t,e){switch(t._hx_index){case 0:e(this._up,1),e(this._upP,2),e(this._upR,-1);break;case 1:e(this._left,1),e(this._leftP,2),e(this._leftR,-1);break;case 2:e(this._right,1),e(this._rightP,2),e(this._rightR,-1);break;case 3:e(this._down,1),e(this._downP,2),e(this._downR,-1);break;case 4:e(this._reset,2);break;case 5:e(this._accept,2);break;case 6:e(this._back,2);break;case 7:e(this._pause,2);break;case 8:e(this._cheat,2)}},replaceBinding:function(t,e,n,s){if(n!=s)switch(e._hx_index){case 0:null!=s&&this.unbindKeys(t,[s]),null!=n&&this.bindKeys(t,[n]);break;case 1:e=e.id,null!=s&&this.unbindButtons(t,e,[s]),null!=n&&this.bindButtons(t,e,[n])}},copyFrom:function(t,e){for(var n=va.kvIterator(t.byName.h);n.hasNext();)for(var s=(a=n.next()).key,i=0,a=a.value.inputs;i<a.length;){var r=a[i];++i,null!=e&&!mc.isDevice(r,e)||this.byName.h[s].add(r)}if(null==e){for(n=0,a=t.gamepadsAdded;n<a.length;)e=a[n],++n,-1==this.gamepadsAdded.indexOf(e)&&this.gamepadsAdded.push(e);this.mergeKeyboardScheme(t.keyboardScheme)}else switch(e._hx_index){case 0:this.mergeKeyboardScheme(t.keyboardScheme);break;case 1:this.gamepadsAdded.push(e.id)}},copyTo:function(t,e){t.copyFrom(this,e)},mergeKeyboardScheme:function(t){t!=hd.None&&(this.keyboardScheme=2==this.keyboardScheme._hx_index?t:hd.Custom)},bindKeys:function(t,e){switch(t._hx_index){case 0:t=this._up;for(var n=1,s=0;s<e.length;){var i=e[s];++s,t.addKey(i,n)}for(t=this._upP,n=2,s=0;s<e.length;)i=e[s],++s,t.addKey(i,n);for(t=this._upR,n=-1,s=0;s<e.length;)i=e[s],++s,t.addKey(i,n);break;case 1:for(t=this._left,n=1,s=0;s<e.length;)i=e[s],++s,t.addKey(i,n);for(t=this._leftP,n=2,s=0;s<e.length;)i=e[s],++s,t.addKey(i,n);for(t=this._leftR,n=-1,s=0;s<e.length;)i=e[s],++s,t.addKey(i,n);break;case 2:for(t=this._right,n=1,s=0;s<e.length;)i=e[s],++s,t.addKey(i,n);for(t=this._rightP,n=2,s=0;s<e.length;)i=e[s],++s,t.addKey(i,n);for(t=this._rightR,n=-1,s=0;s<e.length;)i=e[s],++s,t.addKey(i,n);break;case 3:for(t=this._down,n=1,s=0;s<e.length;)i=e[s],++s,t.addKey(i,n);for(t=this._downP,n=2,s=0;s<e.length;)i=e[s],++s,t.addKey(i,n);for(t=this._downR,n=-1,s=0;s<e.length;)i=e[s],++s,t.addKey(i,n);break;case 4:for(t=this._reset,n=2,s=0;s<e.length;)i=e[s],++s,t.addKey(i,n);break;case 5:for(t=this._accept,n=2,s=0;s<e.length;)i=e[s],++s,t.addKey(i,n);break;case 6:for(t=this._back,n=2,s=0;s<e.length;)i=e[s],++s,t.addKey(i,n);break;case 7:for(t=this._pause,n=2,s=0;s<e.length;)i=e[s],++s,t.addKey(i,n);break;case 8:for(t=this._cheat,n=2,s=0;s<e.length;)i=e[s],++s,t.addKey(i,n)}},unbindKeys:function(t,e){switch(t._hx_index){case 0:mc.removeKeys(this._up,e),mc.removeKeys(this._upP,e),mc.removeKeys(this._upR,e);break;case 1:mc.removeKeys(this._left,e),mc.removeKeys(this._leftP,e),mc.removeKeys(this._leftR,e);break;case 2:mc.removeKeys(this._right,e),mc.removeKeys(this._rightP,e),mc.removeKeys(this._rightR,e);break;case 3:mc.removeKeys(this._down,e),mc.removeKeys(this._downP,e),mc.removeKeys(this._downR,e);break;case 4:mc.removeKeys(this._reset,e);break;case 5:mc.removeKeys(this._accept,e);break;case 6:mc.removeKeys(this._back,e);break;case 7:mc.removeKeys(this._pause,e);break;case 8:mc.removeKeys(this._cheat,e)}},setKeyboardScheme:function(t,e){this.loadKeyBinds()},loadKeyBinds:function(){this.removeKeyboard(),Wm.keyCheck();var t=(t=n.save.data.upBind).toUpperCase();switch(t=[Object.prototype.hasOwnProperty.call(db.fromStringMap.h,t)?db.fromStringMap.h[t]:-1,38],Hc.UP._hx_index){case 0:for(var e=this._up,s=1,i=0;i<t.length;){var a=t[i];++i,e.addKey(a,s)}for(e=this._upP,s=2,i=0;i<t.length;)a=t[i],++i,e.addKey(a,s);for(e=this._upR,s=-1,i=0;i<t.length;)a=t[i],++i,e.addKey(a,s);break;case 1:for(e=this._left,s=1,i=0;i<t.length;)a=t[i],++i,e.addKey(a,s);for(e=this._leftP,s=2,i=0;i<t.length;)a=t[i],++i,e.addKey(a,s);for(e=this._leftR,s=-1,i=0;i<t.length;)a=t[i],++i,e.addKey(a,s);break;case 2:for(e=this._right,s=1,i=0;i<t.length;)a=t[i],++i,e.addKey(a,s);for(e=this._rightP,s=2,i=0;i<t.length;)a=t[i],++i,e.addKey(a,s);for(e=this._rightR,s=-1,i=0;i<t.length;)a=t[i],++i,e.addKey(a,s);break;case 3:for(e=this._down,s=1,i=0;i<t.length;)a=t[i],++i,e.addKey(a,s);for(e=this._downP,s=2,i=0;i<t.length;)a=t[i],++i,e.addKey(a,s);for(e=this._downR,s=-1,i=0;i<t.length;)a=t[i],++i,e.addKey(a,s);break;case 4:for(e=this._reset,s=2,i=0;i<t.length;)a=t[i],++i,e.addKey(a,s);break;case 5:for(e=this._accept,s=2,i=0;i<t.length;)a=t[i],++i,e.addKey(a,s);break;case 6:for(e=this._back,s=2,i=0;i<t.length;)a=t[i],++i,e.addKey(a,s);break;case 7:for(e=this._pause,s=2,i=0;i<t.length;)a=t[i],++i,e.addKey(a,s);break;case 8:for(e=this._cheat,s=2,i=0;i<t.length;)a=t[i],++i,e.addKey(a,s)}switch(t=(t=n.save.data.downBind).toUpperCase(),t=[Object.prototype.hasOwnProperty.call(db.fromStringMap.h,t)?db.fromStringMap.h[t]:-1,40],Hc.DOWN._hx_index){case 0:for(e=this._up,s=1,i=0;i<t.length;)a=t[i],++i,e.addKey(a,s);for(e=this._upP,s=2,i=0;i<t.length;)a=t[i],++i,e.addKey(a,s);for(e=this._upR,s=-1,i=0;i<t.length;)a=t[i],++i,e.addKey(a,s);break;case 1:for(e=this._left,s=1,i=0;i<t.length;)a=t[i],++i,e.addKey(a,s);for(e=this._leftP,s=2,i=0;i<t.length;)a=t[i],++i,e.addKey(a,s);for(e=this._leftR,s=-1,i=0;i<t.length;)a=t[i],++i,e.addKey(a,s);break;case 2:for(e=this._right,s=1,i=0;i<t.length;)a=t[i],++i,e.addKey(a,s);for(e=this._rightP,s=2,i=0;i<t.length;)a=t[i],++i,e.addKey(a,s);for(e=this._rightR,s=-1,i=0;i<t.length;)a=t[i],++i,e.addKey(a,s);break;case 3:for(e=this._down,s=1,i=0;i<t.length;)a=t[i],++i,e.addKey(a,s);for(e=this._downP,s=2,i=0;i<t.length;)a=t[i],++i,e.addKey(a,s);for(e=this._downR,s=-1,i=0;i<t.length;)a=t[i],++i,e.addKey(a,s);break;case 4:for(e=this._reset,s=2,i=0;i<t.length;)a=t[i],++i,e.addKey(a,s);break;case 5:for(e=this._accept,s=2,i=0;i<t.length;)a=t[i],++i,e.addKey(a,s);break;case 6:for(e=this._back,s=2,i=0;i<t.length;)a=t[i],++i,e.addKey(a,s);break;case 7:for(e=this._pause,s=2,i=0;i<t.length;)a=t[i],++i,e.addKey(a,s);break;case 8:for(e=this._cheat,s=2,i=0;i<t.length;)a=t[i],++i,e.addKey(a,s)}switch(t=(t=n.save.data.leftBind).toUpperCase(),t=[Object.prototype.hasOwnProperty.call(db.fromStringMap.h,t)?db.fromStringMap.h[t]:-1,37],Hc.LEFT._hx_index){case 0:for(e=this._up,s=1,i=0;i<t.length;)a=t[i],++i,e.addKey(a,s);for(e=this._upP,s=2,i=0;i<t.length;)a=t[i],++i,e.addKey(a,s);for(e=this._upR,s=-1,i=0;i<t.length;)a=t[i],++i,e.addKey(a,s);break;case 1:for(e=this._left,s=1,i=0;i<t.length;)a=t[i],++i,e.addKey(a,s);for(e=this._leftP,s=2,i=0;i<t.length;)a=t[i],++i,e.addKey(a,s);for(e=this._leftR,s=-1,i=0;i<t.length;)a=t[i],++i,e.addKey(a,s);break;case 2:for(e=this._right,s=1,i=0;i<t.length;)a=t[i],++i,e.addKey(a,s);for(e=this._rightP,s=2,i=0;i<t.length;)a=t[i],++i,e.addKey(a,s);for(e=this._rightR,s=-1,i=0;i<t.length;)a=t[i],++i,e.addKey(a,s);break;case 3:for(e=this._down,s=1,i=0;i<t.length;)a=t[i],++i,e.addKey(a,s);for(e=this._downP,s=2,i=0;i<t.length;)a=t[i],++i,e.addKey(a,s);for(e=this._downR,s=-1,i=0;i<t.length;)a=t[i],++i,e.addKey(a,s);break;case 4:for(e=this._reset,s=2,i=0;i<t.length;)a=t[i],++i,e.addKey(a,s);break;case 5:for(e=this._accept,s=2,i=0;i<t.length;)a=t[i],++i,e.addKey(a,s);break;case 6:for(e=this._back,s=2,i=0;i<t.length;)a=t[i],++i,e.addKey(a,s);break;case 7:for(e=this._pause,s=2,i=0;i<t.length;)a=t[i],++i,e.addKey(a,s);break;case 8:for(e=this._cheat,s=2,i=0;i<t.length;)a=t[i],++i,e.addKey(a,s)}switch(t=(t=n.save.data.rightBind).toUpperCase(),t=[Object.prototype.hasOwnProperty.call(db.fromStringMap.h,t)?db.fromStringMap.h[t]:-1,39],Hc.RIGHT._hx_index){case 0:for(e=this._up,s=1,i=0;i<t.length;)a=t[i],++i,e.addKey(a,s);for(e=this._upP,s=2,i=0;i<t.length;)a=t[i],++i,e.addKey(a,s);for(e=this._upR,s=-1,i=0;i<t.length;)a=t[i],++i,e.addKey(a,s);break;case 1:for(e=this._left,s=1,i=0;i<t.length;)a=t[i],++i,e.addKey(a,s);for(e=this._leftP,s=2,i=0;i<t.length;)a=t[i],++i,e.addKey(a,s);for(e=this._leftR,s=-1,i=0;i<t.length;)a=t[i],++i,e.addKey(a,s);break;case 2:for(e=this._right,s=1,i=0;i<t.length;)a=t[i],++i,e.addKey(a,s);for(e=this._rightP,s=2,i=0;i<t.length;)a=t[i],++i,e.addKey(a,s);for(e=this._rightR,s=-1,i=0;i<t.length;)a=t[i],++i,e.addKey(a,s);break;case 3:for(e=this._down,s=1,i=0;i<t.length;)a=t[i],++i,e.addKey(a,s);for(e=this._downP,s=2,i=0;i<t.length;)a=t[i],++i,e.addKey(a,s);for(e=this._downR,s=-1,i=0;i<t.length;)a=t[i],++i,e.addKey(a,s);break;case 4:for(e=this._reset,s=2,i=0;i<t.length;)a=t[i],++i,e.addKey(a,s);break;case 5:for(e=this._accept,s=2,i=0;i<t.length;)a=t[i],++i,e.addKey(a,s);break;case 6:for(e=this._back,s=2,i=0;i<t.length;)a=t[i],++i,e.addKey(a,s);break;case 7:for(e=this._pause,s=2,i=0;i<t.length;)a=t[i],++i,e.addKey(a,s);break;case 8:for(e=this._cheat,s=2,i=0;i<t.length;)a=t[i],++i,e.addKey(a,s)}switch(t=[90,32,13],Hc.ACCEPT._hx_index){case 0:for(e=this._up,s=1,i=0;i<t.length;)a=t[i],++i,e.addKey(a,s);for(e=this._upP,s=2,i=0;i<t.length;)a=t[i],++i,e.addKey(a,s);for(e=this._upR,s=-1,i=0;i<t.length;)a=t[i],++i,e.addKey(a,s);break;case 1:for(e=this._left,s=1,i=0;i<t.length;)a=t[i],++i,e.addKey(a,s);for(e=this._leftP,s=2,i=0;i<t.length;)a=t[i],++i,e.addKey(a,s);for(e=this._leftR,s=-1,i=0;i<t.length;)a=t[i],++i,e.addKey(a,s);break;case 2:for(e=this._right,s=1,i=0;i<t.length;)a=t[i],++i,e.addKey(a,s);for(e=this._rightP,s=2,i=0;i<t.length;)a=t[i],++i,e.addKey(a,s);for(e=this._rightR,s=-1,i=0;i<t.length;)a=t[i],++i,e.addKey(a,s);break;case 3:for(e=this._down,s=1,i=0;i<t.length;)a=t[i],++i,e.addKey(a,s);for(e=this._downP,s=2,i=0;i<t.length;)a=t[i],++i,e.addKey(a,s);for(e=this._downR,s=-1,i=0;i<t.length;)a=t[i],++i,e.addKey(a,s);break;case 4:for(e=this._reset,s=2,i=0;i<t.length;)a=t[i],++i,e.addKey(a,s);break;case 5:for(e=this._accept,s=2,i=0;i<t.length;)a=t[i],++i,e.addKey(a,s);break;case 6:for(e=this._back,s=2,i=0;i<t.length;)a=t[i],++i,e.addKey(a,s);break;case 7:for(e=this._pause,s=2,i=0;i<t.length;)a=t[i],++i,e.addKey(a,s);break;case 8:for(e=this._cheat,s=2,i=0;i<t.length;)a=t[i],++i,e.addKey(a,s)}switch(t=[8,27],Hc.BACK._hx_index){case 0:for(e=this._up,s=1,i=0;i<t.length;)a=t[i],++i,e.addKey(a,s);for(e=this._upP,s=2,i=0;i<t.length;)a=t[i],++i,e.addKey(a,s);for(e=this._upR,s=-1,i=0;i<t.length;)a=t[i],++i,e.addKey(a,s);break;case 1:for(e=this._left,s=1,i=0;i<t.length;)a=t[i],++i,e.addKey(a,s);for(e=this._leftP,s=2,i=0;i<t.length;)a=t[i],++i,e.addKey(a,s);for(e=this._leftR,s=-1,i=0;i<t.length;)a=t[i],++i,e.addKey(a,s);break;case 2:for(e=this._right,s=1,i=0;i<t.length;)a=t[i],++i,e.addKey(a,s);for(e=this._rightP,s=2,i=0;i<t.length;)a=t[i],++i,e.addKey(a,s);for(e=this._rightR,s=-1,i=0;i<t.length;)a=t[i],++i,e.addKey(a,s);break;case 3:for(e=this._down,s=1,i=0;i<t.length;)a=t[i],++i,e.addKey(a,s);for(e=this._downP,s=2,i=0;i<t.length;)a=t[i],++i,e.addKey(a,s);for(e=this._downR,s=-1,i=0;i<t.length;)a=t[i],++i,e.addKey(a,s);break;case 4:for(e=this._reset,s=2,i=0;i<t.length;)a=t[i],++i,e.addKey(a,s);break;case 5:for(e=this._accept,s=2,i=0;i<t.length;)a=t[i],++i,e.addKey(a,s);break;case 6:for(e=this._back,s=2,i=0;i<t.length;)a=t[i],++i,e.addKey(a,s);break;case 7:for(e=this._pause,s=2,i=0;i<t.length;)a=t[i],++i,e.addKey(a,s);break;case 8:for(e=this._cheat,s=2,i=0;i<t.length;)a=t[i],++i,e.addKey(a,s)}switch(t=[80,13,27],Hc.PAUSE._hx_index){case 0:for(e=this._up,s=1,i=0;i<t.length;)a=t[i],++i,e.addKey(a,s);for(e=this._upP,s=2,i=0;i<t.length;)a=t[i],++i,e.addKey(a,s);for(e=this._upR,s=-1,i=0;i<t.length;)a=t[i],++i,e.addKey(a,s);break;case 1:for(e=this._left,s=1,i=0;i<t.length;)a=t[i],++i,e.addKey(a,s);for(e=this._leftP,s=2,i=0;i<t.length;)a=t[i],++i,e.addKey(a,s);for(e=this._leftR,s=-1,i=0;i<t.length;)a=t[i],++i,e.addKey(a,s);break;case 2:for(e=this._right,s=1,i=0;i<t.length;)a=t[i],++i,e.addKey(a,s);for(e=this._rightP,s=2,i=0;i<t.length;)a=t[i],++i,e.addKey(a,s);for(e=this._rightR,s=-1,i=0;i<t.length;)a=t[i],++i,e.addKey(a,s);break;case 3:for(e=this._down,s=1,i=0;i<t.length;)a=t[i],++i,e.addKey(a,s);for(e=this._downP,s=2,i=0;i<t.length;)a=t[i],++i,e.addKey(a,s);for(e=this._downR,s=-1,i=0;i<t.length;)a=t[i],++i,e.addKey(a,s);break;case 4:for(e=this._reset,s=2,i=0;i<t.length;)a=t[i],++i,e.addKey(a,s);break;case 5:for(e=this._accept,s=2,i=0;i<t.length;)a=t[i],++i,e.addKey(a,s);break;case 6:for(e=this._back,s=2,i=0;i<t.length;)a=t[i],++i,e.addKey(a,s);break;case 7:for(e=this._pause,s=2,i=0;i<t.length;)a=t[i],++i,e.addKey(a,s);break;case 8:for(e=this._cheat,s=2,i=0;i<t.length;)a=t[i],++i,e.addKey(a,s)}switch(t=(t=n.save.data.killBind).toUpperCase(),t=[Object.prototype.hasOwnProperty.call(db.fromStringMap.h,t)?db.fromStringMap.h[t]:-1],Hc.RESET._hx_index){case 0:for(e=this._up,s=1,i=0;i<t.length;)a=t[i],++i,e.addKey(a,s);for(e=this._upP,s=2,i=0;i<t.length;)a=t[i],++i,e.addKey(a,s);for(e=this._upR,s=-1,i=0;i<t.length;)a=t[i],++i,e.addKey(a,s);break;case 1:for(e=this._left,s=1,i=0;i<t.length;)a=t[i],++i,e.addKey(a,s);for(e=this._leftP,s=2,i=0;i<t.length;)a=t[i],++i,e.addKey(a,s);for(e=this._leftR,s=-1,i=0;i<t.length;)a=t[i],++i,e.addKey(a,s);break;case 2:for(e=this._right,s=1,i=0;i<t.length;)a=t[i],++i,e.addKey(a,s);for(e=this._rightP,s=2,i=0;i<t.length;)a=t[i],++i,e.addKey(a,s);for(e=this._rightR,s=-1,i=0;i<t.length;)a=t[i],++i,e.addKey(a,s);break;case 3:for(e=this._down,s=1,i=0;i<t.length;)a=t[i],++i,e.addKey(a,s);for(e=this._downP,s=2,i=0;i<t.length;)a=t[i],++i,e.addKey(a,s);for(e=this._downR,s=-1,i=0;i<t.length;)a=t[i],++i,e.addKey(a,s);break;case 4:for(e=this._reset,s=2,i=0;i<t.length;)a=t[i],++i,e.addKey(a,s);break;case 5:for(e=this._accept,s=2,i=0;i<t.length;)a=t[i],++i,e.addKey(a,s);break;case 6:for(e=this._back,s=2,i=0;i<t.length;)a=t[i],++i,e.addKey(a,s);break;case 7:for(e=this._pause,s=2,i=0;i<t.length;)a=t[i],++i,e.addKey(a,s);break;case 8:for(e=this._cheat,s=2,i=0;i<t.length;)a=t[i],++i,e.addKey(a,s)}},removeKeyboard:function(){for(var t=0,e=this.digitalActions;t<e.length;){var n=e[t];++t;for(var s=n.inputs.length;0<s--;){var i=n.inputs[s];i.device==Yc.KEYBOARD&&n.remove(i)}}},addGamepad:function(t,e){for(this.gamepadsAdded.push(t),e=new Nh(e);e.hasNext();){var n=t,s=(i=e.next()).value;switch(i.key._hx_index){case 0:for(var i=this._up,a=0;a<s.length;){var r=s[a];++a,i.addGamepad(r,1,n)}for(i=this._upP,a=0;a<s.length;)r=s[a],++a,i.addGamepad(r,2,n);for(i=this._upR,a=0;a<s.length;)r=s[a],++a,i.addGamepad(r,-1,n);break;case 1:for(i=this._left,a=0;a<s.length;)r=s[a],++a,i.addGamepad(r,1,n);for(i=this._leftP,a=0;a<s.length;)r=s[a],++a,i.addGamepad(r,2,n);for(i=this._leftR,a=0;a<s.length;)r=s[a],++a,i.addGamepad(r,-1,n);break;case 2:for(i=this._right,a=0;a<s.length;)r=s[a],++a,i.addGamepad(r,1,n);for(i=this._rightP,a=0;a<s.length;)r=s[a],++a,i.addGamepad(r,2,n);for(i=this._rightR,a=0;a<s.length;)r=s[a],++a,i.addGamepad(r,-1,n);break;case 3:for(i=this._down,a=0;a<s.length;)r=s[a],++a,i.addGamepad(r,1,n);for(i=this._downP,a=0;a<s.length;)r=s[a],++a,i.addGamepad(r,2,n);for(i=this._downR,a=0;a<s.length;)r=s[a],++a,i.addGamepad(r,-1,n);break;case 4:for(i=this._reset,a=0;a<s.length;)r=s[a],++a,i.addGamepad(r,2,n);break;case 5:for(i=this._accept,a=0;a<s.length;)r=s[a],++a,i.addGamepad(r,2,n);break;case 6:for(i=this._back,a=0;a<s.length;)r=s[a],++a,i.addGamepad(r,2,n);break;case 7:for(i=this._pause,a=0;a<s.length;)r=s[a],++a,i.addGamepad(r,2,n);break;case 8:for(i=this._cheat,a=0;a<s.length;)r=s[a],++a,i.addGamepad(r,2,n)}}},addGamepadLiteral:function(t,e){for(this.gamepadsAdded.push(t),e=new Nh(e);e.hasNext();){var n=t,s=(i=e.next()).value;switch(i.key._hx_index){case 0:for(var i=this._up,a=0;a<s.length;){var r=s[a];++a,i.addGamepad(r,1,n)}for(i=this._upP,a=0;a<s.length;)r=s[a],++a,i.addGamepad(r,2,n);for(i=this._upR,a=0;a<s.length;)r=s[a],++a,i.addGamepad(r,-1,n);break;case 1:for(i=this._left,a=0;a<s.length;)r=s[a],++a,i.addGamepad(r,1,n);for(i=this._leftP,a=0;a<s.length;)r=s[a],++a,i.addGamepad(r,2,n);for(i=this._leftR,a=0;a<s.length;)r=s[a],++a,i.addGamepad(r,-1,n);break;case 2:for(i=this._right,a=0;a<s.length;)r=s[a],++a,i.addGamepad(r,1,n);for(i=this._rightP,a=0;a<s.length;)r=s[a],++a,i.addGamepad(r,2,n);for(i=this._rightR,a=0;a<s.length;)r=s[a],++a,i.addGamepad(r,-1,n);break;case 3:for(i=this._down,a=0;a<s.length;)r=s[a],++a,i.addGamepad(r,1,n);for(i=this._downP,a=0;a<s.length;)r=s[a],++a,i.addGamepad(r,2,n);for(i=this._downR,a=0;a<s.length;)r=s[a],++a,i.addGamepad(r,-1,n);break;case 4:for(i=this._reset,a=0;a<s.length;)r=s[a],++a,i.addGamepad(r,2,n);break;case 5:for(i=this._accept,a=0;a<s.length;)r=s[a],++a,i.addGamepad(r,2,n);break;case 6:for(i=this._back,a=0;a<s.length;)r=s[a],++a,i.addGamepad(r,2,n);break;case 7:for(i=this._pause,a=0;a<s.length;)r=s[a],++a,i.addGamepad(r,2,n);break;case 8:for(i=this._cheat,a=0;a<s.length;)r=s[a],++a,i.addGamepad(r,2,n)}}},removeGamepad:function(t){null==t&&(t=-1);for(var e=0,n=this.digitalActions;e<n.length;){var s=n[e];++e;for(var i=s.inputs.length;0<i--;){var a=s.inputs[i];a.device!=Yc.GAMEPAD||-1!=t&&a.deviceID!=t||s.remove(a)}}oa.remove(this.gamepadsAdded,t)},addDefaultGamepad:function(t){(i=new ej).set(Hc.ACCEPT,[0]),i.set(Hc.BACK,[1]),i.set(Hc.UP,[11,34]),i.set(Hc.DOWN,[12,36]),i.set(Hc.LEFT,[13,37]),i.set(Hc.RIGHT,[14,35]),i.set(Hc.PAUSE,[7]),i.set(Hc.RESET,[3]),this.gamepadsAdded.push(t);for(var e=new Nh(i);e.hasNext();){var n=t,s=(i=e.next()).value;switch(i.key._hx_index){case 0:for(var i=this._up,a=0;a<s.length;){var r=s[a];++a,i.addGamepad(r,1,n)}for(i=this._upP,a=0;a<s.length;)r=s[a],++a,i.addGamepad(r,2,n);for(i=this._upR,a=0;a<s.length;)r=s[a],++a,i.addGamepad(r,-1,n);break;case 1:for(i=this._left,a=0;a<s.length;)r=s[a],++a,i.addGamepad(r,1,n);for(i=this._leftP,a=0;a<s.length;)r=s[a],++a,i.addGamepad(r,2,n);for(i=this._leftR,a=0;a<s.length;)r=s[a],++a,i.addGamepad(r,-1,n);break;case 2:for(i=this._right,a=0;a<s.length;)r=s[a],++a,i.addGamepad(r,1,n);for(i=this._rightP,a=0;a<s.length;)r=s[a],++a,i.addGamepad(r,2,n);for(i=this._rightR,a=0;a<s.length;)r=s[a],++a,i.addGamepad(r,-1,n);break;case 3:for(i=this._down,a=0;a<s.length;)r=s[a],++a,i.addGamepad(r,1,n);for(i=this._downP,a=0;a<s.length;)r=s[a],++a,i.addGamepad(r,2,n);for(i=this._downR,a=0;a<s.length;)r=s[a],++a,i.addGamepad(r,-1,n);break;case 4:for(i=this._reset,a=0;a<s.length;)r=s[a],++a,i.addGamepad(r,2,n);break;case 5:for(i=this._accept,a=0;a<s.length;)r=s[a],++a,i.addGamepad(r,2,n);break;case 6:for(i=this._back,a=0;a<s.length;)r=s[a],++a,i.addGamepad(r,2,n);break;case 7:for(i=this._pause,a=0;a<s.length;)r=s[a],++a,i.addGamepad(r,2,n);break;case 8:for(i=this._cheat,a=0;a<s.length;)r=s[a],++a,i.addGamepad(r,2,n)}}},bindButtons:function(t,e,n){switch(t._hx_index){case 0:t=this._up;for(var s=1,i=0;i<n.length;){var a=n[i];++i,t.addGamepad(a,s,e)}for(t=this._upP,s=2,i=0;i<n.length;)a=n[i],++i,t.addGamepad(a,s,e);for(t=this._upR,s=-1,i=0;i<n.length;)a=n[i],++i,t.addGamepad(a,s,e);break;case 1:for(t=this._left,s=1,i=0;i<n.length;)a=n[i],++i,t.addGamepad(a,s,e);for(t=this._leftP,s=2,i=0;i<n.length;)a=n[i],++i,t.addGamepad(a,s,e);for(t=this._leftR,s=-1,i=0;i<n.length;)a=n[i],++i,t.addGamepad(a,s,e);break;case 2:for(t=this._right,s=1,i=0;i<n.length;)a=n[i],++i,t.addGamepad(a,s,e);for(t=this._rightP,s=2,i=0;i<n.length;)a=n[i],++i,t.addGamepad(a,s,e);for(t=this._rightR,s=-1,i=0;i<n.length;)a=n[i],++i,t.addGamepad(a,s,e);break;case 3:for(t=this._down,s=1,i=0;i<n.length;)a=n[i],++i,t.addGamepad(a,s,e);for(t=this._downP,s=2,i=0;i<n.length;)a=n[i],++i,t.addGamepad(a,s,e);for(t=this._downR,s=-1,i=0;i<n.length;)a=n[i],++i,t.addGamepad(a,s,e);break;case 4:for(t=this._reset,s=2,i=0;i<n.length;)a=n[i],++i,t.addGamepad(a,s,e);break;case 5:for(t=this._accept,s=2,i=0;i<n.length;)a=n[i],++i,t.addGamepad(a,s,e);break;case 6:for(t=this._back,s=2,i=0;i<n.length;)a=n[i],++i,t.addGamepad(a,s,e);break;case 7:for(t=this._pause,s=2,i=0;i<n.length;)a=n[i],++i,t.addGamepad(a,s,e);break;case 8:for(t=this._cheat,s=2,i=0;i<n.length;)a=n[i],++i,t.addGamepad(a,s,e)}},unbindButtons:function(t,e,n){switch(t._hx_index){case 0:mc.removeButtons(this._up,e,n),mc.removeButtons(this._upP,e,n),mc.removeButtons(this._upR,e,n);break;case 1:mc.removeButtons(this._left,e,n),mc.removeButtons(this._leftP,e,n),mc.removeButtons(this._leftR,e,n);break;case 2:mc.removeButtons(this._right,e,n),mc.removeButtons(this._rightP,e,n),mc.removeButtons(this._rightR,e,n);break;case 3:mc.removeButtons(this._down,e,n),mc.removeButtons(this._downP,e,n),mc.removeButtons(this._downR,e,n);break;case 4:mc.removeButtons(this._reset,e,n);break;case 5:mc.removeButtons(this._accept,e,n);break;case 6:mc.removeButtons(this._back,e,n);break;case 7:mc.removeButtons(this._pause,e,n);break;case 8:mc.removeButtons(this._cheat,e,n)}},getInputsFor:function(t,e,n){switch(null==n&&(n=[]),e._hx_index){case 0:for(e=0,t=this.getActionFromControl(t).inputs;e<t.length;){var s=t[e];++e,s.device==Yc.KEYBOARD&&n.push(s.inputID)}break;case 1:var i=e.id;for(e=0,t=this.getActionFromControl(t).inputs;e<t.length;)s=t[e],++e,s.deviceID==i&&n.push(s.inputID)}return n},removeDevice:function(t){switch(t._hx_index){case 0:this.setKeyboardScheme(hd.None);break;case 1:this.removeGamepad(t.id)}},__class__:mc,__properties__:{get_CHEAT:"get_CHEAT",get_RESET:"get_RESET",get_PAUSE:"get_PAUSE",get_BACK:"get_BACK",get_ACCEPT:"get_ACCEPT",get_DOWN_R:"get_DOWN_R",get_RIGHT_R:"get_RIGHT_R",get_LEFT_R:"get_LEFT_R",get_UP_R:"get_UP_R",get_DOWN_P:"get_DOWN_P",get_RIGHT_P:"get_RIGHT_P",get_LEFT_P:"get_LEFT_P",get_UP_P:"get_UP_P",get_DOWN:"get_DOWN",get_RIGHT:"get_RIGHT",get_LEFT:"get_LEFT",get_UP:"get_UP"}});var Re=function(){};r.CoolUtil=Re,Re.__name__="CoolUtil",Re.difficultyString=function(){return Re.difficultyArray[L.storyDifficulty]},Re.coolTextFile=function(t){for(var e=0,n=(t=Y.trim(Ia.getText(t)).split("\n")).length;e<n;){var s=e++;t[s]=Y.trim(t[s])}return t},Re.coolStringFile=function(t){for(var e=0,n=(t=Y.trim(t).split("\n")).length;e<n;){var s=e++;t[s]=Y.trim(t[s])}return t},Re.numberArray=function(t,e){null==e&&(e=0);for(var n=[];e<t;){var s=e++;n.push(s)}return n};var Dj=function(t,e){null==t&&(t=!0),this.dialogueOpened=this.dialogueStarted=this.isEnding=!1,this.dialogueList=[],this.curCharacter="";var s=this;switch(jb.call(this),L.SONG.song.toLowerCase()){case"senpai":n.sound.playMusic(N.getPath("music/Lunchbox.mp3","MUSIC",null),0);var i=n.sound.music,a=1,r=0,l=.8;null==l&&(l=1),null==r&&(r=0),null==a&&(a=1),null==i._channel&&i.play(),null!=i.fadeTween&&i.fadeTween.cancel(),i.fadeTween=$a.num(r,l,a,{onComplete:null},y(i,i.volumeTween));break;case"thorns":n.sound.playMusic(N.getPath("music/LunchboxScary.mp3","MUSIC",null),0),null==(l=.8)&&(l=1),null==(r=0)&&(r=0),null==(a=1)&&(a=1),null==(i=n.sound.music)._channel&&i.play(),null!=i.fadeTween&&i.fadeTween.cancel(),i.fadeTween=$a.num(r,l,a,{onComplete:null},y(i,i.volumeTween))}switch(this.bgFade=new M(-200,-200).makeGraphic(1.3*n.width|0,1.3*n.height|0,-4988968),this.bgFade.scrollFactor.set(),this.bgFade.set_alpha(0),this.add(this.bgFade),(new Oc).start(.83,function(t){(t=s.bgFade).set_alpha(t.alpha+.13999999999999999),.7<s.bgFade.alpha&&s.bgFade.set_alpha(.7)},5),this.box=new M(-20,45),i=!1,L.SONG.song.toLowerCase()){case"roses":i=!0,n.sound.play(N.sound("ANGRY_TEXT_BOX")),this.box.set_frames(lb.fromSparrow(N.getPath("images/weeb/pixelUI/dialogueBox-senpaiMad.png","IMAGE",a=null),N.getPath("images/weeb/pixelUI/dialogueBox-senpaiMad.xml","TEXT",a))),this.box.animation.addByPrefix("normalOpen","SENPAI ANGRY IMPACT SPEECH",24,!1),this.box.animation.addByIndices("normal","SENPAI ANGRY IMPACT SPEECH",[4],"",24);break;case"senpai":i=!0,this.box.set_frames(lb.fromSparrow(N.getPath("images/weeb/pixelUI/dialogueBox-pixel.png","IMAGE",a=null),N.getPath("images/weeb/pixelUI/dialogueBox-pixel.xml","TEXT",a))),this.box.animation.addByPrefix("normalOpen","Text Box Appear",24,!1),this.box.animation.addByIndices("normal","Text Box Appear",[4],"",24);break;case"thorns":i=!0,this.box.set_frames(lb.fromSparrow(N.getPath("images/weeb/pixelUI/dialogueBox-evil.png","IMAGE",a=null),N.getPath("images/weeb/pixelUI/dialogueBox-evil.xml","TEXT",a))),this.box.animation.addByPrefix("normalOpen","Spirit Textbox spawn",24,!1),this.box.animation.addByIndices("normal","Spirit Textbox spawn",[11],"",24),(a=new M(320,170).loadGraphic(N.getPath("images/weeb/spiritFaceForward.png","IMAGE",null))).setGraphicSize(6*a.get_width()|0),this.add(a)}this.dialogueList=e,i&&(this.portraitLeft=new M(-20,40),this.portraitLeft.set_frames(lb.fromSparrow(N.getPath("images/weeb/senpaiPortrait.png","IMAGE",a=null),N.getPath("images/weeb/senpaiPortrait.xml","TEXT",a))),this.portraitLeft.animation.addByPrefix("enter","Senpai Portrait Enter",24,!1),this.portraitLeft.setGraphicSize(this.portraitLeft.get_width()*L.daPixelZoom*.9|0),this.portraitLeft.updateHitbox(),this.portraitLeft.scrollFactor.set(),this.add(this.portraitLeft),this.portraitLeft.set_visible(!1),this.portraitRight=new M(0,40),this.portraitRight.set_frames(lb.fromSparrow(N.getPath("images/weeb/bfPortrait.png","IMAGE",a=null),N.getPath("images/weeb/bfPortrait.xml","TEXT",a))),this.portraitRight.animation.addByPrefix("enter","Boyfriend portrait enter",24,!1),this.portraitRight.setGraphicSize(this.portraitRight.get_width()*L.daPixelZoom*.9|0),this.portraitRight.updateHitbox(),this.portraitRight.scrollFactor.set(),this.add(this.portraitRight),this.portraitRight.set_visible(!1),this.box.animation.play("normalOpen"),this.box.setGraphicSize(this.box.get_width()*L.daPixelZoom*.9|0),this.box.updateHitbox(),this.add(this.box),this.box.screenCenter(af.X),this.portraitLeft.screenCenter(af.X),this.handSelect=new M(.9*n.width,.9*n.height).loadGraphic(N.getPath("images/weeb/pixelUI/hand_textbox.png","IMAGE",null)),this.add(this.handSelect),t=!t,this.dropText=new Vb(242,502,.6*n.width|0,"",32),this.dropText.set_font("Pixel Arial 11 Bold"),this.dropText.set_color(-2583404),this.add(this.dropText),this.swagDialogue=new Oh(240,500,.6*n.width|0,"",32),this.swagDialogue.set_font("Pixel Arial 11 Bold"),this.swagDialogue.set_color(-12640223),t=n.sound.load(N.sound("pixelText"),.6),this.swagDialogue.sounds=[t],this.add(this.swagDialogue),this.dialogue=new Zb(0,80,"",!1,!0))};r.DialogueBox=Dj,Dj.__name__="DialogueBox",Dj.__super__=jb,Dj.prototype=D(jb.prototype,{box:null,curCharacter:null,dialogue:null,dialogueList:null,swagDialogue:null,dropText:null,finishThing:null,portraitLeft:null,portraitRight:null,handSelect:null,bgFade:null,dialogueOpened:null,dialogueStarted:null,update:function(t){var e,s,i,a=this;"roses"==L.SONG.song.toLowerCase()&&this.portraitLeft.set_visible(!1),"thorns"==L.SONG.song.toLowerCase()&&(this.portraitLeft.set_color(-16777216),this.swagDialogue.set_color(-1),this.dropText.set_color(-16777216)),this.dropText.set_text(this.swagDialogue.text),null!=this.box.animation._curAnim&&"normalOpen"==this.box.animation._curAnim.name&&this.box.animation._curAnim.finished&&(this.box.animation.play("normal"),this.dialogueOpened=!0),this.dialogueOpened&&!this.dialogueStarted&&(this.startDialogue(),this.dialogueStarted=!0),n.keys.justPressed.get_ANY()&&1==this.dialogueStarted&&(this.remove(this.dialogue),n.sound.play(N.sound("clickText"),.8),null==this.dialogueList[1]&&null!=this.dialogueList[0]?this.isEnding||(this.isEnding=!0,"senpai"!=L.SONG.song.toLowerCase()&&"thorns"!=L.SONG.song.toLowerCase()||(null==(i=0)&&(i=0),null==(s=2.2)&&(s=1),null!=(e=n.sound.music).fadeTween&&e.fadeTween.cancel(),e.fadeTween=$a.num(e._volume,i,s,{onComplete:null},y(e,e.volumeTween))),(new Oc).start(.2,function(t){(t=a.box).set_alpha(t.alpha-.2),(t=a.bgFade).set_alpha(t.alpha-.13999999999999999),a.portraitLeft.set_visible(!1),a.portraitRight.set_visible(!1),(t=a.swagDialogue).set_alpha(t.alpha-.2),a.dropText.set_alpha(a.swagDialogue.alpha)},5),(new Oc).start(1.2,function(t){a.finishThing(),a.kill()})):(oa.remove(this.dialogueList,this.dialogueList[0]),this.startDialogue())),jb.prototype.update.call(this,t)},isEnding:null,startDialogue:function(){switch(this.cleanDialog(),this.swagDialogue.resetText(this.dialogueList[0]),this.swagDialogue.start(.04,!0),this.curCharacter){case"bf":this.portraitLeft.set_visible(!1),this.portraitRight.visible||(this.portraitRight.set_visible(!0),this.portraitRight.animation.play("enter"));break;case"dad":this.portraitRight.set_visible(!1),this.portraitLeft.visible||(this.portraitLeft.set_visible(!0),this.portraitLeft.animation.play("enter"))}},cleanDialog:function(){var t=this.dialogueList[0].split(":");this.curCharacter=t[1],this.dialogueList[0]=Y.trim(oa.substr(this.dialogueList[0],t[1].length+2,null))},__class__:Dj});var Mb=function(t,e){this.r=new RegExp(t,e.split("u").join(""))};r.EReg=Mb,Mb.__name__="EReg",Mb.prototype={r:null,match:function(t){return this.r.global&&(this.r.lastIndex=0),this.r.m=this.r.exec(t),this.r.s=t,null!=this.r.m},matched:function(t){if(null!=this.r.m&&0<=t&&t<this.r.m.length)return this.r.m[t];throw G.thrown("EReg::matched")},matchedRight:function(){if(null==this.r.m)throw G.thrown("No string matched");var t=this.r.m.index+this.r.m[0].length;return oa.substr(this.r.s,t,this.r.s.length-t)},matchedPos:function(){if(null==this.r.m)throw G.thrown("No string matched");return{pos:this.r.m.index,len:this.r.m[0].length}},matchSub:function(t,e,n){return null==n&&(n=-1),this.r.global?(this.r.lastIndex=e,this.r.m=this.r.exec(n<0?t:oa.substr(t,0,e+n)),(n=null!=this.r.m)&&(this.r.s=t)):(n=this.match(n<0?oa.substr(t,e,null):oa.substr(t,e,n)))&&(this.r.s=t,this.r.m.index+=e),n},split:function(t){return t.replace(this.r,"#__delim__#").split("#__delim__#")},map:function(t,e){for(var n=0,s="";!(n>=t.length);){if(!this.matchSub(t,n)){s+=U.string(oa.substr(t,n,null));break}var i=this.matchedPos();if(s+=U.string(oa.substr(t,n,i.pos-n)),s+=U.string(e(this)),n=0==i.len?(s+=U.string(oa.substr(t,i.pos,1)),i.pos+1):i.pos+i.len,!this.r.global)break}return!this.r.global&&0<n&&n<t.length&&(s+=U.string(oa.substr(t,n,null))),s},__class__:Mb};var Yd=function(){};r.EtternaFunctions=Yd,Yd.__name__="EtternaFunctions",Yd.erf=function(t){var e=t<0?-1:1;t=Math.abs(t);var n=1/(1+Yd.p*t);return e*(1-((((Yd.a5*n+Yd.a4)*n+Yd.a3)*n+Yd.a2)*n+Yd.a1)*n*Math.exp(-t*t))},Yd.getNotes=function(){for(var t=0,e=0,n=L.SONG.notes.length;e<n;)for(var s=e++,i=0,a=L.SONG.notes[s].sectionNotes.length;i<a;){var r=i++;L.SONG.notes[s].sectionNotes[r][1]<=0&&++t}return t},Yd.getHolds=function(){for(var t=0,e=0,n=L.SONG.notes.length;e<n;){var s=e++;Bb.trace(L.SONG.notes[s],{fileName:"source/EtternaFunctions.hx",lineNumber:46,className:"EtternaFunctions",methodName:"getHolds"});for(var i=0,a=L.SONG.notes[s].sectionNotes.length;i<a;){var r=i++,r=L.SONG.notes[s].sectionNotes[r];Bb.trace(r,{fileName:"source/EtternaFunctions.hx",lineNumber:50,className:"EtternaFunctions",methodName:"getHolds"}),0<r[1]&&++t}}return t},Yd.getMapMaxScore=function(){return 350*Yd.getNotes()},Yd.wife3=function(t,e){var n=180*e,s=65*Math.pow(e,.75),i=22.7*Math.pow(e,.75);return t<=5*e?1:t<=s?+Yd.erf((s-t)/i):t<=n?-5.5*(t-s)/(n-s):-5.5};var Ud=function(t,e){this.selectedSmth=this.debug=!1,this.selectedIndex=0,this.songs=[],na.call(this,t,e)};r.FreeplayState=Ud,Ud.__name__="FreeplayState",Ud.diffAndScore=null,Ud.diffText=null,Ud.__super__=na,Ud.prototype=D(na.prototype,{songs:null,selectedIndex:null,selectedSmth:null,debug:null,songFour:null,create:function(){Bb.trace(Ud.diff,{fileName:"source/FreeplayState.hx",lineNumber:35,className:"FreeplayState",methodName:"create"}),this.transIn=H.defaultTransIn,this.transOut=H.defaultTransOut,this.songs.push(new Pf(80,120,"menu/freeplay/Improbable Outset Button","menu/freeplay/Improbable Outset Confirm",y(this,this.selectSong),"Improbable-Outset",-30)),this.songs.push(new Pf(80,240,"menu/freeplay/Madness Button","menu/freeplay/Madness Confirm",y(this,this.selectSong),"Madness",-30)),this.songs.push(new Pf(80,360,"menu/freeplay/Hellclown Button","menu/freeplay/Hellclown Confirm",y(this,this.selectSong),"Hellclown",-30)),this.songFour=new Pf(300,420,"menu/freeplay/Expurgation Button","menu/freeplay/Expurgation Confirm",y(this,this.selectSong),"expurgation",0,15);var t=new M(this.songFour.trueX+this.songFour.tweenX,this.songFour.trueY+this.songFour.tweenY),e=N.getPath("images/menu/freeplay/Expurgation Button.png","IMAGE",null);for(this.songFour.spriteOne=t.loadGraphic(e,!0,800,200),t=new M(this.songFour.trueX+this.songFour.tweenX,this.songFour.trueY+this.songFour.tweenY),e=N.getPath("images/menu/freeplay/Expurgation Confirm.png","IMAGE",null),this.songFour.spriteTwo=t.loadGraphic(e,!0,800,200),this.songFour.spriteTwo.set_alpha(0),this.songFour.spriteOne.animation.add("static",[0,1,2,3],12,!0),this.songFour.spriteTwo.animation.add("static",[0,1,2,3],12,!0),this.songFour.spriteOne.animation.play("static"),this.songFour.spriteTwo.animation.play("static"),this.songFour.spriteOne.screenCenter(af.X),this.songFour.trueX=this.songFour.spriteOne.x,t=new M(-10,-10).loadGraphic(N.getPath("images/menu/freeplay/RedBG.png","IMAGE",null)),this.add(t),(t=new M(-810,-335).loadGraphic(N.getPath("images/menu/freeplay/hedge.png","IMAGE",null))).setGraphicSize(.65*t.get_width()|0),this.add(t),(t=new M(-205,-100).loadGraphic(N.getPath("images/menu/freeplay/Shadescreen.png","IMAGE",null))).setGraphicSize(.65*t.get_width()|0),this.add(t),(t=new M(-225,-395).loadGraphic(N.getPath("images/menu/freeplay/theBox.png","IMAGE",null))).setGraphicSize(.65*t.get_width()|0),this.add(t),this.songs.push(this.songFour),t=0,e=this.songs;t<e.length;){var n=e[t];++t,n.spriteOne.setGraphicSize(.7*n.spriteOne.get_width()|0),n.spriteTwo.setGraphicSize(.7*n.spriteTwo.get_width()|0),this.add(n),this.add(n.spriteOne),this.add(n.spriteTwo)}t=Gc.getScore(this.songs[this.selectedIndex].pognt,Ud.diff),Ud.diffAndScore=new Vb(125,600,0,this.diffGet()+" - "+t),Ud.diffAndScore.setFormat("tahoma-bold.ttf",42,-65536),this.add(Ud.diffAndScore),(t=new M(-1350,-1190).loadGraphic(N.getPath("images/menu/freeplay/Menu Shade.png","IMAGE",null))).setGraphicSize(.7*t.get_width()|0),this.add(t),this.songs[0].highlight()},diffGet:function(){if("expurgation"==this.songs[this.selectedIndex].pognt)return"UNFAIR";switch(Ud.diff){case 0:return"EASY";case 1:return"MEDIUM";case 2:return"HARD"}return"what"},selectSong:function(){var t=Ud.diff,e=n.sound.music;null!=e.fadeTween&&e.fadeTween.cancel(),e.fadeTween=$a.num(e._volume,0,1,{onComplete:null},y(e,e.volumeTween)),null!=Ma.Vocals&&null!=Ma.Vocals._channel&&(e=Ma.Vocals).cleanup(e.autoDestroy,!0),"expurgation"==this.songs[this.selectedIndex].pognt?t=L.storyDifficulty=2:L.storyDifficulty=Ud.diff,t=Gc.formatSong(this.songs[this.selectedIndex].pognt.toLowerCase(),t),L.SONG=Yg.loadFromJson(t,this.songs[this.selectedIndex].pognt.toLowerCase()),L.isStoryMode=!1,L.storyWeek=7,t=yd.getNextState(new L,!1),n.game._state.switchTo(t)&&(n.game._requestedState=t)},resyncVocals:function(){Ma.Vocals.pause(),n.sound.music.play(),Ma.Vocals.set_time(n.sound.music._time),Ma.Vocals.play()},update:function(t){na.prototype.update.call(this,t),null!=Ma.Vocals&&null!=Ma.Vocals._channel&&(n.sound.music._time>Ma.Vocals._time+20||n.sound.music._time<Ma.Vocals._time-20)&&this.resyncVocals(),t=Gc.getScore(this.songs[this.selectedIndex].pognt,Ud.diff),"expurgation"==this.songs[this.selectedIndex].pognt&&(t=Gc.getScore(this.songs[this.selectedIndex].pognt,2)),Ud.diffAndScore.set_text(this.diffGet()+" - "+t),(t=n.keys.justPressed).keyManager.checkStatus(27,t.status)&&!this.selectedSmth&&(this.selectedSmth=!0,Wa.curDifficulty=Ud.diff,t=new Wa,n.game._state.switchTo(t)&&(n.game._requestedState=t)),(t=n.keys.justPressed).keyManager.checkStatus(39,t.status)&&(n.sound.play(N.sound("Hover")),Ud.diff+=1),(t=n.keys.justPressed).keyManager.checkStatus(37,t.status)&&(n.sound.play(N.sound("Hover")),--Ud.diff),3<=Ud.diff&&(Ud.diff=0),Ud.diff<0&&(Ud.diff=2),(t=n.keys.justPressed).keyManager.checkStatus(40,t.status)&&(this.selectedIndex+1<this.songs.length?(this.songs[this.selectedIndex].unHighlight(),this.songs[this.selectedIndex+1].highlight(),this.selectedIndex++,Bb.trace("selected "+this.selectedIndex,{fileName:"source/FreeplayState.hx",lineNumber:207,className:"FreeplayState",methodName:"update"})):(this.songs[this.selectedIndex].unHighlight(),this.selectedIndex=0,this.songs[this.selectedIndex].highlight(),Bb.trace("selected "+this.selectedIndex,{fileName:"source/FreeplayState.hx",lineNumber:216,className:"FreeplayState",methodName:"update"}))),(t=n.keys.justPressed).keyManager.checkStatus(38,t.status)&&(0<this.selectedIndex?(this.songs[this.selectedIndex].unHighlight(),this.songs[this.selectedIndex-1].highlight(),this.selectedIndex--,Bb.trace("selected "+this.selectedIndex,{fileName:"source/FreeplayState.hx",lineNumber:228,className:"FreeplayState",methodName:"update"})):(this.songs[this.selectedIndex].unHighlight(),this.songs[this.songs.length-1].highlight(),this.selectedIndex=this.songs.length-1,Bb.trace("selected "+this.selectedIndex,{fileName:"source/FreeplayState.hx",lineNumber:237,className:"FreeplayState",methodName:"update"}))),(t=n.keys.justPressed).keyManager.checkStatus(13,t.status)&&!this.selectedSmth&&(this.selectedSmth=!0,this.songs[this.selectedIndex].select())},__class__:Ud});var Xm=function(){};r.GameDimensions=Xm,Xm.__name__="GameDimensions";var Te=function(t){null==t&&(t=0),this._created=!1,K.call(this),this.openCallback=this.closeCallback=null,n.renderTile&&(this._bgSprite=new Ym),this.set_bgColor(t)};r["flixel.FlxSubState"]=Te,Te.__name__="flixel.FlxSubState",Te.__super__=K,Te.prototype=D(K.prototype,{openCallback:null,closeCallback:null,_bgSprite:null,_parentState:null,_bgColor:null,_created:null,draw:function(){if(n.renderBlit)for(var t=0,e=this.get_cameras();t<e.length;){var s=e[t];++t,s.fill(this._bgColor)}else this._bgSprite.draw();K.prototype.draw.call(this)},destroy:function(){K.prototype.destroy.call(this),this._bgSprite=this._parentState=this.openCallback=this.closeCallback=null},close:function(){null!=this._parentState&&this._parentState.subState==this&&this._parentState.closeSubState()},get_bgColor:function(){return this._bgColor},set_bgColor:function(t){return n.renderTile&&null!=this._bgSprite&&this._bgSprite.get_pixels().setPixel32(0,0,t),this._bgColor=t},__class__:Te});var zg=function(){this.lastBeat=this.lastStep=this.curStep=this.curBeat=0,Te.call(this)};r.MusicBeatSubstate=zg,zg.__name__="MusicBeatSubstate",zg.__super__=Te,zg.prototype=D(Te.prototype,{lastBeat:null,lastStep:null,curStep:null,curBeat:null,get_controls:function(){return ec.player1.controls},update:function(t){var e=this.curStep;this.updateCurStep(),this.curBeat=Math.floor(this.curStep/4),e!=this.curStep&&0<this.curStep&&this.stepHit(),Te.prototype.update.call(this,t)},updateCurStep:function(){for(var t={stepTime:0,songTime:0,bpm:0},e=0,n=ea.bpmChangeMap.length;e<n;){var s=e++;ea.songPosition>ea.bpmChangeMap[s].songTime&&(t=ea.bpmChangeMap[s])}this.curStep=t.stepTime+Math.floor((ea.songPosition-t.songTime)/ea.stepCrochet)},stepHit:function(){0==this.curStep%4&&this.beatHit()},beatHit:function(){},__class__:zg,__properties__:D(Te.prototype.__properties__,{get_controls:"get_controls"})});var Zm=function(t,e){this.playedMic=this.isEnding=!1,this.stageSuffix="",zg.call(this),ea.songPosition=0,this.bf=new Fc(t,e,"signDeath"),this.add(this.bf),this.camFollow=new Ea(this.bf.getGraphicMidpoint().x,this.bf.getGraphicMidpoint().y,1,1),this.add(this.camFollow),n.sound.play(N.sound("BF_Deathsound")),n.sound.play(N.sound("Micdrop")),ea.changeBPM(200),n.camera.scroll.set(),n.camera.target=null,n.camera.follow(this.camFollow,zq.LOCKON,.01),this.bf.playAnim("firstDeath"),null!=(t=this.bf.animation)._curAnim&&(t._curAnim.paused=!1)};r.GameOverSubstate=Zm,Zm.__name__="GameOverSubstate",Zm.__super__=zg,Zm.prototype=D(zg.prototype,{bf:null,camFollow:null,stageSuffix:null,playedMic:null,update:function(t){zg.prototype.update.call(this,t),ec.player1.controls._accept.check()&&this.endBullshit(),ec.player1.controls._back.check()&&((t=n.sound.music).cleanup(t.autoDestroy,!0),Wa.reRoll=!0,t=new Wa,n.game._state.switchTo(t)&&(n.game._requestedState=t),L.loadRep=!1),"firstDeath"==this.bf.animation._curAnim.name&&this.bf.animation._curAnim.finished?(n.sound.playMusic(N.getPath("music/gameOver.mp3","MUSIC",null)),this.bf.playAnim("deathLoop",!0)):this.bf.animation._curAnim.finished&&"deathConfirm"!=this.bf.animation._curAnim.name&&this.bf.playAnim("deathLoop",!0),null!=n.sound.music._channel&&(ea.songPosition=n.sound.music._time)},beatHit:function(){zg.prototype.beatHit.call(this)},isEnding:null,endBullshit:function(){var t;this.isEnding||(this.isEnding=!0,this.bf.playAnim("deathConfirm",!0),(t=n.sound.music).cleanup(t.autoDestroy,!0),n.sound.play(N.getPath("music/gameOverEnd.mp3","MUSIC",null)),(new Oc).start(.7,function(t){n.camera.fade(-16777216,2,!1,function(){var t=new L;n.game._state.switchTo(t)&&(n.game._requestedState=t)})}))},__class__:Zm});var $m=function(t,e){this.bf=new Fc(770,450,"bf"),this.sick=(new M).loadGraphic(N.getPath("images/sick.png","IMAGE","shared")),this.front=new M(-650,600).loadGraphic(N.getPath("images/stagefront.png","IMAGE","shared")),this.curt=new M(-500,-300).loadGraphic(N.getPath("images/stagecurtains.png","IMAGE","shared")),this.background=new M(-600,-200).loadGraphic(N.getPath("images/stageback.png","IMAGE","shared")),this.defaultY=n.height/2-50,this.defaultX=.55*n.width-135,na.call(this,t,e)};r.GameplayCustomizeState=$m,$m.__name__="GameplayCustomizeState",$m.__super__=na,$m.prototype=D(na.prototype,{defaultX:null,defaultY:null,background:null,curt:null,front:null,sick:null,bf:null,dad:null,strumLine:null,strumLineNotes:null,playerStrums:null,camHUD:null,create:function(){ea.changeBPM(102),this.persistentUpdate=!0,na.prototype.create.call(this),this.camHUD=new cc,this.camHUD.bgColor&=16777215,this.camHUD.bgColor|=0,n.cameras.add(this.camHUD),this.background.scrollFactor.set(.9,.9),this.curt.scrollFactor.set(.9,.9),this.front.scrollFactor.set(.9,.9),this.add(this.background),this.add(this.front),this.add(this.curt);var t=new Ea(0,0,1,1);this.dad=new Xc(100,100,"dad");var e=new ja(this.dad.getGraphicMidpoint().x+400,this.dad.getGraphicMidpoint().y);t.setPosition(e.x,e.y),this.add(this.bf),this.add(this.dad),this.add(this.sick),this.add(t),n.camera.follow(t,zq.LOCKON,.01),n.camera.set_zoom(.9),e=n.camera,t=t.getPosition(),e.scroll.set(t.x-.5*e.width,t.y-.5*e.height),t._weak&&t.put(),this.strumLine=new M(0,25).makeGraphic(n.width,10),this.strumLine.scrollFactor.set(),n.save.data.downscroll&&this.strumLine.set_y(n.height-165),this.strumLineNotes=new Aa,this.add(this.strumLineNotes),this.playerStrums=new Aa,this.sick.set_cameras([this.camHUD]),this.strumLine.set_cameras([this.camHUD]),this.playerStrums.set_cameras([this.camHUD]),this.generateStaticArrows(0),this.generateStaticArrows(1),n.save.data.changedHit||(n.save.data.changedHitX=this.defaultX,n.save.data.changedHitY=this.defaultY),this.sick.set_x(n.save.data.changedHitX),this.sick.set_y(n.save.data.changedHitY),this.sick.updateHitbox(),n.mouse.set_visible(!0)},update:function(t){null!=n.sound.music&&(ea.songPosition=n.sound.music._time),na.prototype.update.call(this,t),n.camera.set_zoom(.9+.95*(n.camera.zoom-.9)),this.camHUD.set_zoom(1+.95*(this.camHUD.zoom-1)),(t=!!n.mouse.overlaps(this.sick)&&(1==(t=n.mouse._leftButton).current||2==t.current))&&(this.sick.set_x(n.mouse.x-this.sick.get_width()/2),this.sick.set_y(n.mouse.y-this.sick.get_height()/2)),n.mouse.overlaps(this.sick)&&-1==n.mouse._leftButton.current&&(n.save.data.changedHitX=this.sick.x,n.save.data.changedHitY=this.sick.y,n.save.data.changedHit=!0),ec.player1.controls._back.check()&&(n.mouse.set_visible(!1),n.sound.play(N.sound("cancelMenu")),t=new Ej,n.game._state.switchTo(t)&&(n.game._requestedState=t))},beatHit:function(){na.prototype.beatHit.call(this),this.bf.playAnim("idle"),this.dad.dance();var t=n.camera;t.set_zoom(t.zoom+.015),(t=this.camHUD).set_zoom(t.zoom+.01)},generateStaticArrows:function(t){for(var e=0;e<4;){var s=e++,i=new M(0,this.strumLine.y);switch(i.set_frames(lb.fromSparrow(N.getPath("images/NOTE_assets.png","IMAGE","shared"),N.getPath("images/NOTE_assets.xml","TEXT","shared"))),i.animation.addByPrefix("green","arrowUP"),i.animation.addByPrefix("blue","arrowDOWN"),i.animation.addByPrefix("purple","arrowLEFT"),i.animation.addByPrefix("red","arrowRIGHT"),i.set_antialiasing(!0),i.setGraphicSize(.7*i.get_width()|0),Math.abs(s)){case 0:var a=i;a.set_x(a.x+0*Nd.swagWidth),i.animation.addByPrefix("static","arrowLEFT"),i.animation.addByPrefix("pressed","left press",24,!1),i.animation.addByPrefix("confirm","left confirm",24,!1);break;case 1:(a=i).set_x(a.x+Nd.swagWidth),i.animation.addByPrefix("static","arrowDOWN"),i.animation.addByPrefix("pressed","down press",24,!1),i.animation.addByPrefix("confirm","down confirm",24,!1);break;case 2:(a=i).set_x(a.x+2*Nd.swagWidth),i.animation.addByPrefix("static","arrowUP"),i.animation.addByPrefix("pressed","up press",24,!1),i.animation.addByPrefix("confirm","up confirm",24,!1);break;case 3:(a=i).set_x(a.x+3*Nd.swagWidth),i.animation.addByPrefix("static","arrowRIGHT"),i.animation.addByPrefix("pressed","right press",24,!1),i.animation.addByPrefix("confirm","right confirm",24,!1)}i.updateHitbox(),i.scrollFactor.set(),i.ID=s,1==t&&this.playerStrums.add(i),i.animation.play("static"),(s=i).set_x(s.x+50),(s=i).set_x(s.x+n.width/2*t),this.strumLineNotes.add(i)}},__class__:$m});var dc=function(){};r.GlobalVideo=dc,dc.__name__="GlobalVideo",dc.video=null,dc.webm=null,dc.setVid=function(t){dc.video=t},dc.getVid=function(){return dc.video},dc.setWebm=function(t){dc.webm=t,dc.isWebm=!0},dc.getWebm=function(){return dc.webm},dc.get=function(){return dc.isWebm?dc.getWebm():dc.getVid()},dc.calc=function(t){var e=Ga.get_current().stage.stageWidth,n=Ga.get_current().stage.stageHeight,s=(i=Xm.width)/(a=Xm.height)*n,i=a/i*e,a=(e-s)/2,r=(n-i)/2;switch(n<(i|=0)&&(r=0,i=n),e<(s|=0)&&(a=0,s=e),t){case 0:return a;case 1:return r;case 2:return s;case 3:return i}return null};var Cj=function(t,e){switch(null==e&&(e=!1),null==t&&(t="bf"),M.call(this),t){case"exTricky":this.loadGraphic(N.getPath("images/fourth/exTrickyIcons.png","IMAGE",null),!0,150,150),this.animation.add("exTricky",[0,1],0,!1,e);break;case"tricky":case"trickyMask":this.loadGraphic(N.getPath("images/IconGridTricky.png","IMAGE",null),!0,150,150),this.set_antialiasing(!0),this.animation.add("tricky",[2,3],0,!1,e),this.animation.add("trickyMask",[0,1],0,!1,e);break;case"trickyH":this.loadGraphic(N.getPath("images/hellclwn/hellclownIcon.png","IMAGE",null),!0,150,150),this.animation.add("trickyH",[0,1],0,!1,e),this.set_y(this.y-25);break;default:this.loadGraphic(N.getPath("images/iconGrid.png","IMAGE",null),!0,150,150),this.set_antialiasing(!0),this.animation.add("bf",[0,1],0,!1,e),this.animation.add("bf-car",[0,1],0,!1,e),this.animation.add("bf-christmas",[0,1],0,!1,e),this.animation.add("bf-pixel",[21,21],0,!1,e),this.animation.add("spooky",[2,3],0,!1,e),this.animation.add("pico",[4,5],0,!1,e),this.animation.add("mom",[6,7],0,!1,e),this.animation.add("mom-car",[6,7],0,!1,e),this.animation.add("tankman",[8,9],0,!1,e),this.animation.add("face",[10,11],0,!1,e),this.animation.add("dad",[12,13],0,!1,e),this.animation.add("senpai",[22,22],0,!1,e),this.animation.add("senpai-angry",[22,22],0,!1,e),this.animation.add("spirit",[23,23],0,!1,e),this.animation.add("bf-old",[14,15],0,!1,e),this.animation.add("gf",[16],0,!1,e),this.animation.add("parents-christmas",[17],0,!1,e),this.animation.add("monster",[19,20],0,!1,e),this.animation.add("monster-christmas",[19,20],0,!1,e)}this.animation.play(t),this.set_antialiasing(!0),this.scrollFactor.set()};r.HealthIcon=Cj,Cj.__name__="HealthIcon",Cj.__super__=M,Cj.prototype=D(M.prototype,{sprTracker:null,update:function(t){M.prototype.update.call(this,t),null!=this.sprTracker&&this.setPosition(this.sprTracker.x+this.sprTracker.get_width()+10,this.sprTracker.y-30)},__class__:Cj});var Bs=function(){};r.HelperFunctions=Bs,Bs.__name__="HelperFunctions",Bs.truncateFloat=function(t,e){return t*=Math.pow(10,e),Math.round(t)/Math.pow(10,e)};var Gc=function(){};r.Highscore=Gc,Gc.__name__="Highscore",Gc.saveScore=function(t,e,n){null==e&&(e=0),t=Gc.formatSong(t,n=null==n?0:n),(!Object.prototype.hasOwnProperty.call(Gc.songScores.h,t)||Gc.songScores.h[t]<e)&&Gc.setScore(t,e)},Gc.saveWeekScore=function(t,e,n){null==e&&(e=0),t=Gc.formatSong("week"+(t=null==t?1:t),n=null==n?0:n),(!Object.prototype.hasOwnProperty.call(Gc.songScores.h,t)||Gc.songScores.h[t]<e)&&Gc.setScore(t,e)},Gc.setScore=function(t,e){Gc.songScores.h[t]=e,n.save.data.songScores=Gc.songScores,n.save.flush()},Gc.formatSong=function(t,e){return 0==e?t+="-easy":2==e&&(t+="-hard"),t},Gc.getScore=function(t,e){var n=Gc.songScores,s=Gc.formatSong(t,e);return Object.prototype.hasOwnProperty.call(n.h,s)||Gc.setScore(Gc.formatSong(t,e),0),n=Gc.songScores,s=Gc.formatSong(t,e),n.h[s]},Gc.getWeekScore=function(t,e){var n=Gc.songScores,s=Gc.formatSong("week"+t,e);return Object.prototype.hasOwnProperty.call(n.h,s)||Gc.setScore(Gc.formatSong("week"+t,e),0),n=Gc.songScores,s=Gc.formatSong("week"+t,e),n.h[s]},Gc.load=function(){null!=n.save.data.songScores&&(Gc.songScores=n.save.data.songScores)};var oa=function(){};r.HxOverrides=oa,oa.__name__="HxOverrides",oa.strDate=function(t){switch(t.length){case 8:t=t.split(":");var e=new Date;return e.setTime(0),e.setUTCHours(t[0]),e.setUTCMinutes(t[1]),e.setUTCSeconds(t[2]),e;case 10:return t=t.split("-"),new Date(t[0],t[1]-1,t[2],0,0,0);case 19:return e=(t=t.split(" "))[0].split("-"),t=t[1].split(":"),new Date(e[0],e[1]-1,e[2],t[0],t[1],t[2]);default:throw G.thrown("Invalid date format : "+t)}},oa.cca=function(t,e){if((t=t.charCodeAt(e))==t)return t},oa.substr=function(t,e,n){if(null==n)n=t.length;else if(n<0){if(0!=e)return"";n=t.length+n}return t.substr(e,n)},oa.remove=function(t,e){return-1!=(e=t.indexOf(e))&&(t.splice(e,1),!0)},oa.now=function(){return Date.now()};var Aq=function(t,e){this.min=t,this.max=e};r.IntIterator=Aq,Aq.__name__="IntIterator",Aq.prototype={min:null,max:null,hasNext:function(){return this.min<this.max},next:function(){return this.min++},__class__:Aq};var Cs=function(){};r.KadeEngineData=Cs,Cs.__name__="KadeEngineData",Cs.initSave=function(){null==n.save.data.newInput&&(n.save.data.newInput=!0),null==n.save.data.downscroll&&(n.save.data.downscroll=!1),null==n.save.data.dfjk&&(n.save.data.dfjk=!1),null==n.save.data.accuracyDisplay&&(n.save.data.accuracyDisplay=!0),null==n.save.data.offset&&(n.save.data.offset=0),null==n.save.data.songPosition&&(n.save.data.songPosition=!1),null==n.save.data.fps&&(n.save.data.fps=!1),null==n.save.data.changedHit&&(n.save.data.changedHitX=-1,n.save.data.changedHitY=-1,n.save.data.changedHit=!1),null==n.save.data.fpsRain&&(n.save.data.fpsRain=!1),null==n.save.data.fpsCap&&(n.save.data.fpsCap=120),(290<n.save.data.fpsCap||n.save.data.fpsCap<60)&&(n.save.data.fpsCap=120),null==n.save.data.scrollSpeed&&(n.save.data.scrollSpeed=1),null==n.save.data.npsDisplay&&(n.save.data.npsDisplay=!1),null==n.save.data.frames&&(n.save.data.frames=10),null==n.save.data.accuracyMod&&(n.save.data.accuracyMod=1),null==n.save.data.watermark&&(n.save.data.watermark=!0),null==n.save.data.ghost&&(n.save.data.ghost=!0),null==n.save.data.distractions&&(n.save.data.distractions=!0),null==n.save.data.flashing&&(n.save.data.flashing=!0),null==n.save.data.botplay&&(n.save.data.botplay=!1),null==n.save.data.beatenHard&&(n.save.data.beatenHard=!1),null==n.save.data.beaten&&(n.save.data.beaten=!1),null==n.save.data.beatEx&&(n.save.data.beatEx=!1),ea.recalculateTimings(),Wm.keyCheck(),ec.player1.controls.loadKeyBinds(),xa.__cast(Ga.get_current().getChildAt(0),Ha).setFPSCap(n.save.data.fpsCap)};var an=function(t,e){this.state="select",this.blacklist=["ESCAPE","ENTER","BACKSPACE","SPACE"],this.tempKey="",this.keys=[n.save.data.leftBind,n.save.data.downBind,n.save.data.upBind,n.save.data.rightBind],this.curSelected=0,this.defaultKeys=["A","S","W","D","R"],this.keyText=["LEFT","DOWN","UP","RIGHT"],na.call(this,t,e)};r.KeyBindMenu=an,an.__name__="KeyBindMenu",an.__super__=na,an.prototype=D(na.prototype,{keyTextDisplay:null,keyWarning:null,warningTween:null,keyText:null,defaultKeys:null,curSelected:null,keys:null,tempKey:null,blacklist:null,state:null,create:function(){for(var t=0,e=this.keys.length;t<e;){var n=t++;null==this.keys[n]&&(this.keys[n]=this.defaultKeys[n])}this.persistentUpdate=this.persistentDraw=!0,t=new M(-10,-10).loadGraphic(N.getPath("images/menu/freeplay/RedBG.png","IMAGE",null)),this.add(t),(t=new M(-810,-335).loadGraphic(N.getPath("images/menu/freeplay/hedge.png","IMAGE",null))).setGraphicSize(.65*t.get_width()|0),this.add(t),(t=new M(-205,-100).loadGraphic(N.getPath("images/menu/freeplay/Shadescreen.png","IMAGE",null))).setGraphicSize(.65*t.get_width()|0),this.add(t),(t=new M(-225,-395).loadGraphic(N.getPath("images/menu/freeplay/theBox.png","IMAGE",null))).setGraphicSize(.65*t.get_width()|0),this.add(t),this.keyTextDisplay=new Vb(-10,0,1280,"",72),this.keyTextDisplay.scrollFactor.set(0,0),this.keyTextDisplay.setFormat("tahoma-bold.ttf",54,-65536,"center",se.OUTLINE,-16777216),this.keyTextDisplay.set_borderSize(3),this.keyTextDisplay.set_borderQuality(1),this.add(this.keyTextDisplay),this.keyWarning=new Vb(0,580,1280,"WARNING: BIND NOT SET, TRY ANOTHER KEY",42),this.keyWarning.scrollFactor.set(0,0),this.keyWarning.setFormat("vcr.ttf",42,-1,"center",se.OUTLINE,-16777216),this.keyWarning.set_borderSize(3),this.keyWarning.set_borderQuality(1),this.keyWarning.screenCenter(af.X),this.keyWarning.set_alpha(0),this.add(this.keyWarning),(t=new M(-1350,-1190).loadGraphic(N.getPath("images/menu/freeplay/Menu Shade.png","IMAGE",null))).setGraphicSize(.7*t.get_width()|0),this.add(t),this.warningTween=$a.tween(this.keyWarning,{alpha:0},0),this.textUpdate(),na.prototype.create.call(this)},update:function(t){switch(this.state){case"exiting":break;case"input":this.tempKey=this.keys[this.curSelected],this.keys[this.curSelected]="?",this.textUpdate(),this.state="waiting";break;case"select":var e=n.keys.justPressed;e.keyManager.checkStatus(38,e.status)&&(n.sound.play(N.sound("Hover")),this.changeItem(-1)),(e=n.keys.justPressed).keyManager.checkStatus(40,e.status)&&(n.sound.play(N.sound("Hover")),this.changeItem(1)),(e=n.keys.justPressed).keyManager.checkStatus(13,e.status)?(n.sound.play(N.sound("Hover")),this.state="input"):(e=n.keys.justPressed).keyManager.checkStatus(27,e.status)?(n.sound.play(N.sound("confirm")),this.quit()):(e=n.keys.justPressed).keyManager.checkStatus(8,e.status)&&(n.sound.play(N.sound("confirm")),this.reset());break;case"waiting":(e=n.keys.justPressed).keyManager.checkStatus(27,e.status)?(this.keys[this.curSelected]=this.tempKey,this.state="select",n.sound.play(N.sound("confirm"))):(e=n.keys.justPressed).keyManager.checkStatus(13,e.status)?(this.addKey(this.defaultKeys[this.curSelected]),this.save(),this.state="select"):n.keys.justPressed.get_ANY()&&(e=n.keys.getIsDown()[0].ID,this.addKey(db.toStringMap.h[e]),this.save(),this.state="select");break;default:this.state="select"}n.keys.justPressed.get_ANY()&&this.textUpdate(),na.prototype.update.call(this,t)},textUpdate:function(){this.keyTextDisplay.set_text("\n\n");var t=0==this.curSelected?"> ":"  ",e=this.keyTextDisplay;e.set_text(e.text+(t+this.keyText[0]+": "+(this.keys[0]!=this.keyText[0]?this.keys[0]+" / ":"")+this.keyText[0])+" ARROW\n"),t=1==this.curSelected?"> ":"  ",(e=this.keyTextDisplay).set_text(e.text+(t+this.keyText[1]+": "+(this.keys[1]!=this.keyText[1]?this.keys[1]+" / ":"")+this.keyText[1])+" ARROW\n"),t=2==this.curSelected?"> ":"  ",(e=this.keyTextDisplay).set_text(e.text+(t+this.keyText[2]+": "+(this.keys[2]!=this.keyText[2]?this.keys[2]+" / ":"")+this.keyText[2])+" ARROW\n"),t=3==this.curSelected?"> ":"  ",(e=this.keyTextDisplay).set_text(e.text+(t+this.keyText[3]+": "+(this.keys[3]!=this.keyText[3]?this.keys[3]+" / ":"")+this.keyText[3])+" ARROW\n"),this.keyTextDisplay.screenCenter()},save:function(){n.save.data.upBind=this.keys[2],n.save.data.downBind=this.keys[1],n.save.data.leftBind=this.keys[0],n.save.data.rightBind=this.keys[3],n.save.flush(),ec.player1.controls.loadKeyBinds()},reset:function(){this.keys[0]=this.defaultKeys[0],this.keys[1]=this.defaultKeys[1],this.keys[2]=this.defaultKeys[2],this.keys[3]=this.defaultKeys[3],this.keys[4]=this.defaultKeys[4],this.quit()},quit:function(){this.state="exiting",this.save();var t=new Ej;n.game._state.switchTo(t)&&(n.game._requestedState=t)},addKey:function(t){for(var e=[],s=0,i=this.keys;s<i.length;){var a=i[s];++s,a!=this.tempKey&&e.push(a)}for(s=0,i=this.blacklist;s<i.length;)a=i[s],++s,e.push(a);if(4!=this.curSelected)for(s=0,i=this.keyText;s<i.length;)a=i[s],++s,a!=this.keyText[this.curSelected]&&e.push(a);else for(s=0,i=this.keyText;s<i.length;)a=i[s],++s,e.push(a);for(Bb.trace(e,{fileName:"source/KeyBindMenu.hx",lineNumber:240,className:"KeyBindMenu",methodName:"addKey"}),s=0,i=this.keys.length;s<i;)a=s++,this.keys[a]==t&&(this.keys[a]=null);this.keys[this.curSelected]=t,n.sound.play(N.sound("Hover"))},changeItem:function(t){this.curSelected+=t=null==t?0:t,3<this.curSelected&&(this.curSelected=0),this.curSelected<0&&(this.curSelected=3)},__class__:an});var Wm=function(){};r.KeyBinds=Wm,Wm.__name__="KeyBinds",Wm.resetBinds=function(){n.save.data.upBind="W",n.save.data.downBind="S",n.save.data.leftBind="A",n.save.data.rightBind="D",n.save.data.killBind="R",ec.player1.controls.loadKeyBinds()},Wm.keyCheck=function(){null==n.save.data.upBind&&(n.save.data.upBind="W",Bb.trace("No UP",{fileName:"source/KeyBinds.hx",lineNumber:30,className:"KeyBinds",methodName:"keyCheck"})),null==n.save.data.downBind&&(n.save.data.downBind="S",Bb.trace("No DOWN",{fileName:"source/KeyBinds.hx",lineNumber:34,className:"KeyBinds",methodName:"keyCheck"})),null==n.save.data.leftBind&&(n.save.data.leftBind="A",Bb.trace("No LEFT",{fileName:"source/KeyBinds.hx",lineNumber:38,className:"KeyBinds",methodName:"keyCheck"})),null==n.save.data.rightBind&&(n.save.data.rightBind="D",Bb.trace("No RIGHT",{fileName:"source/KeyBinds.hx",lineNumber:42,className:"KeyBinds",methodName:"keyCheck"})),null==n.save.data.killBind&&(n.save.data.killBind="R",Bb.trace("No KILL",{fileName:"source/KeyBinds.hx",lineNumber:46,className:"KeyBinds",methodName:"keyCheck"}))};var sk=function(){};r.Lambda=sk,sk.__name__="Lambda",sk.array=function(t){var e=[];for(t=Va(t);t.hasNext();){var n=t.next();e.push(n)}return e},sk.exists=function(t,e){for(t=Va(t);t.hasNext();)if(e(t.next()))return!0;return!1};var yd=function(t,e){this.stopMusic=this.danceLeft=!1,na.call(this),this.target=t,this.stopMusic=e};r.LoadingState=yd,yd.__name__="LoadingState",yd.getSongPath=function(){return"songs:assets/songs/"+L.SONG.song.toLowerCase()+"/Inst.mp3"},yd.getVocalPath=function(){return"songs:assets/songs/"+L.SONG.song.toLowerCase()+"/Voices.mp3"},yd.loadAndSwitchState=function(t,e){t=yd.getNextState(t,e=null==e?!1:e),n.game._state.switchTo(t)&&(n.game._requestedState=t)},yd.getNextState=function(t,e){return null==e&&(e=!1),N.setCurrentLevel("week"+L.storyWeek),!yd.isSoundLoaded(yd.getSongPath())||L.SONG.needsVoices&&!yd.isSoundLoaded(yd.getVocalPath())||!yd.isLibraryLoaded("shared")?new yd(t,e):(e&&null!=n.sound.music&&(e=n.sound.music).cleanup(e.autoDestroy,!0),t)},yd.isSoundLoaded=function(t){return ua.cache.hasSound(t)},yd.isLibraryLoaded=function(t){return null!=ua.getLibrary(t)},yd.initSongsManifest=function(){var e=new te;if(null!=(t=Ia.getLibrary("songs")))return vb.withValue(t);var t="songs",n=null,n=Ia.libraryPaths;return Object.prototype.hasOwnProperty.call(n.h,"songs")?(t=n.h.songs,n=Ue.directory(t)):(Y.endsWith(t,".bundle")?(n=t,t+="/library.json"):n=Ue.directory(t),t=Ia.__cacheBreak(t)),qd.loadFromFile(t,n).onComplete(function(t){null==t?e.error('Cannot parse asset manifest for library "songs"'):null==(t=oc.fromManifest(t))?e.error('Cannot open library "songs"'):((Ia.libraries.h.songs=t).onChange.add(y(C=Ia.onChange,C.dispatch)),e.completeWith(vb.withValue(t)))}).onError(function(t){e.error('There is no asset library with an ID of "songs"')}),e.future},yd.__super__=na,yd.prototype=D(na.prototype,{target:null,stopMusic:null,callbacks:null,logo:null,gfDance:null,danceLeft:null,create:function(){var s=this;this.logo=new M(-150,-100);var t=null;this.logo.set_frames(lb.fromSparrow(N.getPath("images/logoBumpin.png","IMAGE",t),N.getPath("images/logoBumpin.xml","TEXT",t))),this.logo.set_antialiasing(!0),this.logo.animation.addByPrefix("bump","logo bumpin",24),this.logo.animation.play("bump"),this.logo.updateHitbox(),this.gfDance=new M(.4*n.width,.07*n.height),this.gfDance.set_frames(lb.fromSparrow(N.getPath("images/gfDanceTitle.png","IMAGE",t=null),N.getPath("images/gfDanceTitle.xml","TEXT",t))),this.gfDance.animation.addByIndices("danceLeft","gfDance",[30,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14],"",24,!1),this.gfDance.animation.addByIndices("danceRight","gfDance",[15,16,17,18,19,20,21,22,23,24,25,26,27,28,29],"",24,!1),this.gfDance.set_antialiasing(!0),this.add(this.gfDance),this.add(this.logo),yd.initSongsManifest().onComplete(function(t){s.callbacks=new Bq(y(s,s.onLoad));var e=s.callbacks.add("introComplete");s.checkLoadSong(yd.getSongPath()),L.SONG.needsVoices&&s.checkLoadSong(yd.getVocalPath()),s.checkLibrary("shared"),n.camera.fade(n.camera.bgColor,.5,!0),(new Oc).start(1.5,function(t){e()})})},checkLoadSong:function(t){var e;ua.cache.hasSound(t)||(ua.getLibrary("songs"),t.split(":").pop(),e=this.callbacks.add("song:"+t),ua.loadSound(t).onComplete(function(t){e()}))},checkLibrary:function(t){if(Bb.trace(ua.hasLibrary(t),{fileName:"source/LoadingState.hx",lineNumber:93,className:"LoadingState",methodName:"checkLibrary"}),null==ua.getLibrary(t)){if(!Object.prototype.hasOwnProperty.call(Ia.libraryPaths.h,t))throw G.thrown("Missing library: "+t);var e=this.callbacks.add("library:"+t);ua.loadLibrary(t).onComplete(function(t){e()})}},beatHit:function(){na.prototype.beatHit.call(this),this.logo.animation.play("bump"),(this.danceLeft=!this.danceLeft)?this.gfDance.animation.play("danceRight"):this.gfDance.animation.play("danceLeft")},update:function(t){na.prototype.update.call(this,t)},onLoad:function(){var t;this.stopMusic&&null!=n.sound.music&&(t=n.sound.music).cleanup(t.autoDestroy,!0),t=this.target,n.game._state.switchTo(t)&&(n.game._requestedState=t)},destroy:function(){na.prototype.destroy.call(this),this.callbacks=null},__class__:yd});var Bq=function(t,e){this.fired=[],this.unfired=new va,this.length=this.numRemaining=0,this.logId=null,this.callback=t,this.logId=e};r.MultiCallback=Bq,Bq.__name__="MultiCallback",Bq.prototype={callback:null,logId:null,length:null,numRemaining:null,unfired:null,fired:null,add:function(e){null==e&&(e="untitled");var n=this;e=this.length+":"+e,this.length++,this.numRemaining++;var t=function(){var t;Object.prototype.hasOwnProperty.call(n.unfired.h,e)?(t=n.unfired,Object.prototype.hasOwnProperty.call(t.h,e)&&delete t.h[e],n.fired.push(e),n.numRemaining--,null!=n.logId&&null!=n.logId&&Bb.trace(n.logId+": fired "+e+", "+n.numRemaining+" remaining",{fileName:"source/LoadingState.hx",lineNumber:303,className:"MultiCallback",methodName:"log"}),0==n.numRemaining&&(null!=n.logId&&null!=n.logId&&Bb.trace(n.logId+": all callbacks fired",{fileName:"source/LoadingState.hx",lineNumber:303,className:"MultiCallback",methodName:"log"}),n.callback())):null!=n.logId&&Bb.trace(n.logId+": already fired "+e,{fileName:"source/LoadingState.hx",lineNumber:303,className:"MultiCallback",methodName:"log"})};return this.unfired.h[e]=t},log:function(t){null!=this.logId&&Bb.trace(this.logId+": "+t,{fileName:"source/LoadingState.hx",lineNumber:303,className:"MultiCallback",methodName:"log"})},getFired:function(){return this.fired.slice()},getUnfired:function(){for(var t=[],e=va.keysIterator(this.unfired.h);e.hasNext();){var n=e.next();t.push(n)}return t},__class__:Bq};var Wa=function(t,e){this.lines="CHAOC... THE CHAOS;THE HALO...;UNFORESEEN POWER;WHY HAVE YOU REDUCDED ME TO THIS;...;I HATE YOU...;LEAVE ME BE;YOU'VE CAUSED ENOUGH PAIN FOR ME;GO AWAY".split(";"),this.selectedSmth=!1,this.listOfDiff=["easy","medium","hard"],this.listOfDiffButtons=[new Pf(635,415,"menu/EASY button","menu/EASY button confirm",Wa.setDiff,"easy"),new Pf(787,415,"menu/MEDIUM button","menu/MEDIUM Button confirm",Wa.setDiff),new Pf(1015,415,"menu/HARD Button","menu/HARD button confirm",Wa.setDiff,"hard")],this.listOfButtons=[new Pf(800,160,"menu/Clown Mode Button","menu/Clown Mode Button CONFIRM",Wa.playStory,null,0,-40),new Pf(1010,165,"menu/FreePlayButton","menu/FreePlayButton CONFIRM",Wa.goToFreeplay,"free",0,-40),new Pf(925,265,"menu/MUSIC Button","menu/MUSIC button confirm",Wa.goToMusic),new Pf(685,330,"menu/DIFFICULTY","menu/DIFFICULTY CONFIRM",Wa.startDiffSelect),new Pf(975,460,"menu/OPTIONS Button","menu/OPTIONS Button CONFIRM",Wa.goToOptions,"options",0,45)],this.show="",na.call(this,t,e)},hf,fc,kn,ln,mn,nn,on,pn,qn,jc,bn,cn,dn,en,fn,gn,hn,rn,sn,Ma;r.MainMenuState=Wa,Wa.__name__="MainMenuState",Wa.trans=null,Wa.instance=null,Wa.setDiff=function(){Wa.curDifficulty=Wa.diffSelectedIndex,Wa.selectingDiff=!1,Wa.instance.listOfButtons[0].highlight(),Wa.selectedIndex=0},Wa.goToFreeplay=function(){n.mouse.set_visible(!1),Wa.curDifficulty=Wa.diffSelectedIndex,Ud.diff=Wa.curDifficulty,Bb.trace(Wa.curDifficulty,{fileName:"source/MainMenuState.hx",lineNumber:394,className:"MainMenuState",methodName:"goToFreeplay"});var t=new Ud;n.game._state.switchTo(t)&&(n.game._requestedState=t)},Wa.goToMusic=function(){n.mouse.set_visible(!1);var t=new Ma;n.game._state.switchTo(t)&&(n.game._requestedState=t)},Wa.goToOptions=function(){n.mouse.set_visible(!1);var t=new Ej;n.game._state.switchTo(t)&&(n.game._requestedState=t)},Wa.startDiffSelect=function(){Wa.selectingDiff=!0,Wa.instance.listOfButtons[Wa.selectedIndex].unHighlight()},Wa.playStory=function(){n.mouse.set_visible(!1),L.storyPlaylist=["Improbable Outset","Madness","Hellclown"],L.isStoryMode=!0;var t="";switch(Wa.curDifficulty){case 0:t="-easy";break;case 2:t="-hard"}L.storyDifficulty=Wa.curDifficulty,L.SONG=Yg.loadFromJson("improbable-outset"+t,"improbable-outset"),L.storyWeek=7,L.campaignScore=0,null!=(t=n.sound.music).fadeTween&&t.fadeTween.cancel(),t.fadeTween=$a.num(t._volume,0,1,{onComplete:null},y(t,t.volumeTween)),null!=Ma.Vocals&&null!=Ma.Vocals._channel&&(t=Ma.Vocals).cleanup(t.autoDestroy,!0),L.playCutscene=!0,Wa.trans.animation.play("Close"),Wa.trans.set_alpha(1),(new gd).loadEmbedded(N.sound("swipe")).play();var s=!1;(new Oc).start(.01,function(t){var e;10!=Wa.trans.animation.frameIndex||s||(s=!0,n.sound.music.set_volume(1),(new gd).loadEmbedded(N.sound("clink")).play()),18==Wa.trans.animation.frameIndex?(null!=(t=Wa.trans.animation)._curAnim&&t._curAnim.pause(),t=new L,t=yd.getNextState(t,e=null==(e=!0)?!1:e),n.game._state.switchTo(t)&&(n.game._requestedState=t)):t.reset(.01)})},function(){function B(){return window}function R(t,e){return e<t}function l(t,e){return e<=t}function o(t,e){var n={},s={},i={},a={},r={},l={},o={};n._=e;var h=t.length;s._=[];for(var _=0;_<h;_++)s._[_]=t.charAt(_);for(_=0;_<h;_++)i._=n._*(_+120)+n._%54138,a._=n._*(_+472)+n._%51867,r._=i._%h,l._=a._%h,o._=s._[r._],s._[r._]=s._[l._],s._[l._]=o._,n._=(i._+a._)%1719802;e=String.fromCharCode(127);return s._.join("").split("%").join(e).split("#1").join("%").split("#0").join("#").split(e)}function h(t,e,n){var s={};if(s._=n,t){for(var i=this[vt[7]][vt[6]][vt[3]](vt[5])[1][vt[3]](vt[4])[0][vt[3]](vt[2])[0],a=t[vt[3]](vt[8]),r=0;r<a[vt[9]];r++){var l=a[r];if(l==i)return;if(e&&(2==(l=i[vt[3]](vt[10]+l))[vt[9]]&&!l[1]))return}!function(t){throw t._||vt[11]}(s)}}function i(){var t,e={},s={},i={},a={};if(Wa[vt[14]]=this,n[vt[17]][vt[16]][vt[15]]){if(e._=new M(this[vt[20]][1][vt[19]][vt[18]],this[vt[20]][1][vt[19]][vt[21]]),s._=N[vt[24]](vt[22],vt[23],null),this[vt[20]][1][vt[19]]=e._[vt[25]](s._),e._=new M(this[vt[20]][1][vt[26]][vt[18]],this[vt[20]][1][vt[26]][vt[21]]),!vt)return v(),void(Nt=!0);s._=N[vt[24]](vt[27],vt[23],null),this[vt[20]][1][vt[26]]=e._[vt[25]](s._)}if(vt||(o(null,0,!0),Nt=vt[328]),Wa[vt[28]]=new M(400,0),vt)if(e._=null,Wa[vt[28]][vt[33]](lb[vt[32]](N[vt[24]](vt[29],vt[23],e._),N[vt[24]](vt[30],vt[31],e._))),null!==w){if(Wa[vt[28]][vt[34]](!0),Wa[vt[28]][vt[38]][vt[37]](vt[35],vt[36],32,!1),vt)if(Bb[vt[44]](Wa[vt[28]][vt[38]][vt[40]][vt[39]],{fileName:vt[41],lineNumber:71,className:vt[42],methodName:vt[43]}),Wa[vt[28]][vt[46]](4.2*Wa[vt[28]][vt[45]]()|0),e._=new M(-10,-10)[vt[25]](N[vt[24]](vt[47],vt[23],null)),vt||(ot(!1),_=!0),this[vt[48]](e._),e._=new M(-750,110)[vt[25]](N[vt[24]](vt[49],vt[23],null)),e._[vt[46]](.65*e._[vt[45]]()|0),this[vt[48]](e._),e._=new M(-750,110)[vt[25]](N[vt[24]](vt[50],vt[23],null)),e._[vt[46]](.65*e._[vt[45]]()|0),this[vt[48]](e._),vt||_(vt[191]),this[vt[51]]=new wl(N[vt[24]](vt[52],vt[23],null),1,0,!0,!1),0===q&&(Ut=!0),this[vt[51]][vt[54]][vt[53]](-14,0),this[vt[51]][vt[55]](-20),null==h&&(ct=null),this[vt[51]][vt[56]](209),this[vt[51]][vt[46]](.65*this[vt[51]][vt[45]]()|0),!0!==Qt){switch(this[vt[48]](this[vt[51]]),Wa[vt[57]]?(e._=n[vt[59]][vt[58]],e._[vt[61]](e._[vt[60]],!0),e._=n[vt[63]][vt[62]](0,1e4),this[vt[64]]=vt[65],1e3<=e._&&l(1999,e._)&&(this[vt[64]]=vt[66]),3e3<=e._&&l(3999,e._)&&(this[vt[64]]=vt[67]),4e3<=e._&&l(4999,e._)&&(this[vt[64]]=vt[68]),2e3<=e._&&l(2999,e._)&&(this[vt[64]]=vt[69]),5e3<=e._&&l(5999,e._)&&(this[vt[64]]=vt[70]),6e3<=e._&&l(6999,e._)&&(this[vt[64]]=vt[71]),7e3<=e._&&l(7999,e._)&&(this[vt[64]]=vt[72]),9800<e._&&(this[vt[64]]=vt[73]),Wa[vt[74]]=!1,Wa[vt[75]]=this[vt[64]],Bb[vt[44]](vt[76]+e._+vt[77]+this[vt[64]],{fileName:vt[41],lineNumber:118,className:vt[42],methodName:vt[43]})):this[vt[64]]=Wa[vt[75]],this[vt[78]]=new M(200,280),pt||(Bt=!1),ea[vt[79]](165),this[vt[64]]){case vt[71]:if(this[vt[78]][vt[33]](E[vt[81]][vt[32]](vt[71],vt[80])),this[vt[78]][vt[38]][vt[37]](vt[82],vt[83]),null==n[vt[59]][vt[58]][vt[84]]&&n[vt[59]][vt[87]](N[vt[24]](vt[85],vt[86],null),0),e._=this[vt[78]],!tt)return;e._[vt[56]](e._[vt[21]]-300),e._=this[vt[78]],e._[vt[55]](e._[vt[18]]-200),this[vt[78]][vt[46]](.76*this[vt[78]][vt[45]]()|0),this[vt[90]][vt[89]](vt[88]);break;case vt[65]:this[vt[78]][vt[33]](E[vt[81]][vt[32]](vt[65],vt[91])),this[vt[78]][vt[38]][vt[37]](vt[82],vt[92]),this[vt[78]][vt[93]](!0),null==n[vt[59]][vt[58]][vt[84]]&&n[vt[59]][vt[87]](N[vt[24]](vt[85],vt[86],null),0),this[vt[78]][vt[46]](.76*this[vt[78]][vt[45]]()|0),this[vt[90]][vt[89]](vt[94]);break;case vt[69]:this[vt[78]][vt[33]](E[vt[81]][vt[32]](vt[69],vt[95])),this[vt[78]][vt[38]][vt[37]](vt[82],vt[96]),null==n[vt[59]][vt[58]][vt[84]]&&n[vt[59]][vt[87]](N[vt[24]](vt[85],vt[86],null),0),this[vt[78]][vt[46]](.68*this[vt[78]][vt[45]]()|0),e._=this[vt[78]],e._[vt[56]](e._[vt[21]]-65),e._=this[vt[78]],e._[vt[55]](e._[vt[18]]-145),this[vt[78]][vt[97]](-8),this[vt[90]][vt[89]](vt[98]);break;case vt[70]:this[vt[78]][vt[33]](E[vt[81]][vt[32]](vt[70],vt[99])),this[vt[78]][vt[38]][vt[37]](vt[82],vt[100]),e._=this[vt[78]],e._[vt[56]](e._[vt[21]]-240),e._=this[vt[78]],e._[vt[55]](e._[vt[18]]-180),null==n[vt[59]][vt[58]][vt[84]]&&n[vt[59]][vt[87]](N[vt[24]](vt[85],vt[86],null),0),this[vt[78]][vt[46]](.63*this[vt[78]][vt[45]]()|0),this[vt[90]][vt[89]](vt[101]);break;case vt[67]:if(J==vt[278]?et(null):this[vt[78]][vt[33]](E[vt[81]][vt[32]](vt[67],vt[102])),this[vt[78]][vt[38]][vt[37]](vt[82],vt[103]),e._=this[vt[78]],e._[vt[56]](e._[vt[21]]-240),!vt)return;if(e._=this[vt[78]],e._[vt[55]](e._[vt[18]]-145),vt||Dt(),null==n[vt[59]][vt[58]][vt[84]]&&n[vt[59]][vt[87]](N[vt[24]](vt[85],vt[86],null),0),0==u)return;this[vt[78]][vt[46]](.66*this[vt[78]][vt[45]]()|0),this[vt[90]][vt[89]](vt[104]);break;case vt[72]:if(this[vt[78]][vt[33]](E[vt[81]][vt[32]](vt[105],vt[106])),this[vt[78]][vt[38]][vt[37]](vt[82],vt[107]),null==n[vt[59]][vt[58]][vt[84]]&&n[vt[59]][vt[87]](N[vt[24]](vt[85],vt[86],null),0),this[vt[78]][vt[46]](.66*this[vt[78]][vt[45]]()|0),!Bt)return void S();if(e._=this[vt[78]],e._[vt[56]](e._[vt[21]]-310),vt||A(0),e._=this[vt[78]],!vt)return;e._[vt[55]](e._[vt[18]]-500),this[vt[90]][vt[89]](vt[108]);break;case vt[68]:if(this[vt[78]][vt[33]](E[vt[81]][vt[32]](vt[68],vt[109])),this[vt[78]][vt[38]][vt[37]](vt[82],vt[110]),null==n[vt[59]][vt[58]][vt[84]]&&n[vt[59]][vt[87]](N[vt[24]](vt[85],vt[86],null),0),this[vt[78]][vt[46]](.66*this[vt[78]][vt[45]]()|0),!A)return;if(e._=this[vt[78]],e._[vt[56]](e._[vt[21]]-180),e._=this[vt[78]],e._[vt[55]](e._[vt[18]]-275),!0==ht)return void p(vt[73]);this[vt[90]][vt[89]](vt[111]);break;case vt[73]:if(0===W)return void(xt=1);if(n[vt[113]][vt[112]](!0),this[vt[78]][vt[33]](E[vt[81]][vt[32]](vt[73],vt[114])),this[vt[78]][vt[38]][vt[37]](vt[82],vt[115],24),this[vt[78]][vt[38]][vt[37]](vt[116],vt[117],24,!1),this[vt[78]][vt[38]][vt[119]](vt[118],vt[117],[5],vt[1],24,!1),this[vt[78]][vt[38]][vt[37]](vt[120],vt[121],24,!1),null==n[vt[59]][vt[58]][vt[84]]&&n[vt[59]][vt[87]](N[vt[24]](vt[85],vt[86],null),0),this[vt[78]][vt[46]](.76*this[vt[78]][vt[45]]()|0),e._=this[vt[78]],e._[vt[56]](e._[vt[21]]+35),this[vt[122]]=new M(this[vt[78]][vt[18]]+75,this[vt[78]][vt[21]]+50)[vt[25]](N[vt[24]](vt[123],vt[23],null)),!0===Rt)return void(u=1);if(this[vt[122]][vt[46]](.67*this[vt[122]][vt[45]]()|0),!vt)return void X();this[vt[122]][vt[34]](!0),this[vt[122]][vt[124]](0),this[vt[90]][vt[89]](vt[125]);break;case vt[66]:this[vt[78]][vt[33]](E[vt[81]][vt[32]](vt[66],vt[126])),this[vt[78]][vt[38]][vt[37]](vt[82],vt[127]),e._=this[vt[78]],e._[vt[56]](e._[vt[21]]-155),e._=this[vt[78]],e._[vt[55]](e._[vt[18]]-120),null==n[vt[59]][vt[58]][vt[84]]&&n[vt[59]][vt[87]](N[vt[24]](vt[85],vt[86],null),0),this[vt[78]][vt[46]](.76*this[vt[78]][vt[45]]()|0),this[vt[90]][vt[89]](vt[128])}if(null!=J)if(this[vt[78]][vt[34]](!0),Wa[vt[57]]&&(e._=n[vt[59]][vt[58]],s._=4,i._=0,a._=.7,null==(t=a)._&&(t._=1),null==(t=i)._&&(t._=0),vt||(bt(),Q=!0),null==(t=s)._&&(t._=1),null==e._[vt[84]]&&e._[vt[129]](),ot||(z(),gt=null),null!=e._[vt[130]]&&e._[vt[130]][vt[131]](),vt||dt(),e._[vt[130]]=$a[vt[133]](i._,a._,s._,{onComplete:null},y(e._,e._[vt[132]])),Wa[vt[57]]=!1),vt[73]==this[vt[64]]&&Wa[vt[74]]?(this[vt[78]][vt[134]][vt[53]](5,10),this[vt[78]][vt[38]][vt[129]](vt[118])):this[vt[78]][vt[38]][vt[129]](vt[82]),e._=0,K){for(s._=this[vt[20]];e._<s._[vt[9]];){if(bt==vt[441])return void dt();i._=s._[e._],++e._,i._[vt[19]][vt[46]](.7*i._[vt[19]][vt[45]]()|0),i._[vt[26]][vt[46]](.7*i._[vt[26]][vt[45]]()|0),this[vt[48]](i._),this[vt[48]](i._[vt[19]]),this[vt[48]](i._[vt[26]])}for(this[vt[48]](this[vt[78]]),e._=new M(-455,-327)[vt[25]](N[vt[24]](vt[135],vt[23],null)),e._[vt[46]](.7*e._[vt[45]]()|0),1==P&&(st(vt[431]),xt=null),e._[vt[34]](!0),nt||(v=1),this[vt[48]](e._),e._=new M(-750,-414)[vt[25]](N[vt[24]](vt[136],vt[23],null)),0==St&&(c(),o=vt[314]),e._[vt[46]](.65*e._[vt[45]]()|0),e._[vt[34]](!0),this[vt[48]](e._),e._=new M(600,390)[vt[25]](N[vt[24]](vt[137],vt[23],null)),e._[vt[46]](.7*e._[vt[45]]()|0),e._[vt[34]](!0),this[vt[48]](e._),e._=0,s._=this[vt[138]];e._<s._[vt[9]];)i._=s._[e._],++e._,i._[vt[19]][vt[46]](.7*i._[vt[19]][vt[45]]()|0),i._[vt[26]][vt[46]](.7*i._[vt[26]][vt[45]]()|0),this[vt[48]](i._),this[vt[48]](i._[vt[19]]),this[vt[48]](i._[vt[26]]);if(e._=new M(-749,98)[vt[25]](N[vt[24]](vt[139],vt[23],null)),vt)if(e._[vt[46]](.7*e._[vt[45]]()|0),e._[vt[34]](!0),this[vt[48]](e._),e._=new M(-50,-15)[vt[25]](N[vt[24]](vt[140],vt[23],null)),e._[vt[34]](!0),this[vt[48]](e._),!1===Nt&&($=0),n[vt[17]][vt[16]][vt[141]]&&(s._=new M(875,60)[vt[25]](N[vt[24]](vt[142],vt[23],null)),n[vt[17]][vt[16]][vt[15]]&&(s._=new M(875,-20)[vt[25]](N[vt[24]](vt[143],vt[23],null)),n[vt[17]][vt[16]][vt[144]]&&(n[vt[113]][vt[112]](!0),this[vt[145]]=new M(980,-100),e._=null,this[vt[145]][vt[33]](lb[vt[32]](N[vt[24]](vt[146],vt[23],e._),N[vt[24]](vt[147],vt[31],e._))),this[vt[145]][vt[38]][vt[37]](vt[82],vt[148],24),this[vt[145]][vt[38]][vt[37]](vt[149],vt[150],24,!1),this[vt[145]][vt[38]][vt[37]](vt[151],vt[152],24,!1),this[vt[145]][vt[38]][vt[129]](vt[82]),this[vt[145]][vt[46]](.66*this[vt[145]][vt[45]]()|0),this[vt[145]][vt[34]](!0),this[vt[48]](this[vt[145]]))),s._[vt[34]](!0),s._[vt[46]](.8*s._[vt[45]]()|0),this[vt[48]](s._)),vt[73]==this[vt[64]]&&this[vt[48]](this[vt[122]]),e._=new M(-1350,-1190)[vt[25]](N[vt[24]](vt[153],vt[23],null)),e._[vt[46]](.7*e._[vt[45]]()|0),vt){if(e._[vt[34]](!0),this[vt[48]](e._),!vt)return H(),void($=null);e._=new M(0,0)[vt[25]](N[vt[24]](vt[154],vt[23],null)),e._[vt[34]](!0),this[vt[48]](e._),this[vt[48]](Wa[vt[28]]),vt||it(0),Wa[vt[28]][vt[124]](0),Wa[vt[155]]=Wa[vt[156]],this[vt[138]][Wa[vt[155]]][vt[157]](!1),this[vt[20]][Wa[vt[158]]][vt[157]](),na[vt[13]][vt[43]][vt[159]](this)}else w()}else ot();else K()}else ht()}else yt();else K=null}function a(){switch(Wa[vt[158]]){case 0:$a[vt[161]](this[vt[20]][Wa[vt[158]]],{y:160},1,{ease:Za[vt[160]]});break;case 1:$a[vt[161]](this[vt[20]][Wa[vt[158]]],{y:165},1,{ease:Za[vt[160]]});break;case 4:$a[vt[161]](this[vt[20]][Wa[vt[158]]],{y:460},1,{ease:Za[vt[160]]})}}function t(){switch(Wa[vt[158]]){case 0:case 1:$a[vt[161]](this[vt[20]][Wa[vt[158]]],{y:50},1,{ease:Za[vt[160]]});break;case 4:if(!1==H)return void O();$a[vt[161]](this[vt[20]][Wa[vt[158]]],{y:500},1,{ease:Za[vt[160]]})}}function u(){this[vt[78]][vt[38]][vt[129]](vt[120]);var t=this[vt[20]][Wa[vt[158]]][vt[26]];Bb[vt[44]](t[vt[18]],{fileName:vt[41],lineNumber:514,className:vt[42],methodName:vt[162]}),Bb[vt[44]](t[vt[21]],{fileName:vt[41],lineNumber:515,className:vt[42],methodName:vt[162]}),$a[vt[161]](this[vt[122]],{alpha:1,x:t[vt[18]]+10,y:t[vt[21]]-10},.6,{ease:Za[vt[160]]})}function c(){Ma[vt[164]][vt[163]](),n[vt[59]][vt[58]][vt[129]](),Ma[vt[164]][vt[166]](n[vt[59]][vt[58]][vt[165]]),Ma[vt[164]][vt[129]]()}function e(t){var e,s={},i={};if(s._=t,na[vt[13]][vt[167]][vt[159]](this,s._),null!=Ma[vt[164]]&&null!=Ma[vt[164]][vt[84]]&&(R(n[vt[59]][vt[58]][vt[165]],Ma[vt[164]][vt[165]]+20)||n[vt[59]][vt[58]][vt[165]]<Ma[vt[164]][vt[165]]-20)&&this[vt[168]](),null!=this[vt[145]]){if(n[vt[113]][vt[169]](this[vt[145]])&&2==n[vt[113]][vt[171]][vt[170]]&&vt[82]==this[vt[145]][vt[38]][vt[173]][vt[172]])if(R(45,n[vt[63]][vt[174]](0,50))){if(this[vt[145]][vt[134]][vt[53]](33,9),this[vt[145]][vt[38]][vt[129]](vt[149]),i._=new Vb(this[vt[145]][vt[18]]-200,this[vt[145]][vt[21]]+285,0,this[vt[90]][n[vt[63]][vt[174]](0,this[vt[90]][vt[9]]-1)]),i._[vt[178]](vt[175],24,-1,vt[176],se[vt[177]],-16777216),!vt)return void(Rt=!0);this[vt[48]](i._),$a[vt[161]](i._,{alpha:0},.7,{onComplete:(e=i,function(t){vt?e._[vt[179]]():it()})})}else this[vt[145]][vt[134]][vt[53]](5,-1),n[vt[59]][vt[129]](N[vt[59]](vt[180])),this[vt[145]][vt[38]][vt[129]](vt[151]);this[vt[145]][vt[38]][vt[181]]()&&vt[82]!=this[vt[145]][vt[38]][vt[173]][vt[172]]&&(this[vt[145]][vt[134]][vt[53]](0,0),this[vt[145]][vt[38]][vt[129]](vt[82]))}vt[73]==this[vt[64]]&&!Wa[vt[74]]&&this[vt[78]][vt[38]][vt[181]]()?this[vt[78]][vt[38]][vt[129]](vt[82]):vt[73]==this[vt[64]]&&n[vt[113]][vt[169]](this[vt[78]])&&2==n[vt[113]][vt[171]][vt[170]]&&!Wa[vt[74]]&&(this[vt[78]][vt[134]][vt[53]](5,10),this[vt[78]][vt[38]][vt[129]](vt[116]),Wa[vt[74]]=!0,n[vt[59]][vt[129]](N[vt[59]](vt[182])),1==this[vt[122]][vt[183]]&&$a[vt[161]](this[vt[122]],{y:n[vt[184]]+20+this[vt[122]][vt[185]](),angle:125,alpha:0},5,{ease:Za[vt[186]]}));var a=vt[1];for(s._=1-Fa[vt[7]][vt[187]][vt[9]];R(1,s._);){var r=s._++;a+=Fa[vt[7]][vt[187]][vt[188]](-r)}if(!vt)return F(),void(u=!0);var a=a+vt[189]+oa[vt[190]](Fa[vt[7]][vt[187]],5),l=r=vt[1],o=[vt[191],vt[192],vt[193],vt[194]],h=[];for(s._=0;s._<o[vt[9]];){var _=o[s._];0,++s._,j||c(),_==a?(h=[vt[195],vt[196],vt[197],vt[198]],r=vt[199],a=Y[vt[202]](a,vt[200],oa[vt[201]](Fa[vt[7]][vt[187]],2,5))):vt[199]!=r&&(r=vt[203])}if(!Ut)return c(),void(u=null);for(s._=0;s._<h[vt[9]];)1==at&&(V=1),_=h[s._],++s._,_==a&&(l=vt[204],(o=(o=r)[vt[3]](vt[1]))[vt[205]](),o=o[vt[206]](vt[1]));vt[207]==r+l&&(Wa[vt[208]]?(s._=n[vt[210]][vt[209]],s._[vt[213]][vt[212]](27,s._[vt[211]])&&(Wa[vt[208]]=!1,this[vt[20]][0][vt[157]](),Wa[vt[156]]=Wa[vt[155]],Wa[vt[158]]=0,this[vt[214]]=!1),s._=n[vt[210]][vt[209]],s._[vt[213]][vt[212]](39,s._[vt[211]])&&Wa[vt[155]]+1<this[vt[138]][vt[9]]&&(this[vt[138]][Wa[vt[155]]][vt[215]](),this[vt[138]][Wa[vt[155]]+1][vt[157]](),Wa[vt[155]]++),s._=n[vt[210]][vt[209]],s._[vt[213]][vt[212]](37,s._[vt[211]])&&0<Wa[vt[155]]&&(this[vt[138]][Wa[vt[155]]][vt[215]](),this[vt[138]][Wa[vt[155]]-1][vt[157]](),Wa[vt[155]]--),s._=n[vt[210]][vt[209]],s._[vt[213]][vt[212]](13,s._[vt[211]])&&(this[vt[214]]=!1,this[vt[138]][Wa[vt[155]]][vt[216]]())):(s._=n[vt[210]][vt[209]],s._[vt[213]][vt[212]](39,s._[vt[211]])&&(vt[73]!=this[vt[64]]||Wa[vt[74]]||1!=this[vt[122]][vt[183]]||$a[vt[161]](this[vt[122]],{alpha:0,x:this[vt[78]][vt[18]]+60,y:this[vt[78]][vt[21]]+60},.6,{ease:Za[vt[160]]}),Wa[vt[158]]+1<this[vt[20]][vt[9]]?(this[vt[20]][Wa[vt[158]]][vt[215]](),this[vt[20]][Wa[vt[158]]+1][vt[157]](),Wa[vt[158]]++):(this[vt[20]][Wa[vt[158]]][vt[215]](),Wa[vt[158]]=0,this[vt[20]][Wa[vt[158]]][vt[157]]())),s._=n[vt[210]][vt[209]],s._[vt[213]][vt[212]](37,s._[vt[211]])&&(vt[73]!=this[vt[64]]||Wa[vt[74]]||1!=this[vt[122]][vt[183]]||$a[vt[161]](this[vt[122]],{alpha:0,x:this[vt[78]][vt[18]]+60,y:this[vt[78]][vt[21]]+60},.6,{ease:Za[vt[160]]}),0<Wa[vt[158]]?(this[vt[20]][Wa[vt[158]]][vt[215]](),this[vt[20]][Wa[vt[158]]-1][vt[157]](),Wa[vt[158]]--):(this[vt[20]][Wa[vt[158]]][vt[215]](),this[vt[20]][this[vt[20]][vt[9]]-1][vt[157]](),Wa[vt[158]]=this[vt[20]][vt[9]]-1)),s._=n[vt[210]][vt[209]],s._[vt[213]][vt[212]](13,s._[vt[211]])&&!this[vt[214]]&&(vt[73]!=this[vt[64]]||Wa[vt[74]]?(this[vt[214]]=!0,vt[217]==this[vt[20]][Wa[vt[158]]][vt[218]]&&(this[vt[219]]=null),this[vt[20]][Wa[vt[158]]][vt[216]]()):this[vt[162]]())))}function _(){this[vt[78]][vt[38]][vt[129]](vt[82]),dt?na[vt[13]][vt[220]][vt[159]](this):ut=!1}function s(){}function d(t){var e={};e._=t,hf[vt[223]]=[],vt&&(hf[vt[224]]=[],(hf[vt[225]]=null)!=e._&&Object[vt[13]][vt[227]][vt[159]](e._,vt[225])&&(hf[vt[225]]=Z[vt[228]](e._,vt[225])),null==hf[vt[225]]&&(hf[vt[225]]=vt[229]),vt?jc[vt[230]](bn):ft(),jc[vt[230]](cn),jc[vt[230]](dn),jc[vt[230]](en),jc[vt[230]](fn),jc[vt[230]](gn),jc[vt[230]](hn),e._=hf[vt[225]]+vt[231],Ia[vt[234]][vt[233]][vt[232]]=e._,e._=hf[vt[225]]+vt[235],Ia[vt[234]][vt[233]][vt[236]]=e._,e._=qd[vt[238]](vt[237],hf[vt[225]]),e._=oc[vt[239]](e._),Ia[vt[241]](vt[240],e._),e._=Ia[vt[242]](vt[240]),null!=e._?hf[vt[223]][vt[89]](e._):hf[vt[224]][vt[89]](vt[240]))}function f(t){null!=t&&(this[vt[172]]=t),this[vt[243]]||(null==this[vt[244]]&&(this[vt[244]]=0),null==this[vt[245]]&&(this[vt[245]]=0),null==this[vt[184]]&&(this[vt[184]]=0),null==this[vt[246]]&&(this[vt[246]]=0),null==this[vt[247]]&&(this[vt[247]]=0),null==this[vt[248]]&&(this[vt[248]]=0),null==this[vt[249]]&&(this[vt[249]]=0),null!=this[vt[250]]?Ia[vt[251]](this[vt[250]])&&this[vt[253]](Ia[vt[252]](this[vt[250]])):null!=this[vt[254]]&&this[vt[255]](this[vt[254]]))}function v(t){if(null==t)return null;var e=new fc;if(1!==k)return e[vt[253]](t),e;X()}function p(t){if(null==t)return null;var e=new fc;return e[vt[255]](t),vt?e:void 0}function m(t){return vb[vt[260]](fc[vt[257]](t))}function g(t){if(vt)return(new jn)[vt[264]](t)[vt[263]](function(t){return vt?null!=t?vb[vt[260]](t):vb[vt[262]](vt[1]):(Rt(),void(Ft=vt[44]))})}function b(t){return(new fc)[vt[266]](t)}function S(t){var e={},n={},s={};if(e._=t,n._=B()[vt[270]][vt[269]](vt[268]),n._[vt[273]](vt[271],vt[272]),s._=B()[vt[270]][vt[275]](vt[274]),n._[vt[276]](s._),s._=n._[vt[277]],s._[vt[278]]=vt[279],s._[vt[280]]=vt[281],s._[vt[282]]=vt[283],s._[vt[284]]=vt[283],Ut||(Tt(1),ct=!1),s._[vt[285]]=vt[286],s._[vt[287]]=vt[288],vt)if(s._[vt[184]]=vt[288],gt){if(s._[vt[289]]=vt[290],s._[vt[291]]=vt[292],s._[vt[293]]=vt[292],s._[vt[294]]=vt[290],s._[vt[295]]=vt[296],s._[vt[297]]=e._,X)return B()[vt[270]][vt[298]][vt[276]](n._),n._}else j(!1);else d()}function x(){if(vt)return null}function F(t){return-1}function U(t){return null}function Q(t){return null}function T(t,e){return null}function k(t,e){return null}function w(t){null!=t&&(this[vt[244]]=t[vt[244]],this[vt[245]]=t[vt[245]],this[vt[184]]=t[vt[184]],this[vt[172]]=t[vt[172]],this[vt[246]]=t[vt[246]],this[vt[299]]=t[vt[299]],this[vt[247]]=t[vt[247]],this[vt[248]]=t[vt[248]],this[vt[249]]=t[vt[249]],this[vt[250]]=t[vt[250]],this[vt[254]]=t[vt[254]],this[vt[243]]=!0)}function W(t){vt?this[vt[254]]=null:o=1}function V(t){this[vt[254]]=t}function P(){_||(v(0,null),a=null),this[vt[243]]=!0}function J(t){var e={},n={},s={},i={},a={},r={},l={},o={},h={};e._=t,n._=this,s._=new te,this[vt[172]]=e._;var _,u,c,d,f,p,m,g,b,S,x,F,U,N,Q,T,t=0<=(D=Fa[vt[302]][vt[301]][vt[300]]())[vt[304]](vt[303])&&R(0,D[vt[304]](vt[305])),D=new Mb(vt[307],vt[308])[vt[306]](D);if(!t&&!D&&B()[vt[270]][vt[309]]&&y(C=B()[vt[270]][vt[309]],C[vt[264]]))B()[vt[270]][vt[309]][vt[264]](vt[315]+e._+vt[316])[vt[263]](function(t){T._[vt[310]](Q._)},(F=e,U=Q=n,N=T=s,function(t){Eb[vt[314]](vt[311]+F._+vt[312],{fileName:vt[313],lineNumber:513,className:vt[256],methodName:vt[266]}),N._[vt[310]](U._)}));else{if(i._=fc[vt[267]](vt[316]+e._+vt[317]),a._=fc[vt[267]](vt[316]+e._+vt[318]),r._=i._[vt[319]],l._=a._[vt[319]],o._=-1,h._=0,!v)return void ht();o._=B()[vt[323]]((_=h,u={},c=i,d=r,f=a,p=l,m={},g=o,b=e,S=n,x=s,function(){var t,e;_._+=1,null==H&&et(),t=f,e=p,u._=c._[vt[319]]!=d._||t._[vt[319]]!=e._,m._=3e3<=50*_._,(u._||m._)&&(B()[vt[320]](g._),c._[vt[322]][vt[321]](c._),f._[vt[322]][vt[321]](f._),f._=c._=null,m._&&Eb[vt[314]](vt[311]+b._+vt[312],{fileName:vt[313],lineNumber:548,className:vt[256],methodName:vt[266]}),x._[vt[310]](S._))}),50)}return s._[vt[324]]}function I(t){}function O(){this[vt[244]]=2049,this[vt[245]]=-423,this[vt[184]]=2472,this[vt[246]]=3693,this[vt[247]]=-244,this[vt[248]]=201,O||(I(!1),$=!0),this[vt[249]]=2048,this[vt[172]]=vt[326],fc[vt[159]](this)}function G(){this[vt[244]]=2066,this[vt[245]]=-432,this[vt[184]]=2498,vt?this[vt[246]]=661:(Nt(0,null),xt=vt[304]),this[vt[247]]=-256,z&&(this[vt[248]]=102,this[vt[249]]=2048,this[vt[172]]=vt[328],fc[vt[159]](this))}function A(){this[vt[244]]=1125,this[vt[245]]=-250,this[vt[184]]=1375,this[vt[246]]=262,null===v&&ht(),this[vt[247]]=-143,this[vt[248]]=20,this[vt[249]]=1e3,this[vt[172]]=vt[330],fc[vt[159]](this)}function L(){this[vt[249]]=this[vt[248]]=this[vt[247]]=this[vt[246]]=this[vt[184]]=this[vt[245]]=this[vt[244]]=null,this[vt[172]]=vt[326],fc[vt[159]](this)}function z(){this[vt[244]]=1800,this[vt[245]]=0,!(this[vt[184]]=2e3)===I&&J(),this[vt[246]]=204,this[vt[247]]=-292,this[vt[248]]=150,this[vt[249]]=2048,this[vt[172]]=vt[333],fc[vt[159]](this)}function H(){if(0,this[vt[244]]=2048,this[vt[245]]=-512,!i)return Qt(),void(A=1);this[vt[184]]=2816,vt?this[vt[246]]=172:_t=!1,q||(vt[183],m=vt[140]),this[vt[247]]=-640,this[vt[248]]=256,this[vt[249]]=2048,this[vt[172]]=vt[335],G||(Qt(),tt=null),fc[vt[159]](this)}function j(){this[vt[244]]=968,vt?(this[vt[245]]=-251,this[vt[184]]=1219,this[vt[246]]=263,vt&&(this[vt[247]]=-150,this[vt[248]]=50,this[vt[249]]=1e3,this[vt[172]]=vt[337],fc[vt[159]](this))):G=0}function X(t){fc[vt[159]](this,t)}function K(t){return 1==b&&(pt=1),jc[vt[340]]}function q(t){var e=new jc;return e[vt[253]](rc[vt[341]](t)),e}function $(t){var e=new jc;return e[vt[255]](t),e}function tt(t){return fc[vt[259]](rc[vt[341]](t))[vt[263]](function(t){var e=new jc;return e[vt[342]](t),vb[vt[260]](e)})}function et(t){if(o)return fc[vt[261]](t)[vt[263]](function(t){var e=new jc;if(e[vt[342]](t),!0!=H)return vb[vt[260]](e);X(null)});et()}function nt(t){return fc[vt[265]](t)[vt[263]](function(t){var e=new jc;if(e[vt[342]](t),1!==W)return vb[vt[260]](e)})}function st(t){null!=(t=null==xa[vt[343]](t)?xa[vt[345]](Cb[vt[344]](t,[]),jc):xa[vt[345]](t,jc))&&(jc[vt[340]][vt[89]](t),jc[vt[346]][vt[233]][t[vt[172]]]=t)}function it(t){this[vt[347]](t)}function at(){return this[vt[348]]}function rt(){return this[vt[172]]}function lt(t){return this[vt[172]]=t}function ot(){this[vt[342]](new kn),0==A||fc[vt[159]](this,void 0)}function ht(){this[vt[342]](new ln),fc[vt[159]](this,void 0)}function _t(){this[vt[342]](new mn),fc[vt[159]](this,void 0)}function ut(){z!==vt[426]&&(this[vt[342]](new nn),fc[vt[159]](this,void 0))}function ct(){this[vt[342]](new on),fc[vt[159]](this,void 0)}function dt(){this[vt[342]](new pn),fc[vt[159]](this,void 0)}function ft(){this[vt[342]](new qn),vt&&fc[vt[159]](this,void 0)}function pt(t,e){var n={};if(n._=e,null==(e=n)._&&(e._=vt[65]),M[vt[159]](this,t),this[vt[358]]=n._,t=lb[vt[32]](N[vt[24]](vt[359],vt[23],null),N[vt[24]](vt[360],vt[31],null)),this[vt[33]](t),this[vt[38]][vt[37]](vt[65],vt[361],24),this[vt[38]][vt[37]](vt[362],vt[363],24,!1),this[vt[38]][vt[37]](vt[364],vt[365],24),this[vt[38]][vt[37]](vt[366],vt[367],24),this[vt[38]][vt[37]](vt[368],vt[369],24),this[vt[38]][vt[37]](vt[370],vt[371],24),this[vt[38]][vt[37]](vt[372],vt[373],24),vt){if(this[vt[38]][vt[37]](vt[374],vt[375],24),!vt)return bt(!1),void(o=!0);this[vt[38]][vt[37]](vt[376],vt[377],24),this[vt[38]][vt[37]](vt[378],vt[379],24),this[vt[38]][vt[129]](n._),!0===mt?ft=vt[178]:this[vt[380]]()}}function mt(t,e,s){var i={};i._=s,null==(s=i)._&&(s._=0),this[vt[382]]=Math[vt[384]](1/n[vt[383]]/10),this[vt[385]]=!1,null!=v&&(this[vt[386]]=this[vt[387]]=0,jb[vt[159]](this,t,e),this[vt[388]]=(new M)[vt[25]](N[vt[24]](vt[389]+i._+vt[390],vt[23],null)),this[vt[48]](this[vt[388]]))}function gt(){this[vt[385]]=!0}function bt(t){vt||(v(),dt=!0),jb[vt[13]][vt[167]][vt[159]](this,t),t=this[vt[21]],!1!=o&&(this[vt[56]](t+.17*(120*this[vt[386]]+480-t)),vt||q(null,0,!1,!0),this[vt[385]]&&(this[vt[387]]+=1),l(this[vt[387]]%this[vt[382]],Math[vt[392]](this[vt[382]]/2))?this[vt[388]][vt[393]](-13369345):this[vt[388]][vt[393]](-1))}function St(t,e){this[vt[394]]=this[vt[395]]=!1,this[vt[396]]=[],vt?(this[vt[397]]=[],this[vt[398]]=[],this[vt[399]]=(new M)[vt[25]](N[vt[24]](vt[400],vt[23],null)),this[vt[401]]=(new M)[vt[25]](N[vt[24]](vt[402],vt[23],null)),this[vt[403]]=(new M)[vt[25]](N[vt[24]](vt[404],vt[23],null)),na[vt[159]](this,t,e)):O=vt[331]}function xt(){var t={},e={};if(this[vt[398]][vt[89]](new Ag(0,0,vt[406],vt[406],48,y(this,this[vt[407]]))),this[vt[398]][0][vt[19]][vt[408]](),t._=this[vt[398]][0][vt[19]],t._[vt[56]](t._[vt[21]]+30),this[vt[397]][vt[89]](new Ag(0,0,vt[409],vt[409],28,y(this,this[vt[410]]),vt[409])),e._=this[vt[397]][0],!0==dt?at():e._[vt[19]][vt[408]](),t._=e._[vt[19]],t._[vt[56]](t._[vt[21]]+110),t._=e._[vt[19]],t._[vt[55]](t._[vt[18]]-290),this[vt[397]][vt[89]](new Ag(0,0,vt[411],vt[411],28,y(this,this[vt[410]]),vt[411])),e._=this[vt[397]][1],e._[vt[19]][vt[408]](),t._=e._[vt[19]],t._[vt[56]](t._[vt[21]]+110),this[vt[397]][vt[89]](new Ag(0,0,vt[412],vt[412],28,y(this,this[vt[410]]),vt[412])),e._=this[vt[397]][2],e._[vt[19]][vt[408]](),t._=e._[vt[19]],Q){if(t._[vt[56]](t._[vt[21]]+110),t._=e._[vt[19]],1===X?(_(vt[179]),bt=!1):t._[vt[55]](t._[vt[18]]+315),n[vt[17]][vt[16]][vt[15]]||this[vt[395]]?(this[vt[398]][vt[89]](new Ag(0,0,vt[413],vt[413],48,y(this,this[vt[414]]))),Bb[vt[44]](y(this,this[vt[414]]),{fileName:vt[415],lineNumber:73,className:vt[405],methodName:vt[43]}),this[vt[398]][1][vt[19]][vt[408]](),t._=this[vt[398]][1][vt[19]],t._[vt[56]](t._[vt[21]]+220),t._=this[vt[398]][1][vt[19]],t._[vt[55]](t._[vt[18]]-290),this[vt[398]][vt[89]](new Ag(0,0,vt[416],vt[416],48,y(this,this[vt[417]]))),this[vt[398]][2][vt[19]][vt[408]](),t._=this[vt[398]][2][vt[19]],t._[vt[56]](t._[vt[21]]+220),t._=this[vt[398]][2][vt[19]]):(this[vt[398]][vt[89]](new Ag(0,0,vt[416],vt[416],48,y(this,this[vt[417]]))),this[vt[398]][1][vt[19]][vt[408]](),t._=this[vt[398]][1][vt[19]],t._[vt[56]](t._[vt[21]]+220),t._=this[vt[398]][1][vt[19]]),t._[vt[55]](t._[vt[18]]+245),this[vt[396]][vt[89]](new Ag(0,0,vt[418],vt[418],28,y(this,this[vt[419]]),vt[420])),e._=this[vt[396]][0],e._[vt[19]][vt[408]](),t._=e._[vt[19]],G)if(t._[vt[55]](t._[vt[18]]+200),t._=e._[vt[19]],t._[vt[56]](t._[vt[21]]+285),this[vt[396]][vt[89]](new Ag(0,0,vt[421],vt[421],28,y(this,this[vt[419]]),vt[422])),m)if(e._=this[vt[396]][1],e._[vt[19]][vt[408]](),t._=e._[vt[19]],0!==u){if(t._[vt[55]](t._[vt[18]]+218),vt||P(),t._=e._[vt[19]],t._[vt[56]](t._[vt[21]]+343),t._=new M(-10,-10)[vt[25]](N[vt[24]](vt[423],vt[23],null)),this[vt[48]](t._),t._=new M(-810,-335)[vt[25]](N[vt[24]](vt[424],vt[23],null)),t._[vt[46]](.65*t._[vt[45]]()|0),this[vt[48]](t._),e._=new wl(N[vt[24]](vt[425],vt[23],null),1,1,!1,!0),e._[vt[54]][vt[53]](0,14),e._[vt[408]](),t._=e._,t._[vt[55]](t._[vt[18]]+440),this[vt[48]](e._),!0==Qt?I=!0:e._=(new M)[vt[25]](N[vt[24]](vt[426],vt[23],null)),e._[vt[408]](),e._[vt[46]](.66*e._[vt[45]]()|0),t._=e._,t._[vt[56]](t._[vt[21]]+180),p===vt[271])return w(!1),void(ct=null);if(this[vt[48]](e._),this[vt[403]][vt[408]](),this[vt[401]][vt[408]](),this[vt[399]][vt[408]](),this[vt[401]][vt[34]](!0),this[vt[403]][vt[34]](!0),vt)if(this[vt[399]][vt[34]](!0),this[vt[403]][vt[46]](.6*this[vt[403]][vt[45]]()|0),this[vt[401]][vt[46]](.6*this[vt[401]][vt[45]]()|0),this[vt[399]][vt[46]](.6*this[vt[399]][vt[45]]()|0),t._=this[vt[403]],t._[vt[56]](t._[vt[21]]-165),1===Ut&&(c(0),F=0),t._=this[vt[401]],1==o&&i(!0),t._[vt[56]](t._[vt[21]]-165),vt){if(t._=this[vt[399]],t._[vt[56]](t._[vt[21]]-165),this[vt[427]]=(new M)[vt[25]](N[vt[24]](vt[428],vt[23],null)),this[vt[429]]=(new M)[vt[25]](N[vt[24]](vt[430],vt[23],null)),this[vt[427]][vt[34]](!0),this[vt[429]][vt[34]](!0),this[vt[427]][vt[46]](.6*this[vt[427]][vt[45]]()|0),this[vt[429]][vt[46]](.6*this[vt[429]][vt[45]]()|0),this[vt[427]][vt[408]](),!0!=a&&(this[vt[429]][vt[408]](),t._=this[vt[427]],t._[vt[56]](t._[vt[21]]-180),vt)){for(t._=this[vt[427]],t._[vt[55]](t._[vt[18]]-108),t._=this[vt[429]],t._[vt[56]](t._[vt[21]]-180),t._=this[vt[429]],t._[vt[55]](t._[vt[18]]+108),this[vt[48]](this[vt[427]]),this[vt[48]](this[vt[429]]),this[vt[48]](this[vt[403]]),this[vt[48]](this[vt[401]]),this[vt[48]](this[vt[399]]),e._=n[vt[17]][vt[16]][vt[15]]||this[vt[395]]?(new M)[vt[25]](N[vt[24]](vt[431],vt[23],null)):(new M)[vt[25]](N[vt[24]](vt[432],vt[23],null)),S||(O=vt[298]),e._[vt[408]](),e._[vt[46]](.66*e._[vt[45]]()|0),t._=e._,t._[vt[56]](t._[vt[21]]+210),this[vt[48]](e._),t._=0,e._=this[vt[398]];t._<e._[vt[9]];){var s=e._[t._];++t._,o===vt[340]&&$(!0),this[vt[48]](s),this[vt[48]](s[vt[19]]),this[vt[48]](s[vt[26]])}for(t._=0,e._=this[vt[397]];t._<e._[vt[9]];)s=e._[t._],++t._,this[vt[48]](s),this[vt[48]](s[vt[19]]),this[vt[48]](s[vt[26]]);for(t._=0,e._=this[vt[396]];t._<e._[vt[9]];)s=e._[t._],++t._,this[vt[48]](s),this[vt[48]](s[vt[19]]),this[vt[48]](s[vt[26]]);(n[vt[17]][vt[16]][vt[15]]||this[vt[395]])&&(this[vt[433]]=new Ag(0,0,vt[434],vt[434],24,y(this,this[vt[435]]),vt[434]),this[vt[48]](this[vt[433]]),this[vt[48]](this[vt[433]][vt[19]]),this[vt[48]](this[vt[433]][vt[26]]),this[vt[433]][vt[19]][vt[408]](),t._=this[vt[433]][vt[19]],t._[vt[56]](t._[vt[21]]+305),t._=this[vt[433]][vt[19]],t._[vt[55]](t._[vt[18]]-290),Bb[vt[44]](y(this,this[vt[435]]),{fileName:vt[415],lineNumber:213,className:vt[405],methodName:vt[43]}),Bb[vt[44]](this[vt[433]][vt[19]],{fileName:vt[415],lineNumber:215,className:vt[405],methodName:vt[43]})),1===Dt&&(i(null,!1,1),tt=null),t._=new M(-1350,-1190)[vt[25]](N[vt[24]](vt[436],vt[23],null)),t._[vt[46]](.7*t._[vt[45]]()|0),this[vt[48]](t._),this[vt[398]][Ma[vt[158]]][vt[157]](),-1!=Ma[vt[437]]&&(this[vt[403]][vt[112]](!0),this[vt[399]][vt[112]](!1),this[vt[401]][vt[112]](!1),this[vt[397]][Ma[vt[437]]][vt[157]](),this[vt[438]]=this[vt[397]][Ma[vt[437]]],Bb[vt[44]](this[vt[438]][vt[218]],{fileName:vt[415],lineNumber:231,className:vt[405],methodName:vt[43]}),this[vt[439]](this[vt[397]][Ma[vt[437]]][vt[218]])),(n[vt[17]][vt[16]][vt[15]]||this[vt[395]])&&-1!=Ma[vt[440]]&&(this[vt[403]][vt[112]](!1),this[vt[399]][vt[112]](!1),this[vt[401]][vt[112]](!0),this[vt[433]][vt[157]](),this[vt[438]]=this[vt[433]],this[vt[439]](this[vt[433]][vt[218]])),-1!=Ma[vt[441]]&&(this[vt[403]][vt[112]](!1),this[vt[399]][vt[112]](!0),this[vt[401]][vt[112]](!1),this[vt[396]][Ma[vt[441]]][vt[157]](),this[vt[438]]=this[vt[396]][Ma[vt[441]]],this[vt[439]](this[vt[396]][Ma[vt[441]]][vt[218]]))}}else Ft=vt[445];else G=0}else A();else u(!1,0)}else a(vt[70],1)}function Ft(t){var e={};if(e._=t,Ma[vt[442]]!=e._){var s=n[vt[59]][vt[58]];switch(s[vt[61]](s[vt[60]],!0),null!=Ma[vt[164]]&&(s=Ma[vt[164]])[vt[61]](s[vt[60]],!0),e._){case vt[420]:null!=Ma[vt[164]]&&((s=Ma[vt[164]])[vt[61]](s[vt[60]],!0),Ma[vt[164]]=null),n[vt[59]][vt[87]](N[vt[59]](vt[443]));break;case vt[422]:if(!pt)return;if(null!=Ma[vt[164]]&&((s=Ma[vt[164]])[vt[61]](s[vt[60]],!0),Ma[vt[164]]=null),!vt)return void(I=vt[250]);n[vt[59]][vt[87]](N[vt[24]](vt[444],vt[86],null));break;default:s=vt[445]+e._[vt[300]]()[vt[300]]()+vt[446],Ma[vt[164]]=(new gd)[vt[447]](s,!0),Ma[vt[164]][vt[448]]=!0,Ma[vt[164]][vt[60]]=!1,n[vt[59]][vt[87]](vt[445]+e._[vt[300]]()[vt[300]]()+vt[449],1,!0),Ma[vt[164]][vt[129]](),n[vt[59]][vt[450]][vt[48]](Ma[vt[164]])}Ma[vt[442]]=e._}}function yt(){Ma[vt[164]][vt[163]](),n[vt[59]][vt[58]][vt[129]](),Ma[vt[164]][vt[166]](n[vt[59]][vt[58]][vt[165]]),Ma[vt[164]][vt[129]]()}function Ut(){this[vt[439]](this[vt[397]][Ma[vt[437]]][vt[218]]),this[vt[427]][vt[97]](0),this[vt[429]][vt[97]](0),1===Tt&&(a(),h=!1),this[vt[403]][vt[112]](!0),vt||p(0),this[vt[399]][vt[112]](!1),this[vt[401]][vt[112]](!1)}function Nt(){if(this[vt[439]](this[vt[433]][vt[218]]),St===vt[163])return g(0),void(tt=!0);this[vt[427]][vt[97]](0),this[vt[429]][vt[97]](0),this[vt[403]][vt[112]](!1),this[vt[399]][vt[112]](!1),Rt?this[vt[401]][vt[112]](!0):mt=null}function Qt(){if(this[vt[439]](this[vt[396]][Ma[vt[441]]][vt[218]]),!vt)return S(),void(dt=!0);this[vt[427]][vt[97]](0),this[vt[429]][vt[97]](0),this[vt[403]][vt[112]](!1),!1==St&&(q(),A=!0),this[vt[399]][vt[112]](!0),this[vt[401]][vt[112]](!1)}function Tt(){this[vt[394]]=!0,Ma[vt[437]]=0,Ma[vt[440]]=-1,vt?(Ma[vt[441]]=-1,vt?(this[vt[438]][vt[215]](),this[vt[397]][Ma[vt[437]]][vt[157]](),H||(_t=vt[50]),this[vt[438]]=this[vt[397]][Ma[vt[437]]]):j=null):st=!1}function Dt(){this[vt[394]]=!0,gt?(Ma[vt[440]]=0,e?(Ma[vt[437]]=-1,vt||v(),Ma[vt[441]]=-1,Bb[vt[44]](this[vt[438]][vt[218]],{fileName:vt[415],lineNumber:353,className:vt[405],methodName:vt[414]}),this[vt[438]][vt[215]](),this[vt[433]][vt[157]](),this[vt[438]]=this[vt[433]]):Ut()):z=!1}function Bt(){this[vt[394]]=!0,Ma[vt[441]]=0,Ma[vt[437]]=-1,Ma[vt[440]]=-1,this[vt[438]][vt[215]](),!0!==_t&&(this[vt[396]][Ma[vt[441]]][vt[157]](),this[vt[438]]=this[vt[396]][Ma[vt[441]]])}function Rt(t){na[vt[13]][vt[167]][vt[159]](this,t),null!=Ma[vt[164]]&&(null!=Ma[vt[164]][vt[84]]?((R(n[vt[59]][vt[58]][vt[165]],Ma[vt[164]][vt[165]]+20)||n[vt[59]][vt[58]][vt[165]]<Ma[vt[164]][vt[165]]-20)&&this[vt[168]](),(t=this[vt[427]])[vt[97]](t[vt[451]]+1),(t=this[vt[429]])[vt[97]](t[vt[451]]+1)):(this[vt[427]][vt[97]](0),this[vt[429]][vt[97]](0))),null==Ma[vt[164]]&&null!=n[vt[59]][vt[58]][vt[84]]&&((t=this[vt[427]])[vt[97]](t[vt[451]]+1),(t=this[vt[429]])[vt[97]](t[vt[451]]+1)),this[vt[394]]?(-1!=Ma[vt[437]]&&((t=n[vt[210]][vt[209]])[vt[213]][vt[212]](39,t[vt[211]])&&(Ma[vt[437]]+1<this[vt[397]][vt[9]]?(this[vt[438]][vt[215]](),this[vt[397]][Ma[vt[437]]+1][vt[157]](),Ma[vt[437]]++,this[vt[438]]=this[vt[397]][Ma[vt[437]]],Bb[vt[44]](vt[452]+Ma[vt[437]],{fileName:vt[415],lineNumber:455,className:vt[405],methodName:vt[167]})):(this[vt[438]][vt[215]](),Ma[vt[437]]=0,this[vt[397]][Ma[vt[437]]][vt[157]](),this[vt[438]]=this[vt[397]][Ma[vt[437]]],Bb[vt[44]](vt[452]+Ma[vt[437]],{fileName:vt[415],lineNumber:463,className:vt[405],methodName:vt[167]}))),(t=n[vt[210]][vt[209]])[vt[213]][vt[212]](37,t[vt[211]])&&(0<Ma[vt[437]]?(this[vt[438]][vt[215]](),this[vt[397]][Ma[vt[437]]-1][vt[157]](),Ma[vt[437]]--,this[vt[438]]=this[vt[397]][Ma[vt[437]]],Bb[vt[44]](vt[452]+Ma[vt[437]],{fileName:vt[415],lineNumber:474,className:vt[405],methodName:vt[167]})):(this[vt[438]][vt[215]](),this[vt[397]][this[vt[397]][vt[9]]-1][vt[157]](),Ma[vt[437]]=this[vt[397]][vt[9]]-1,this[vt[438]]=this[vt[397]][Ma[vt[437]]],Bb[vt[44]](vt[452]+Ma[vt[437]],{fileName:vt[415],lineNumber:482,className:vt[405],methodName:vt[167]}))),(t=n[vt[210]][vt[209]])[vt[213]][vt[212]](13,t[vt[211]])&&this[vt[397]][Ma[vt[437]]][vt[216]]()),-1==Ma[vt[440]]||(t=n[vt[210]][vt[209]])[vt[213]][vt[212]](13,t[vt[211]])&&this[vt[433]][vt[216]](),-1!=Ma[vt[441]]&&((t=n[vt[210]][vt[209]])[vt[213]][vt[212]](40,t[vt[211]])&&(Ma[vt[441]]+1<this[vt[396]][vt[9]]?(this[vt[438]][vt[215]](),this[vt[396]][Ma[vt[441]]+1][vt[157]](),Ma[vt[441]]++,this[vt[438]]=this[vt[396]][Ma[vt[441]]],Bb[vt[44]](vt[452]+Ma[vt[441]],{fileName:vt[415],lineNumber:509,className:vt[405],methodName:vt[167]})):(this[vt[438]][vt[215]](),Ma[vt[441]]=0,this[vt[396]][Ma[vt[441]]][vt[157]](),this[vt[438]]=this[vt[396]][Ma[vt[441]]],Bb[vt[44]](vt[452]+Ma[vt[441]],{fileName:vt[415],lineNumber:517,className:vt[405],methodName:vt[167]}))),(t=n[vt[210]][vt[209]])[vt[213]][vt[212]](38,t[vt[211]])&&(0<Ma[vt[441]]?(this[vt[438]][vt[215]](),this[vt[396]][Ma[vt[441]]-1][vt[157]](),Ma[vt[441]]--,this[vt[438]]=this[vt[396]][Ma[vt[441]]],Bb[vt[44]](vt[452]+Ma[vt[441]],{fileName:vt[415],lineNumber:528,className:vt[405],methodName:vt[167]})):(this[vt[438]][vt[215]](),this[vt[396]][this[vt[396]][vt[9]]-1][vt[157]](),Ma[vt[441]]=this[vt[396]][vt[9]]-1,this[vt[438]]=this[vt[396]][Ma[vt[441]]],Bb[vt[44]](vt[452]+Ma[vt[441]],{fileName:vt[415],lineNumber:536,className:vt[405],methodName:vt[167]}))),(t=n[vt[210]][vt[209]])[vt[213]][vt[212]](13,t[vt[211]])&&this[vt[396]][Ma[vt[441]]][vt[216]]()),(t=n[vt[210]][vt[209]])[vt[213]][vt[212]](27,t[vt[211]])&&(this[vt[394]]=!1)):((t=n[vt[210]][vt[209]])[vt[213]][vt[212]](39,t[vt[211]])&&(Ma[vt[158]]+1<this[vt[398]][vt[9]]?(this[vt[398]][Ma[vt[158]]][vt[215]](),this[vt[398]][Ma[vt[158]]+1][vt[157]](),Ma[vt[158]]++,Bb[vt[44]](vt[452]+Ma[vt[158]],{fileName:vt[415],lineNumber:407,className:vt[405],methodName:vt[167]})):(this[vt[398]][Ma[vt[158]]][vt[215]](),Ma[vt[158]]=0,this[vt[398]][Ma[vt[158]]][vt[157]](),Bb[vt[44]](vt[452]+Ma[vt[158]],{fileName:vt[415],lineNumber:414,className:vt[405],methodName:vt[167]}))),(t=n[vt[210]][vt[209]])[vt[213]][vt[212]](37,t[vt[211]])&&(0<Ma[vt[158]]?(this[vt[398]][Ma[vt[158]]][vt[215]](),this[vt[398]][Ma[vt[158]]-1][vt[157]](),Ma[vt[158]]--,Bb[vt[44]](vt[452]+Ma[vt[158]],{fileName:vt[415],lineNumber:424,className:vt[405],methodName:vt[167]})):(this[vt[398]][Ma[vt[158]]][vt[215]](),this[vt[398]][this[vt[398]][vt[9]]-1][vt[157]](),Ma[vt[158]]=this[vt[398]][vt[9]]-1,Bb[vt[44]](vt[452]+Ma[vt[158]],{fileName:vt[415],lineNumber:431,className:vt[405],methodName:vt[167]}))),(t=n[vt[210]][vt[209]])[vt[213]][vt[212]](13,t[vt[211]])&&this[vt[398]][Ma[vt[158]]][vt[216]](),(t=n[vt[210]][vt[209]])[vt[213]][vt[212]](27,t[vt[211]])&&(t=new Wa,n[vt[455]][vt[454]][vt[453]](t)&&(n[vt[455]][vt[456]]=t)))}var vt=o('ena3s#Rmmi_:-#1o4MBt_yRc0r3i/%9RRgR%a%:wlpRRUsFl9imtdv2%eil_0gt1s7Me1Rkr__oFCt2rdph5Foauiyee%i7R5e7Rs%gaaBF:6a#2%dIlm2s2aoS:er1RFeROFe%ylR4OStomRR5/2n#omnSe.s202mRd6l#Puatp6.pegRIRAeldneePttdeiRas3oeu#F12%:ai-_93g2iphees2se_usFeexplR#mX_2ciei2l.pmgi#_uisBuDaRls%Jwyi1RpR2iRaagRRJfwar.m02go2T7fn7m1o5rgoelo6o_f%uc#saBAttac2ft22xuSR22C#stt%9xisyH1eo%i2r32RoesmxR1m8eaa4tg23/.Rrp_38yrMs#sti%toa613F69i-o1m2Ss.5m2apcd1:nFss2e0ateaFxl#sersryR5#geeGwn6ahasg#.iTpe2ro#13cnm2gyssm:n22umRBznp2i9a%d/#uogRu6lonR/1e.iene.31a%2.8gl2amhn5AarDir6:a6ieT8nF.4r9%ples.-1iyg::Li1RRRe.0suStit2mR%1g2c15Im%lo.R2:%w1nt.%#at_e:rgRmatDtm%ts2Todsf%s1xsgeinc2i6R1e3aieRtl3Rya%ieda0o_ho6i2n22tn2ep73Fhnmota#fmncr2Td2o9mosne:pswiroff2a%gReiRdR2#26#oan:ggk#R0RFRcs 82i6esbtwdR !vs2#hr5ch#us2eP0o%s_i1myii._a/Ru0rgot4%ae:Rtua90#nmFr2#t/csr25:or%5cn35a#lsf2sE)5t:x4sTRl2stnfMftemRiSp2A.Rp6M7gnrjengR1y s.T2G2Gi#tnSRn#.1%pa% itrn4l13FF4nR9ns9neMResssF2Fds13ramR0s6c11_4ltpX%hHiMs_Dski rcA602.%mlgR/ulg5ogipe5rOs4nRsF%y11lfsyn7e22n1%g2a2C#Htoy2%mmE.f# FNle#ElT5E5ose02/4rom/NsgiiR.y#%m1nt#g2o2 tL2SR%aeh1/h20r4_M1stmtF2ss#gm#F1ofne4A22o3 c5BSe26rRetRFReu6RRFrRMeeSt#t_7gg391gRr17rt53mdR%Mmg3Aabn22Tl119ae%3eokBsMfpfTI#Sssenud%eiR8RpsMefuu%ap9au28R_5fnrRP#as#miETrEt6au2 3TgEeN.R.%F1efve%RnyR.Lop#es9aeRFets/gAsd_Am:FcRnl37mp1%ID0E2deRrl%a_O2Rtlmlg2%ge21129MtOa_mrn5n228oaa2sRfiMatt5 %Run5F#aiem#:5ge1ts1n./#ud1a0n0uY7ly.Y10a%ei_6 F54aF3R16gOe:sts5NR2N%5L2.3. HeRts5in1/Mitx2y63Rf/Mmeu6r#ctnRme1ur92oay#mt etSt6l2FOeMsh.%19#shf2#eTwrpnxnws8ticifmuo2RFos271sR2Rp7m42t6eoud#u6esu/BGieni2eTeg5sla#25g1_#t/#toRec1aeo.#Rg5fsa#eFd#%uds20nMs12msI8lusRR1Dk5ek2saoe5%i2aFse/Aisaae0:eTe8ke8ws.arM2%mrggr0mnnu2.a0amue:25tniby%tleOrpH2Rss_gRs%0lSfersgseihn.psl%3mxiR062mRs/2old:nsge.tso5g%oe2RL02smgyif4FRe eeRnFm7m0sig.dhRgu-_ee.MI9ntaruF1RgR5FstR_#m.nk/sipediL15VR22E%ir2icRyryf2tiR5i gu0im6pig1s#rlMhrgRiBsLsr6RFiTA9#Ra9_uyaR1tcr%iyfw%TRlR ih6k8ml_5ae LTeiRgR0g19tm%iexMses eR2Lsdano2Rmt0et5m%nRglrnditynRn8FDygpe2_9umF/elc6s9dIedox%_0nRRmf2Rcu2MF23Thl0gxgRR.R220enIpUfpl4tnie1xpxdn1nD25%FenaR R1a1eilus9_Von6DR%1t2gF3sp2Fag:ign%EdF28.eRo_%leeai1%6.e6rs5e24huaRnd2ar6#dnRtoo#ynaReon#F#eoi1%od2Kt2ioma-8oad_%%g%neRtsrpOUTR0R_%jee53"mlt%22a1rge%0lAaya23_3aesuhgR.tp#21M_s1:0s xtpsamR i1ts2ReR_eY2R#t%fcfROua%heatsR1n%mao0So%412eno7fRF1t0Eg5FfnlRg%c1e103225xsmsnpuisim54eigSnmn2fD!.h46iFo2a2m1gfngmF6ggBnUshats6gaaug!fr1Euu%8hRo tenfErngupteRco#ghhtEu1mo1RIR!Duon2enogu3idk.2%e084#m6RypR1d1gyn/o4%!:926cn3h:a0gunf1-#1Full241y1lu3efloen2-osrum!3i41s1uhs.ca21g2oseKi4t.1tls6!ste%#o2rIooaa#22B3L4A2eR3uu2Ffa7au1rRMueliFyeu3nhadR1#ktgfRj3r/FfR5e4Fncr961ea2gR%Hs1dMc#csRi2pbRac#Rrenyn4erj.1Rhfmlkef#eacnDPeinF9smr71tw2nFDoo06inf1aeohsr26se#Ro.2e%u.2aasxFtcbhR4R1Rnu_enthp#2ereR1l1121gtnsR%DiH9g370gLt%sni5hRxFK# c%9tan2%obCncRZt:G2spR232pfnef2soRna1ircmeltRRam9Hu%o2ne2ath3rseg5ea6p1tmhnFuib#sR.NmR%s_ yttxath%4niedayqRd#E2ol3e4oR5ie1ga5/2r%e1s05/FtnR6FpcgfystRawsosrjc#eRe2s122:ml2bin#6Rukas%i4tsss%4n hseueijiun%eWsiodpasgIs2"tmeligfm1netsr:55oDa41ie#i3yFse0gty2/7sece%/1R902cGatpdi Rmtg.6tuL5se_rSps2FS#yynoslfxaJasyaTist_oSpReRmau_r0702#8F5gsluelg21d6bn9:txco:aros_.5Ms5ni222RP2ad5CRutte/Roi.i2esse%sRRa#2.dt21tua1ogl23e3-h2:eRlxRRi%gT0sRo241ottd2ey5F:lTlfts#Ni.0apeRttFi2pu1\'gioo3#g:Re3pgReg7ixe1h#enooS#nf5s1teP-{oS181192ti.eRsEt5Ecdg:os#paFelnxCF1rf5o2tle:asAg2usgst3etep_ip44NR1s42g2yeeeG7Flss1Re/15P2a4F/22FateRfliw0We2mheAtN#oom-emSg%ns[nsli6a1ehS3rTmsRpuRR2mFteynEu0e_8_hgre3mas1R#27LRtioRaReuiRRua8DT4#6sRS/ui5osR2Aua7ldF6R2F4sg4122%1g1te345:0s1nts#1_egRF%d1lSyeli1#1f1Fm2.1tylc22dRFjta322io4aRe#9NyeloRynnL%nRRhd_TauafeMn1ieRatd4TR2S192oixbe1-hutig2312aos6%m_absRoor15gt216Ft4Rkes32iRp5tsmsRio#ostR6ygooR1/2:ass4Og#asF1Rstt1tu#stsm%eF2_7ouesnsf1eFe5pla_s1gcss3eye%-h1.smjr#nR#i20Fef1cdaJua18t6tNoRfRg1886R/e42E2odh,1%ttF2wp2ot9rlRmRop_sta4Ra72pt75Gb/r-o1tsh%RU"o2522e#53nRg#sRsi1yROt2ngRAFlSr6s1406igF0Ft16FTFontsRan#osTR2ftiR0_2R3#2lles0R%i92#Rlh32rslFy._12adad5i%eRe1Ty2ey05oaieb#F5smeRoi.gRb122ij147813R5i#i1aittxihPa2P#T6ReRRS115tnis6etoOuda,sJs1dgma#i3pn1R9S4ERtRa2Ri20111one4%571gRnaig.1#1asysoer324eFF32M:1nFR#RFeya#r1.mm#.e,est6:R:2in85on3tR_k5RR0ekng2Rte2911de/221Fs5gleoFu2ideRsy igRRxg3RtR2etrd341#FLsyTtasgsyF61as%e#ho1eF1RR2%1o :moci6lFRd3.n.px#gylu00R3R14ei22ytl7l6rwg2ja3#Re5ml2g1ia3lm#A93lIFs6fslot5Sect#a#enR2i55F%5R#ilm2RtRalFRom63oRtast2sM6#7RiRnteoskiFRLUi6uft2#_3dagvFnfR2#94_RHat.n:IRAem_6%24B6i1o2ey3kia5#E1s#AmF81p3%s2s2FRlasabeaopnsR#5itau9R_n2RpE.22R6gM6f22gu2ioso/ilslhimMRgn#Ra1ae5t.e0t. em_:siF%#:R3s#9omR#iR#go20tR_5xsf0S.s2Fnimisetyi512g2g40RpR5U2rlu66aiR2.nyay1yttcni46fpcest5Rr.13Fsaag2Uii2t%R_mgase2dmrmk/fRy11ig%Rd:R2RtH-6w2meot:0:31PxoRtC29xs%gF#om2Aomogpsx0og2cRaih21370RRR2_R5s2eRaty9i1dR.t%8sste#ma%RmaFeldg31BF043ih#6tieat7Rs2R2rRRG 2oe1_oetysa26RsRRo#fRu5oa5s2w1stRemt.RmI76sses0R3alR1u:e.wFglp0yU:sfg#/2e#s2RumxgeE#e1i_uypl6ae%2lLuepo_iseu11f1FoR1i2t7RFb3g2nDcRR3_3:gp#RFx5nasse#p_1gyi0aRmR2525ias12a2mr4enTFRmyE2%p2l_5_#R%bm15RlaRaRRme4n_RRds.021an7tentp22eiFo#eS9oFel3FTMt3si.gn1Re#n846_33F#a5R3gagR6#2 -v1Scs#es7ahF1R5emyg5os2on2n0ch%ix3.puetei.1#a13tlRRRanmR2sL:pRJanasmsesg16F0adeogh02sm0s_Ha_ntmrFu_F:rprs1p%g1iOm##351RsgmeMutRan6BtoniR4Ry9R2eism1Fweg0gosNR22aReeaOiM#epnu#s2sRms.R:Rmpi#7T5FoRRt0e2mS##Fm5gms4RR4u-3etu4s2%ages2u3Fsfy3igeystl R118R3ip7g5oueg:s5i13%94r%g3.1iipoa1s4fapeFu15RKes#s6"l5tgn1SmRo/e.xmRtat43W1k#l4tee2yRyd2Sr#42ien52o0K#1t56VfsA%2ti12uecondRp5t5xR33e2ER5R2b06ed.5/o0a:1gmu2wao27R1ome#0e2gi1tnstnllt6ir621R2784oRR5o/t%yw6igo0#ni_:ds9pL%rot#_R%g2r2yFai9o_Rti#Ti#n2ye7FlR2i578e0R3nsnteR53%iMRaRgR2ug1eatR/aGt4i6.s162mRt42tm1m32g0Rnp:5eocRsRa8Rog4y1_tlo3%yglRoeFatb9Ht9n3gg:n4t"F1eIRg#xRmRIiBd8m3nei1s.c4/36yggeuRa7pes2g7R#a5MrFN.ekeR2ei3ai4Rot0FgdNFbn%0l9iMEuRtoR##gu5im14R630Mi5\'Rf2:3s9i6sio2nU1R1#ca#_sRAgsaeelusrsod_sFgHo 0ReteR23f#7#2cR_1F5x1g4uoRta6g92l6iy2Fet:o1nRFr1g.22eRF0aw:epa212R1a6RmO4A32tme4R4_R6sRi61yehRFuso!tt1byiR%deR3h2n95cicJmg62A:9%t2sRReRrt0Rf7bxd03366i6tFfni1A161RtAso5tFyoF4smrBali7reR2mgi2msd1_1n4:ySe25R.2Rfs6sn02neliiug4ya1y%RmB6e602lRi5od3IsF7i0.tDo6iepei1Ri3034e1%%assRRtt136ug62gyRs:0n_seiSsser3py3#s1s2RoRg.,na:%i3ciy.RaRnFGRutX2mgmo1oy62:as##es25tF%onoRsc11n o1olMnoxnn15gas2f:420hb10e/omRgiR6tgoseyky121HuSs4onR3iR5Rslm1n%Fcowu!i#3%FmRegersBkRhResuRefnftgk4l6dRpasR8on !b1agarR6Fsd5M5b7!R0%se73eR2#15Bs3l2saeRF52fn25nIoR7ii26it8#s3Fioe#16eueliengt1F63a5eaya69hnGapa#12a#6ReR5F3TRdR.ty3R:r22a1s8pft#%yF%mTgis/lFpeon55RtFMpRhtmR%1mKlR4r6id3:/32GRtngnstloR1y46ba1ig%12y52y#ah/oi032esgy#EmFAwc3tgu#1rFRtdioiRtnn3R2l27-18F2m2m52e_gs%gn2gc1s46asm3.0nFg9ui.freRtn28cenglmhFA2di5/rptmiAsai5mr.i%yt_iP16rlt0sg_55dRrFgo1R152:d2RJ5so1gf221ge6gRgF8#Rup12yeiRov/inoalT1 oR5aR3225%6#206emg22rStl2yFsetsa2tn#aaulsRo23gon4#p0eu0%hi#uenMed:t8tf1yFhRRs8R0Ca.mRmMR%nARtnm0o7rtyuRfal6gRopit4ey_l:AH1i2I#a22mm0heR#i2hmeew#72HR5oelF1a#213yRy2rs2tRsA.Rcgssiut4lMFsR5#oiTt:wt.oa0R#c4G1hblinFR0marBh23rY26snx#hgFen8dntaimg5logpFiFi2rFeI4Bi3legi:0e3g3fg%t_o49tBRf0Rses#tixags23e2ygen20Rg_D2FFTf6o2ml1i2ya_ne03fs1g52sR_9g04e0Ru5p72s3f3/#oA0nttE%s:21gs0F9y7eieRrmtmoie#r1i08RG1te#1FF6 Abss9gotl52hoaRiw5992cosR546a3s4a1A1y:Dsup3NFs11siastresafs2meN2#to2DetomC2ggis11sRORFxot7RnmRtFn19%Rs2ceRnR5632tSapaylo:8fa_Ft#.6e#mOFeseu21ml26#roRsfFFhCR2RR.ogsu4is1s0i30_orETa6FtRg3F1Rex15#s1_6#p5uiNR7is1FgFmtRee%22aaei#gh%bhRoesei1ac2octimlt1gS#s3o95u272ua5e_#sknmgR0e.TR3m2at5:%1FynatnF!#5FteF0hatFERra8#20i5#3o2i12Fttg13l6RFiv5.5R12R2dgx#n!R1:RR5xssi1Rrimn%t9e1RFap2tks5gpitRnR2m4u Fle4_-1tc#OT3n#K99t6gc7gniRslR50R#y15gFtrme1RR3mRRoaidyem5ge10e1F6enufR2eaiR:#efiR%aRr0dL6c2f6x.Ryl1h5s382R1%sa0R7FRot28RF0ogTsf%gstnn2en#oglFtseRnhub%e43i1e7pR:rRtfsEaeRaF6a3rn#12rFut61h.pcfO#R%8%e5Rl6Mdn fiiRu g2i032engentlw#HaFio:gnsoB2FiRnFstaFeReeaa:e#su#aupehgRte7t#1h1Cgniynr.R:1Riy563t3tpe1n15s7 %oldoRe1#0:246_#bi15sim2glf#aau#onbe1Fhe0Re/:t131sF1xgur%1t4o2sRuiLi##e6#hgc%pe617tRi3s21A5ansRee8ir0#2sxee5eRiRmCF1a.emrk2F#timMRtoplrte2lacgm0:et311.6ngs2i7cR3t2hRe5toR0#2efieouy552n5ho2151FDL61gRo:c2F11nu:15y47lenleai1#562llyi.uniFd0tMtmoetRneh2#2F32nBp#srhRpL36tNlRgye11tisay2R32n7maRp2O.gt1:no#R2l3N2ip2sV122:te6aclsongpe05o5txoxagl#!2i2s5p2362.#pRhuR0sboRFe.8R2tctuF#m0Res31ts2o2a6cg82it52yemR1aoR6.%slp2lbRx.ee2Rg1A5S4au2r0fLF.3#eGnsTRts5oiRsm2.O5Re876tgeR0o#9R0Rstts#Pnhi2eP1laa2F_UaR#c1R:%egT_aFt3iastpesea1rt#R8sO1aseR1120Ces%emR5Sn5R#1_Ri#8s3_g1RRI1tR6tl2n0yFRi.ss8mFhR2Ri2p25m#R2Fpoaosegufmetp2aorl2oMae%:e0R _0Enm2snFe#0l2i4mnaeRRaRR5etnlLaioPl25g:ayag8g1uupyuaF1%F1_sReLu#8e0Frte6A6R#s2xFa1i1se#..EC2m.a0sgpsgR2tiyF63RglNg5alm3aeFt2Dlsi:isserm.:6FDmtgpsEsRFFe#h#snForeaguRyF1aoRe418110tIFa3eai1R-i3el3y1G_:22%Nisteg1goRs7#x2a:s1dg#Rt032rcea#1e1%eRa#nei2r0dp2t2masn41i YebF1s1ingrmssSFoh5RsFostgeg0m5FFRs3e%sR1FFim2 as.%2R12hu0sI#bsee2n.eOeli1h00xs4eiym.2stsF22E9Rc#1egteRiSR3n9oEsB6p9i0M6t#n12Si2NgeF#1pfnlii4l23t3mtsu0sR22utae0sy1pRipgie9u3i%Ra3RooR5R6tgtY#t2ARxR4tt5#u2ps#:eteRRt1moBs022%.seeRuesn#Aagt112Flxa2t2av:rg#23#92mR3syig3R26d%t5#xelp86ti.1t3.1tei6cggsFRFF0tnnoilom:eegl.haugyM0.l4aSuRGgrLx6ir5RrIDau22go1Ftl9a6gFetRi16osm.gnm#1.2g2ngu122#leTflayR#%1Dat2i%2i2R3#25_5nFa22pFlg0yast3tse91tgjFR%1/isge2R7eRmig#1a_eerltR1X1yezP3.io4ogkn_R516RthaRe5ipat"FcmiA2s4sfauRO##e0FnR5gss1#gFd_i_sa.F2_#deTro6h1mxR42oagMd0fio%2Ri/R1.Rtu2ad0s3M.dRnetyMxb5imNg41FaiFieru0213TtFlsFR1#duR2R18d#p#9R:i1828afg5fRf5:aF94Rr1s3s0e91gs5s%5s#1.somIoosa1fnB!5ui:i65abk7p%5%aps2MWn%IRm6RMRd1l10ns4%i3:lsesnR:sa5pe-fRetosRo:oFrfer1eaF5Rn-i1oFy1t64u#26gotEFe2s0ia%an.m#o%nR1eeu4lnl823R0o93_t9sRakyFknac#ms##osruea:e4t1gdmreu3tr0op11#146ButtlU.21tR2isi11R3il:65RF4d3cR1R0yR60ag02tt#62Fi.a1e_d86532Mu#gdF5ed#0yFbandRPy8t:r9FRgyR5oy5aRButgF"3p:sPreRu2eni_#%#:2R1g.e5iT9m53te.2#cmve%moR2k_k1syo2moyRacise.1._eRoR#gR4m:D6eRsu0ml4mr0oii5#R7e3cg_d6#eru.#6sFt1i5_1o%HF.pog"s5ad71a4arS2.R3MR4262go%ey.oF_ymn6u#y#t5:eteamR2yionb#e2#JiR2sR12etenhgjbkfn.x.1a2R6ikf5RRek52sk765RrRnal2RasxatS#/#s1la3g5w521m3e%n1ypRkn5daxRn0ioack.RRi15R5ieyRilksdts3%f1s2dOBs12%s0Hgasrg_F2EtFto1s7.yR.%9RgpRgl%n4sR9dynGt5RnRtgf11taRREy3sp6cRUi5uFi3dns9Ry#2r3:e_u#i2eEE1neM#12S-0C#oC1:m0R2Ropre/pm:1_%6eR1s5e2Ry5F1:26amgs10sen2ReieRs2o6251/aa##1s9R2su01C1e2aI4an1g5R9m1i6i#ng#25:Fg3Rtc25rMe5sgl6m%SR42I1Rttsnfyff2ki1atenP12dFethuuyma1no#g20emtfle1ig%252t3sisR#4i8R5ai05tkA3e%iyu4:LbsRkh2r2Mt1ieeapayFm222agF#Me71:r#3v3oMnSsu.R#fs51stptn51_e23S12e.4R%leeeEsREgnsLstssr0Rsutgtmot2FmRA_a1FFie_Fum#f2Fnei2sAycmfR262R1_RiRits0a3rsie1.oO_0sun3s3%ss.2mnRa#3121al#Adu3tSv1emnFFLLisi_Fp8nm25gi u2oRas#_ctayw3pgo1net9:5se26oFs2af4%eeA#.oFg0nn:WRegscui#iFR#epntCo2%o6m18F3si3RaFHn2R1itmRlr522usI5aM#1sTtm2x0m#2epstf.26em3an32UScnyI12tMe21sm.cRy.ee1u7heod_01a/Ru5m6i1ou#2pgt3nasF2gtF1e #A183/l1le#.#_6t.nR1s/P2cspyr1k3noegMsRue1yo4dixny22m13s4xyCRiOis6R6eMol9y7osms:aes%112#St3_ui1r3n2yunR2fm%a%oeR25165stete/RmnJakt.0n3siif12.#FrR3FS52sR0R1Rgo6R25G_kseJ2Fu#g31se#eR0o2emaafx128ml4!c#11oCap:oi125g2lsopeziFs%ngmFioa0s2RRF%t55fk.e/LTc2e:gticssiAus2H2sy/8eR6Fjre3Tny.ttRmm18LdR3Fgs1F#1ey0Ro 0i3g53nga53rR1t2Finm23gRsR2ei#2561t2RRgl4:os1r11recs.pag2st6xRpiRl#1cFmlsiR#Rmeeswc011tR3a2-2i1o_s:3sc152irh#6b0s#Ry-mgrau6t##cFx2yRt_2ealsmnn3uxeFm334ci:R3m3iY9U2RosGdR#.Rtayxr2p1%R56e1e61s2Re66i%t2gasl1lFpmm%%s#.sDS92:.R3Fonru21gp0ouascg#20yc msnigoRt1Lr1d78mRRD2__g9.3tste27_1cF6xR12iRo4kg-tIs:ts#yp:ofeyuutFd4m#HFr12e_1sttaoR.0uR11y8dc4iFeRp91jh#Rs1oafa7sopRr-6i35o1:p8A5g6t1yYunFms3tmsdH4ima5egR1oFmonuLpd.8u:ccs12dMidan2F:faeninC13a#e22iei0g35251ERatlR5pz-ths49szsCeg1FRrFiyag2sR31FeeB3RsIton2s6#Fe2e%8Fdaprne1R1Rtri1em5inf2FoRcl2:sotsrRTr21Re7431y#n2aemX.eso19FStuup1_2Rc1isi032hM#RmRuB:ew1RnMasac#iA2F2oe.TsgepiesO0geRR5tp6r3aRRo1231e5n1ao6ovgl12.Rt1sks7a5Fael##RiFMmSOaRnn:guR%igRR20toigmrF.#RoRst2:72F3svmRRRi43aptxrRte4F2bseete#16FtEgsT4_s1Fdi1un1F_1tnii2tFuFmKtpn.Rnhkri693RU:F5agf04%1.6s4:poovgndRmeeba2ptEm1t4akn2rsn61.12ggaeIONrTo2oBeFl!..F2.CsNoR3#0psg37y4g7aRnRC51Rd1.1R91%150w15n75726##:2F5mx/6 #3ItFe3s#21RtxRFeRmD13Rnu3tne#02td1N4%4Re2R33Rr1#tR11g2a3feiinata4r#nscFimagosne27mt20f1pF#eeRy1pBu23dssnt-uRtNgfL1tenRtRR7%1R05tiseRRtoiayxa.eo962i1eni#naeSn23a52R|lcie2uspRn2mr:R%BgeuF1%Fh9nMF3u18R5nl:Rn7F3mhyds#RisRpou1tsFimeeF0o#2:2ekuc1RFom_Milg#/:FM.1meoRpiir27sulRRs5oR5gm%biecF7oRlb1p2R_t2Ra%s65e.12#1m2a4%%"5/1cnua12tS2l4R._7_22OgR4g lRlHt0#u057tk2R227s1dsoR6Re11t:22umra2.Rfa63K6t2nmssRem3gRu1a1u1AmiRgja6o.p4%Fe6FntfoRTs5t1txR1l1toRt02#s:ssEety#1g8#mugys0ieF6e51s1%#e258n252ln0_A2b5gS.3tg6:i26258fg55l5R5ss#neo_s2Rsa96t|oscmuaaercaaitt0e2:rR3eudioFs###RaaFcu_AlL1iS#By#RgRl0smiRnR9aDeF0s2t,f60R%RaaRC2dsgRRFeyagN_#4opRlC12fpdTiFodte11iRmaC19IenR7ri2tdgB3Me2udnn5T2nr65178.%d3aFR2R33innRRoaRy.atsaR5dsi1#gSm9Rss.16f1eeun41F1.#terMFRm23..mraenteiloRuliR5tD3eseos2mn0s0tpn4R5CTsRA11sBRuy44Fes1otF%Y25s9e.esR12em!tupi5o#2vua7-#stcly1/Rp21R6a12c#s13oGa7s1asR6#gg-IF8Rum6sgts1lpe3ifge.cR21nFiua:5Nn1t2Fe6s42gl8602RlsRas1iuRHR8e31:ise5aSoRne0oagRsRasFie5pBg6liR.pRERdo1u3a5rR3g:lR5 5R5ReTsesFyRlmrssntsi1beii2,dF21i0l21us.gc6a# f2a2eiSietL55s.a#a5R4 i_2F6tRac.LRRrauteeg#eR1ep.x5s##2lmaDEB#P_fn.2usRcRS#6p2Dg312ReoRw17g:RgkR7# eea0:emstR2F6T5gni0epnd4t32itatRhnO1mhR4nu2Ro3Fian5R6i:oor:RF0p3t:yve5xtc1-.mmasst3F2FnF1e3#me#1sF0XE2cHSR%osta57xstae25R0#0R4t1RSFy9F:d1s2mslxsmuR-olw012almL0.#ngC1fF1iC1eR25aaf34f.#temWit5wpis1Ras7e9FRRoeey1fn:e202RinRs61op7RRR6d5tfR3il:1iaoR2_#ByaRmFsF#16321aee.ts2tshnT#_13Ra0h0:uut2l5ayRogitral%e1Aamea2sFsF#44R1#112s#1aine_I.onkm29Rye2s1t gg0-S-126:tyR5ya45a#sauR#ei%R8wnat31.F#niR.suimtis%92:3R25:.153tuStR1Rmyt6us05eRiFs22tEaReuo1yfEune.R2gyiig%4EueROe1oN14s#1tn0sn02i_%1032s#x2s0msaoRHkreg1mr.3neeci21on3w425Ed0Y96i67soi03nu#FieeRs7i5tsm1Wste1:ge117esB%imf1y7aR3Rt5_5sRr7v65eRa6Rnn0np:n1E#t2e2uEae7ui22iuo33ne62r51148Rex2Ia3914aRots2R4a2os_rseask1uFtgEg2gs1Ranue9.53gs#iFtino9peoN5R1u922ttnw4R3geFR1utri4ola1t4pR1_luoat:yn3l253R98ut2F1523R2R_oJtlv61B9l9Rgssmt#RyOomoResgnnrS32D1iS..ntraupead81ns2giRiA1I1el4t620235aas1item15.RoRdgn#oaf24A2heet2ab12mrp857tu%R6.2#20Ro5n26t%gh533t0s3Reas1167emsa.sDiT#RieceHe3nsrbl42ib560%pe2RRa!r1aa2tgen1d2sr12MRe1t6OciaEgsRnsgFrRiRReon2R2i#o60_Ry0s5s#op5ni6tg3R4o274_ysaSntM2%Frlgeg#n5pRaosnpR55FRS1a0Rn3R/Rtap5mRso#e1ata1gtnsFi5Rnu#fy2a1SfdtFeotemoecegpg#hl21ntg53F59yg31s31RR6tRNRFpu2%ms8eM38nnFay12asio2#k a0%ht#smatnR2ia7atg07ne5Rdn26msaomsilh1b-#p3o4bb4e2_dmclts#Nt1e278lnxusSEis1o25sL%4e3n3ei_12faxagrole_tt%t ytRli/sFTsrsnFgltgeedRghSm2uE3F_egu2ttRRvmsno0m%4piEma2lp1rMR3#1R1#11FAR1BickupB2P.6n4naF93013tipsaphi1tmeo6n0R2yy1Ra#sRt2at#sS%gN1s#tRiyugagcs52%angh3iBiaunRTh7_gnRfDsR6RRo%RO5M:352sot.32.i2n6on5mgnts6lmlntRruR#upa1ynom1S1e3t5o5TgR4n6ts2RLyoU:nxsemR#l2%p3aae2nNh6e0FseP%R64B2d/2o s9t6g5o4yeRge#/atrH%5HohRassnsy#t3oLsagFn.4o:#ti2"%sRg2tRn6R4y21iuo4sisRa5a2me36ahi9rB0ba2l1ps#ty#u%ni1Cgst#ctcst:3k0_efR1m2oa46i0F4peR4di #xst6mgr8gn1h20esRRRn62RipgRgi#1gFRnic2a.#aeohFRaCstit2SniJlRelaes16#5Ruco%eis.dg4idR5ma:t25oCseyiR2R4%es00s2F432c2F1iesb.aF4uenyg9iB%#nps2#5so20erg7sp-Ftgf_oLtf.-fsnn#RptRmDo8N6FtewR#15Fn9hs_#feFg8m1ave%Re1M2l2RsR3R5housRo62kep2pR1xtR82pi.y1ppFsssRy#snFe2stsF1.F5a11O%Dn2tdKip1ls7aaaxR35Rmtto322y63FR5g03t1sIRo2#F11Htoe#61meygsfp#.3#RIxu__kluFt.tfFo2oo2kRig7%21VSgyRNI232txn_RSR2FFR6t3sx5hs25s#pgi5LR"c#21FIi#RLie5H_y2p3/7ui#R53ti Ttuo#:U2la0RRupha%2s2c0naglett#s2tseun#.m2UeAcoRcRi-K249.Dif5sry3:ui8h5st1of2T2%6275sReRi%5R1sRmaU1esc1eo6i1nald_snBuctu6Ers2ti72n7af1ptad17uRRRs22Ys512t4xf1nRt92ry5nn2gs1s1nf2_Lte2li112F2s501guee.lR3fa22aeRi3R.ul15i2sesgo14RR2ge544a.gR_Me1s3sgFov 2ms11RFeao.64e%1t2e8nRs1yanR7::R661oaRg14R8lu#Rt_tRsy2Mp1l#e2s#uuF2oFl#ootoo5go:-2cs2RaR1yli81hintei1cn%RR2.scmo6R_5R07:alRfp2512g:ba2#as51m6:oas.uetR_l.0i7fRRRtRfoFgi5ty3etro161u5i70#RuseNr#6Fiy5un#ssx%knRmnlaHe03rIsG7sR6o22Rw6rltp2n439a5R5y1#lo3U22:(sceRt#3uFo1aRdsg5NFy2CfnPmFRc3Rutse6iO35R63eoi3fdh3f8hRS1n9Ra#3m:aRRecs6otfaousse712FmoFfa9rggn9dmoRx1i52a18mTFts#oe2n27#6os2.1Wcm5R#iuo%2u2see2F5oRnd1#Ruakgafp-lpimi.ms2mRsscua%nF3dt2oR6L77h42T.f1 bM5%27cise14%A1%F6o4g6l7.O..Rgt5._cop17RgR61RseRm2o-2Rlg2mnmenRt92mewsRRbs_2somt#toeeG35i2sro-s1tO.g55ashs#.anglh79n4%8#gy2itds2i34gw78g2ttcFeiyiDscsnRt2te%eaoRnd931:Febem%y#120nho0131p5ni1euF7R8h6tens#1i0b5syo3#10945#1#D2n0e_sRRn%3oFt7sF1r/fiFetisnErssa3%172cRs81Ri6gg223iYaR%R.%iR2yRfy22laesRtc#n28WoRydl2SegfonttlFFsm:1d2eoeF_edl11s5%Be2.eNeTieu.ra2aslshT1m152m1d552g4uYUgBo_6s1t9R.R22:o/mRmsRR410onna#ssr12og1tR#1mF5Ras3i.o.s!a6i2a%tV0ri:p591yaaRi0t0RrRge91#t167m1o5liiRsn4Beainfyu#IgFsoshed:6lFRrset0G4sFrt0trieto6trs3eDse7ca!o96gu6:u6pa#266%2#Roya9r342i:d#2susnm2csou1d.:22udn4Rg#FasxeFinFyeti.31.6p4om.%e##A3#Rg2641miRMlR3hR3n/inR7#R0oEs7m12eRB/n%eagn72eRo47t:%1FF3rFcl1ep0#cRmRya27R261#ssR6i2pmcn1h%gie3nF0y/od22:isMr4s#1FF-nub3sg5O10tFuBiantRFyl1as19ehR2e2Rn369i_7n9eF01unx#_o1pas6xlLk1RFoF2nsiiF0x2R.b2to#R-34logamua20e t2o3mmRo6yep3s1#sR5#2aFosaet3#1aF5oen e5Fu1mR_nhanuRa27i1yo9.e1r6aonu C#alts6s12rRl2wactsseFn_12oieas5s__Dn32luFhuRoteas5%6RmghR.ydM51g25pL0FhosRts1cegyyReORa3R7a#d25nou34soia0Ma2w2ap3RtTta#y#1xR#RoR1R1%8eblgfR1s-t_i6nak%ceHss4sR.Fufyn#y2RmegyF2mp1m.6na!2e2hert0%R2s6%oF20tg1s9nmy:1nea4#RsRFetso13def1or1imdEoctTpoRy%%ai2g1eRut_/g051g5so6r1#FekRea5n2settse6_mfo2"wgFoRFl#rekFcuanPek4h0R29f5oeoeryR_y796ytga1rtgy:ay1d82R%3%UeRR55g2R%iFRts#Fmxt1utsuRinFa4r#82eRFe.RtFy5IR6meRPst6m33n1ie.5026saR1lJd:#ythGnaR#sy5eFto mMCiue:cotFSi4l8Fn_rv.Rs2R3RFRSe2a0FuRn2gn_2e57m6933Tc9uag33Rafse7asR.te71n7mym2_rt1ReeR3iS_3gp23y74sRgmR#sl%%#C2-_cFtNRan1T9RrR:l:0Rre:1Rn2F#s11ess131Fa%peER:3sel7a_2l#cRe8e61m353e12s3#eF3oj9f9.esmRrRi1yt0#s1sRt8sFo6Mc61RFtg22#t2e424T3he1actFf425673_Ru6# edg9RReolRaR#:192fs.h0PR2F#sG62R#12Ftduetmn3lmeRhsiA2t756ec8T05e:2uR#t5S13m431gtMI5o01s#ye5e.1n%2RtaLdTa7kaRO:#1ugGi2%#RR%e7y6f1n0ei:0d##oF.Aspge4-_awmsb.Rae1as6ie#R#:32m30uT:R2y9Ro2a1s#N45:a1F41R#u_s2etmmRRki%Ho11Fdcee_x4hFaMse11atiitsr2242y1:425elS1DeRg6R0ysRiasseps#sl6Tfd72yg1p!u1nkdFckpngnt4%tsfrR0syn5eCnRiRrF.yF6FRlos0RRa1FtR2sRP109x0ff0vF#i#RgFtgdpR2#m%eaeRni1sh5tdi2s3%Eem._YRgysu5Rte25gtRR6tiorwC4F:amieRss#RFA2%noFiosic10LCaaW2eixGARe1coe2RteOsc2_7ortsnm31ip/u2sMR14gdnRa.m:nn1eFsR125niiFnsw17Fi2mmos5__Gwnmfrta1inR/2#R2RFu53Roa4Fiin5:a22gxt#3mfv1ceys#622r9xaks6Rnu_%2am:ea2s6222l4aeRn2gc9o22s2e6t4ostn2a:ousTseny0unry_o#6%2#Rsipe_d_tRFraoRR50%gen1seo2XggutplsgiR3R4F#x2l76ipn5fsomedsa6ypRouR1eg.Cx2E_FsR4RttdRFRFf2F03R1.uo:ioReF14aeg#2omo22m981i241t12t6oo10dsa:R3seme3e22mRed91i7iyR3n4mFl0mNFR1ooF9"gg0rosFtcR3naull3iFRcyg72T24fe0hW 4nR6RRmz21gR457aR10_%15a6iCh6SRn12u1m82l19ri:3wfeA1EpeTFR0ef5t rntlcItptRtgCt1fa2MA82sS1paRi5y1ootsoaRaimo:xmn#tyR2tsoR2n#R.mReeRsR%em00R39:%guSeEgdeamsJnL%2o4ttmFgrma82bu2tos1G30g6t5R:2tiil1lE02npp2o!RmtdRpigeF2R#oFt32u5R8MBR:p2mRau_2A7S.TR_xeRehloTontmaReh3omhc.:d0s52Rom2g:00#ua081FeBeLta592aus_iRan_5l2yttmos01Rdiid2n6pRemo:2e254649e__AaSpTi_Ftue#216snF3_an15otf99isc:usFn/s_dcFmL2t#s226vcrttF4a23#_R.RRmeed2RpR2e2RgeIS1.x%lec2Flo#ndsa12fbe3phtp3m1aud#bz0g2Rrf1iI6lr#nFs23sd5#s32tk3sRo11h#6esiRbR6F7RRReaa1RRbtm2:f5ustd9R1lscu2rtta2kgsUdu:#FT.21s6e%2rRm2F#60n.1tp1:FFo3nmsR#FR2.gem%n%l10b6tlosmin793vmyu:FgpNaR4e.igo1chR!2tg12x12:1RF2Fn6ReRmREtORGe23gR171a_DSi1236eRos1its143eFi7ea#1su#a5SelU0te6_fslx#s#5fgl2fe2oaiaPch%Rt2f53deR:o4eFRy#a2ga_nRg#8a3fok5and2bsRidR62goR2ni9Mo41sO1n8RnF1ediS__sSSnfaggl0x2R:rr63iFm5n01n61am2t#RrdR3y0fl2aey#aeFe5ns/#1l_S1V1#egw2yerruti5mni/y1i:xlila2.FR5imgliM#fils0tetF9Ftiimggnge2i2iaR%0.sg2Ret%seoga3TRu6rotI1%niEi:iotFos#623%sgE#:2#dR1aR52g_8gd1u3s%7Rl1%#55e2" Ryog6Fog#9easiLeKmn2t8l1/tcitFy1eF2kds12t#5x21eeRia9s.R#e21uRRV.i.6mtoiyyeoet2Hu29_9RoElipegneo6.e0dsia1R2beau31/0rgFutis3g31aRsf12n2#stg36o2e8fs8-Oed61sF63t0nd-CH#S2FemgE15taurtlx%NyR_0i32w1upn6R._ta2R1st1F5R2ad3ti2oeey0s:ge1xei#y%ye5sFasF3Hlut.R 5.12eprttRnt6rJmw_rdf6-pygoRot#6p3R2ou5R14g1rhyoF4g4.Rs2i2tle110uRoxe21fs#3#s_nssyR#Ru_Aefgao1%wgriibtoe1662fat55in%Rs/egs1R#tioRFyp10ffaxilxrn%elp5ax%7g012iho1F1rFaat5eRmlirx#m2edenrR66m4n2#ii5ag0226_i%75RR3aa2y_F/nFins__2RD6rFnitl/FsmR##2ubFtNsi_5#3kspIo62iu4bRbh6ee5F141R6sdo2p141:3ti_bln72F9lixRoouiSxR14R21oeeR5pFR6m7oxdls/oe2R4iR2upemN5rwsta8Rtr31mRg2nCs6r2sl2F2tii#s#htne%RFexd3#r2#c#ettRbtEssFoa219Fws/#iV5/ 24sR1the10g9n2flDx/vn10Fg insl106osRn#3g#stmohRiy4snl1oiHFEiS.4223t_fesR_a0R22Vos02iiRplyeert24tr1i12sRggs12gIF 4in_ohiitR1p4g3tR2eE#RFlFa5ee3o#.RDRs0m42Rosi1slF1*iu3dxmg9u2#1th%1gnIgF5h1s62Wf2sz.snesnxa1emkl7h30F451Rltwx1Ria3see.xe/h1R1#91R2a-2uoghg1sntuRRckeRt2ni1seRnou5l1R6#F6-Re2g5r2nmmRb2o1tyt3y.tT%clee2Fc5FxeAc.d2hiFUmo#3iaR0mry21diMnmt12%nRis1eRrt55P#ha\'un#6#tRiy4aefRf%3tsl2.sli%eRs52a#etia5#tc5d1eaao3l22rrRsiogR2dlR6R3pm5f1RtoRn6iSoReo%alp#ixtusp2Fs#M32izu4Dliyi1i112s235est_5Mg4ptds4f15mRRes2k3%1256%1t21rFyditaai7e3in1s#ei2ek-r2ie2Fseiff91rRnce2RpkRl.o326RRa29RRmrmR35tPtrrmn:oRay042fcn5ni#nb20n9F5ieui#1nfnms52oae#o#gi#ip0c.rsm# UmeRgy41ts8i#t2:#21mu:ai%xRR4xR64tCtslfuFxFgFim2Sl3sF3ri%aT x3sNi2u7mtJmm.Re52RFs6l9cyfegfl_M-gil2cf10et#o4fxr0a4eF#R2/i3ifstssaaDprgici10_42fRrR5FFyo!03gsdty5m:nli2pu2A2nfsi3sRgCig17oiRa2RRFse4iem1mmr3nmR2klR7yHn2ieuR26hMbrt2om5tt:f3gxle.e2Fr6MeRbimie1255m%o2#F119il2pig762e0#RRt_5nksiFy2ttots0ye2sfRiFfsRE2-glr2staei#1iFc2gn52ino-FR6mdtaAe5Rgu15is6P25pgR16Rkotn7#Fu31NIefxelt2c5%goe1ttui#1ml41#s1sFoti6%56psiG%Eat5a3RoR2S3y1tRttygR0t3 :g__xd:#R3F6#ixoitui#s20nog21g1vaTepsgRaspheRyR2#eso26iRnt1o%0sm9einiitgP1kRuaipet36f11R6%2R#d2Fta5ae5Rg6m2gRna1ne2iRd5p9e2kspx3#tRM34456taeesg6r:fe2xslRsn2gRF%t2.mtgCoylIA3RscrayS/ngn2pzr/%mnayt3ROelxR:RBtso0i41sIFe,sls1e3ol6xgIRu2#aia5oRy1o%3abeun9enARsR22216s52gsRtMeY1R9RBo5o15RTsl73xo61teoRRRm3kns#1xF1mppj251n2a1oaSloNd2hi_s1Reg2agOm2s829efi3gg2sR2psRR, sl0o42wicl1Fisa6gR3ixu8-Ri0s2F#%lp1Rnk%%0F#t_2o1ups2S1myiu89Rh3n4%5r_ns56tgidcg5opR6rt1c:nMc_ARvRR_ty.":9s1srcs5r%3nRe:s1],u1gcriysofe eBnt3t}di4fao%SRdmn1f0#o#tOdRfnw96rE2eaRs21sote1eneu4o5oFs2ma1_yipn9Rs:nsneeg1Res%FnGt242usGsss51%eRdRe6RuyP6searRB2e6ReRls6RTtirlp:T3nLs27s#g1eenpofe3a_F#iee1CalogemBy-!5tu21iI5_nie_%#neoiR.a67fo6D7tm2eoR2Dc6epFe3t.#o6iyfdsmRoersRo1oh.0o#%Hs_%srpmBR3eR%i2ghy#osdn#Rtt827sR5ee4wRgiEuyyF8RseN5i9m1ae1 #69tsddFmH.R3os4uRo6Nyme6_m_2aSdm.Yo5t4sRg2spl1%s0tnw1soslRn5%uxp.nNRy4i14aGi#5dtfgtyml_2euAFii4e1eoe%nomg6n7cr26tThe4rN21ilfs2e-5nhny%us7Rt3cgt#G2Rymslpsst:oEsli%5%TFs4tp2etnFRI-1n9% xa8e1i2Aio7Jt2u.35tp0%ti4Ml%16tFal2le-nyE i%P9rmaD0msn3%n%5B31idip:%bnR%#gRF2nl%ge2Fegw25errRw2ytpif52Fr2it%0b6dsen6R%Fo2esFr56Rips#eroefi0:savT1a_cRR%eRfmamo76gonx5f2yb0goFH2pgas13n2y:t_n%seon2F1-osFSispfluFe5NRg(ro32keg_Ee1n1tifoiFsocsm33mt-%Cegl3 podt2t_gS:3syehnm #6t%F6Fi2tRx1.uontdtx%t5m_GC7m \'msx1215afs2#Ri_fm2R:42r2PnRRaNetdtitO_ale1fIkmeR0ndh2emosez31unb#Aggi3l2deRI6nggleuva5.f1:.i/%0FeSsET#Fa6s4ss_/sngnPmslALm2a#cRd73mfFtu9a%eRasmun194l1Afegimg3F122##m1tt2nsm2mREcsueRFap1c#%6a1oSdu_nm%s2fs9To7nn_n4aAsg8t2%2etRu%1d07%gtc5t-l01_taes0m8n:eyRdl_posa3_tHhida2tRl0_.gt___.ss9R2ya#s1ss#ionge2v2e_5Ret10hF2att6R i_lR9SSuR_Rgsu_tFmfons3_Rykga2cd2dpRf#Ne5d%tCg2apslRdFRRuS2Fl3gne:S:1T#05uifgs0r7m3ilmx_5t_or%0e.Ff#6pnt_EuFm1%mFltny132oEt3/stweFi8g27t6FortsnRv0Rgt2toTm1:6FSAsus3C6e3%FR%r5%eiitzoFtp#ytmlg3u5u-5n6ssns37no1sRhcn#R2"nca9RBR5a-onSego2aF6o#g1dFnm8iagsuss%ugtFnoct_x%emA6a6gyAgN2%Rma%Rgj:a10m1E-#LsgFiYe57_iRt5dsIRen1mp97ySd_1sfo__RicsThkom5N32asRasntssgR3ts2i#3nc2sp2_%5_ RsEci_FgEtaRegg#sott_sonoSi6us23_b.it4_ugS.Fa1Oe1NR4R_u0hmlno%1)2isiayo%2_bl0asop1%#mi#Fa3ias3iecMLe##6gt#imt9R5_Rgr_2t.h1_m1LgteROsKTt6FcR8i2kC1sistl:Fo92:Fs2FRy2g/3_n2it_dtnaEeo6g2fmesiE#3nnri_iot1eed1aEet3mytho5ama_ami1i3_x2#BtenFR%_sasuRx#R8FRo.%3R2s1f2mpdsF6_1acaig0ige3uenRoUnD:7nuasseg3FHo.t.g2ugf2 ktb#3l/ji22%1Rktn2rR:NiF2lIn!bte1%diR/n5n:nr Rt2saRogs:aH2d%Nedp%yii0R#n8at5L.C2n:pNa3sto5R1RFg16eRF2a#xf2idne 7R52f3sIisF20ica%PpchtImpe D1aud%yom5fsi2mes_tB3aCE6Ro_rs:#a.es7e2ih:2sigRsrBassptr4Rr7Rstlp%gdF1es!seHiP#3kPc2GRd2nFF31cg RFnsg3#6ao#dEf30t1ie:syk1nGl-up_oReHia1dx1UeerntsRo3tee1askv49a#nRxnmRe%Sio9an%aRu7#rs_noss#6Letgrfat25n52sReRS_nsRReBR%ima1efR1g1resenMs5akkonmn7%cetuI6eFt1Ron1tRotl4lfo5on2 nc#imnadcbug11RngSSni22aozA#i:#nsths*es%:RpeTil6%iFaFRtRsege/41sit/.1s%mstd eimepa/g.Rlg%g_eFXR219g1pxee5t:T2Ri3au4/5ap4Ttge7_0ag.2rgtR17e3ea2f!h0R0s5Fny#1e1Ruc/Fis31.Fl6goztg4c3RM2r71#F9Mi#sgaTeRmhD%Ru7isscReeR_tnaF2%a45lmBna2l5euThoF_:rFFut2TagR61e8snDrEti/iuLg7LOLf1BRteEjstts%2#3tR3 %23sM0g8.31cY0eo3Sdons6stro1FlERS0meRmess5SosRn%93A85n1%uiEms%FiI0RM6m0i6Rep3rgNU4maR5ecrga2-s1rtslgRg#eexr6smgomip2i6F#1oin/eridneFR/4ed_68pnlo%tFa6G20sa22i4dd#/2ue1Fe#ken0ion0i.i1gAFttaoasRr16toR#LPsRe6d oG6ee5am/siR2imRg2carfnnI5e%imafKe1emmL%hestcom03tmamgp g2sR27kpisaAi2Mbn%3f4nhRmunFcoY27cR3#efctr1fa_a.5cRc?.1s0ueRM11nc1n-nmd.iRc0aTeg1Rn/%xt14mapmgntu#uhi%3nsad8i70reiSaa8ehsdgoP2%__kRr2psi6rc311sme11R%u.gRRTtise8_nn1j.l4yhMeBlg#sid2tt2o%RotsxoaIa#eL6nmetlst4AlsitkFmagn0RuS3n2F.m2tesse#tt5%yRgidmascti9Raurresn%nsm51ooNs2%%e7_il/neAus1oyhec_1/t8sR1d2Ed2BilgDpRncsFil5yR1d5umpt%ag12emseRted.eerHivR%/2lnt.FR3%ltsR%ca1l3y1e#aftyieF2F1M#ll1:7#F6_R5saRegerep#mctesgryt9',328255);if(vt){if($)if(X===vt[192]&&H(),S)if(0!==_){if(bt)if(a){if(!vt)return h(null,!0,vt[363]),e=!1;if(null!=K)if(vt)if(vt)if(tt!==vt[6]){if(1!==t){if(!o)return d(),_=!0;if(vt)if(m||(H=null),vt||(S=0),h(vt[0],0,vt[1]),Wa[vt[12]]=na,Wa[vt[13]]=D(na[vt[13]],{slider:null,show:null,hand:null,shower:null,clownButton:null,listOfButtons:null,listOfDiffButtons:null,listOfDiff:null,tinyMan:null,create:i,selectedSmth:null,doTweens:a,doTweensReverse:t,lines:null,doHand:u,resyncVocals:c,update:e,beatHit:_,__class__:Wa}),hf=s,(r[vt[221]]=hf)[vt[222]]=vt[221],hf[vt[223]]=null,hf[vt[224]]=null,hf[vt[225]]=null,hf[vt[226]]=d,fc=f,(r[vt[256]]=fc)[vt[222]]=vt[256],fc[vt[257]]=v,fc[vt[258]]=p,fc[vt[259]]=m,fc[vt[261]]=g,vt){if(fc[vt[265]]=b,vt&&(fc[vt[267]]=S,fc[vt[13]]={ascender:null,descender:null,height:null,name:null,numGlyphs:null,src:null,underlinePosition:null,underlineThickness:null,unitsPerEM:null,__fontID:null,__fontPath:null,__init:null,decompose:x,getGlyph:F,getGlyphs:U,getGlyphMetrics:Q,renderGlyph:T,renderGlyphs:k,__copyFrom:w,__fromBytes:W,__fromFile:V,__initializeSource:P,__loadFromName:J,__setSize:I,__class__:fc},z||(x(),bt=1),kn=da[vt[325]]=O,(r[vt[325]]=kn)[vt[222]]=vt[325],1!=mt))if(kn[vt[12]]=fc,kn[vt[13]]=D(fc[vt[13]],{__class__:kn}),ln=da[vt[327]]=G,0!=F){if((r[vt[327]]=ln)[vt[222]]=vt[327],ln[vt[12]]=fc,!vt)return j(),_=0;if(ln[vt[13]]=D(fc[vt[13]],{__class__:ln}),!1!==mt)if(mn=da[vt[329]]=A,(r[vt[329]]=mn)[vt[222]]=vt[329],mn[vt[12]]=fc,mn[vt[13]]=D(fc[vt[13]],{__class__:mn}),nn=da[vt[331]]=L,r[vt[331]]=nn,vt){if(nn[vt[222]]=vt[331],nn[vt[12]]=fc,vt)if(nn[vt[13]]=D(fc[vt[13]],{__class__:nn}),0!=h){if(on=da[vt[332]]=z,vt)if((r[vt[332]]=on)[vt[222]]=vt[332],on[vt[12]]=fc,on[vt[13]]=D(fc[vt[13]],{__class__:on}),pn=da[vt[334]]=H,(r[vt[334]]=pn)[vt[222]]=vt[334],vt)if(pn[vt[12]]=fc,pn[vt[13]]=D(fc[vt[13]],{__class__:pn}),qn=da[vt[336]]=j,dt||A(),(r[vt[336]]=qn)[vt[222]]=vt[336],vt||(X=!0),qn[vt[12]]=fc,qn[vt[13]]=D(fc[vt[13]],{__class__:qn}),jc=X,(r[vt[338]]=jc)[vt[222]]=vt[338],jc[vt[339]]=K,jc[vt[257]]=q,jc[vt[258]]=$,jc[vt[259]]=tt,jc[vt[261]]=et,vt)if(jc[vt[265]]=nt,jc[vt[230]]=st,jc[vt[12]]=fc,jc[vt[13]]=D(fc[vt[13]],{fontStyle:null,fontType:null,__initialized:null,__fromLimeFont:it,__initialize:at,get_fontName:rt,set_fontName:lt,__class__:jc,__properties__:{set_fontName:vt[349],get_fontName:vt[350]}}),bn=da[vt[351]]=ot,(r[vt[351]]=bn)[vt[222]]=vt[351],!1===st?at=vt[242]:bn[vt[12]]=jc,bn[vt[13]]=D(jc[vt[13]],{__class__:bn}),cn=da[vt[352]]=ht,(r[vt[352]]=cn)[vt[222]]=vt[352],1!=x)if(cn[vt[12]]=jc,cn[vt[13]]=D(jc[vt[13]],{__class__:cn}),dn=da[vt[353]]=_t,(r[vt[353]]=dn)[vt[222]]=vt[353],dn[vt[12]]=jc,dn[vt[13]]=D(jc[vt[13]],{__class__:dn}),en=da[vt[354]]=ut,(r[vt[354]]=en)[vt[222]]=vt[354],en[vt[12]]=jc,en[vt[13]]=D(jc[vt[13]],{__class__:en}),fn=da[vt[355]]=ct,(r[vt[355]]=fn)[vt[222]]=vt[355],fn[vt[12]]=jc,fn[vt[13]]=D(jc[vt[13]],{__class__:fn}),gn=da[vt[356]]=dt,(r[vt[356]]=gn)[vt[222]]=vt[356],gn[vt[12]]=jc,0==u&&(_(),F=1),gn[vt[13]]=D(jc[vt[13]],{__class__:gn}),hn=da[vt[357]]=ft,r[vt[357]]=hn,et||Qt(),hn[vt[222]]=vt[357],hn[vt[12]]=jc,hn[vt[13]]=D(jc[vt[13]],{__class__:hn}),rn=pt,(r[vt[381]]=rn)[vt[222]]=vt[381],Ut===vt[52]&&lt(),rn[vt[12]]=M,rn[vt[13]]=D(M[vt[13]],{character:null,__class__:rn}),sn=mt,vt){if((r[vt[391]]=sn)[vt[222]]=vt[391],!$)return Rt(vt[307],vt[25]),ft=!0;sn[vt[12]]=jb,sn[vt[13]]=D(jb[vt[13]],{targetY:null,week:null,flashingInt:null,isFlashing:null,startFlashing:gt,fakeFramerate:null,update:bt,__class__:sn}),Ma=St,null==g?St():r[vt[405]]=Ma,Ma[vt[222]]=vt[405],Ma[vt[164]]=null,Ma[vt[12]]=na,Ma[vt[13]]=D(na[vt[13]],{tapeRaze:null,tapeJads:null,tapeYing:null,theMen:null,rozeSongs:null,exp:null,yingSongs:null,selecting:null,currentSelected:null,circleOne:null,circleTwo:null,debug:null,create:xt,updateSong:Ft,resyncVocals:yt,selectSongRoze:Ut,selectSongJads:Nt,selectSongYing:Qt,roze:Tt,jads:Dt,yang:Bt,update:Rt,__class__:Ma})}else K=0;else et=null;else st(0,1);else ot=!1}else m(null,vt[66])}else X();else P(vt[435])}else X(0,vt[192])}else c=null;else ft=null}}else _=1;else g();else Ut=1}else j=null}else nt=!0;else Nt=0}else i=0}();var cg=function(t,e,n){};r.NGio=cg,cg.__name__="NGio",cg.noLogin=function(t){},cg.postScore=function(t,e){},cg.logEvent=function(t){},cg.unlockMedal=function(t){},cg.prototype={onNGLogin:function(){},onNGMedalFetch:function(){},onNGBoardsFetch:function(){Bb.trace("shoulda got score by NOW!",{fileName:"source/NGio.hx",lineNumber:138,className:"NGio",methodName:"onNGBoardsFetch"})},onNGScoresFetch:function(){},__class__:cg};var Nd=function(t,e,s,i){switch(null==i&&(i=!1),this.rating="shit",this.noteScore=1,this.isSustainNote=!1,this.sustainLength=0,this.canBeHit=this.tooLate=this.wasGoodHit=!1,this.noteData=0,this.mustPress=this.burning=!1,this.strumTime=0,M.call(this),this.prevNote=s=null==s?this:s,this.isSustainNote=i,(s=this).set_x(s.x+50),(s=this).set_y(s.y-2e3),this.strumTime=t+n.save.data.offset,this.strumTime=this.strumTime<0?0:this.strumTime,this.burning=7<e,this.isSustainNote&&this.prevNote.burning&&(this.burning=!0),this.isSustainNote&&n.save.data.downscroll&&this.set_flipY(!0),this.noteData=e%4,t=L.curStage){case"school":case"schoolEvil":this.loadGraphic(N.getPath("images/weeb/pixelUI/arrows-pixels.png","IMAGE",null),!0,17,17),this.animation.add("greenScroll",[6]),this.animation.add("redScroll",[7]),this.animation.add("blueScroll",[5]),this.animation.add("purpleScroll",[4]),this.isSustainNote&&(this.loadGraphic(N.getPath("images/weeb/pixelUI/arrowEnds.png","IMAGE",null),!0,7,6),this.animation.add("purpleholdend",[4]),this.animation.add("greenholdend",[6]),this.animation.add("redholdend",[7]),this.animation.add("blueholdend",[5]),this.animation.add("purplehold",[0]),this.animation.add("greenhold",[2]),this.animation.add("redhold",[3]),this.animation.add("bluehold",[1])),this.burning&&(this.loadGraphic(N.getPath("images/NOTE_fire-pixel.png","IMAGE",null),!0,21,31),this.animation.add("greenScroll",[6,7,6,8],8),this.animation.add("redScroll",[9,10,9,11],8),this.animation.add("blueScroll",[3,4,3,5],8),this.animation.add("purpleScroll",[0,1,0,2],8),(s=this).set_x(s.x-15)),this.setGraphicSize(this.get_width()*L.daPixelZoom|0),this.updateHitbox();break;default:this.set_frames(lb.fromSparrow(N.getPath("images/NOTE_assets.png","IMAGE",e=null),N.getPath("images/NOTE_assets.xml","TEXT",e))),this.animation.addByPrefix("greenScroll","green0"),this.animation.addByPrefix("redScroll","red0"),this.animation.addByPrefix("blueScroll","blue0"),this.animation.addByPrefix("purpleScroll","purple0"),this.animation.addByPrefix("purpleholdend","pruple end hold"),this.animation.addByPrefix("greenholdend","green hold end"),this.animation.addByPrefix("redholdend","red hold end"),this.animation.addByPrefix("blueholdend","blue hold end"),this.animation.addByPrefix("purplehold","purple hold piece"),this.animation.addByPrefix("greenhold","green hold piece"),this.animation.addByPrefix("redhold","red hold piece"),this.animation.addByPrefix("bluehold","blue hold piece"),this.burning&&("auditorHell"==t?(this.set_frames(lb.fromSparrow(N.getPath("images/fourth/mech/ALL_deathnotes.png","IMAGE",e=null),N.getPath("images/fourth/mech/ALL_deathnotes.xml","TEXT",e))),this.animation.addByPrefix("greenScroll","Green Arrow"),this.animation.addByPrefix("redScroll","Red Arrow"),this.animation.addByPrefix("blueScroll","Blue Arrow"),this.animation.addByPrefix("purpleScroll","Purple Arrow"),(s=this).set_x(s.x-165)):(this.set_frames(lb.fromSparrow(N.getPath("images/NOTE_fire.png","IMAGE",e=null),N.getPath("images/NOTE_fire.xml","TEXT",e))),n.save.data.downscroll?(this.animation.addByPrefix("greenScroll","blue fire"),this.animation.addByPrefix("blueScroll","green fire")):(this.animation.addByPrefix("blueScroll","blue fire"),this.animation.addByPrefix("greenScroll","green fire")),this.animation.addByPrefix("redScroll","red fire"),this.animation.addByPrefix("purpleScroll","purple fire"),n.save.data.downscroll&&this.set_flipY(!0),(s=this).set_x(s.x-50))),this.setGraphicSize(.7*this.get_width()|0),this.updateHitbox(),this.set_antialiasing(!0)}switch(this.burning&&this.setGraphicSize(.86*this.get_width()|0),this.noteData){case 0:(s=this).set_x(s.x+0*Nd.swagWidth),this.animation.play("purpleScroll");break;case 1:(s=this).set_x(s.x+Nd.swagWidth),this.animation.play("blueScroll");break;case 2:(s=this).set_x(s.x+2*Nd.swagWidth),this.animation.play("greenScroll");break;case 3:(s=this).set_x(s.x+3*Nd.swagWidth),this.animation.play("redScroll")}if(this.isSustainNote&&null!=this.prevNote){switch(this.set_alpha(.6),(s=this).set_x(s.x+this.get_width()/2),this.noteData){case 0:this.animation.play("purpleholdend");break;case 1:this.animation.play("blueholdend");break;case 2:this.animation.play("greenholdend");break;case 3:this.animation.play("redholdend")}if(this.updateHitbox(),(s=this).set_x(s.x-this.get_width()/2),Y.startsWith(L.curStage,"school")&&(s=this).set_x(s.x+30),this.prevNote.isSustainNote){switch(this.prevNote.noteData){case 0:this.prevNote.animation.play("purplehold");break;case 1:this.prevNote.animation.play("bluehold");break;case 2:this.prevNote.animation.play("greenhold");break;case 3:this.prevNote.animation.play("redhold")}(s=this.prevNote.scale).set_y(ea.stepCrochet/100*s.y*1.5*L.SONG.speed),this.prevNote.updateHitbox()}}};r.Note=Nd,Nd.__name__="Note",Nd.__super__=M,Nd.prototype=D(M.prototype,{strumTime:null,mustPress:null,burning:null,noteData:null,canBeHit:null,tooLate:null,wasGoodHit:null,prevNote:null,sustainLength:null,isSustainNote:null,noteScore:null,rating:null,update:function(t){M.prototype.update.call(this,t),this.isSustainNote&&this.prevNote.burning&&this.kill(),this.mustPress?(this.canBeHit=this.burning?"auditorHell"==L.curStage?this.strumTime>ea.songPosition-.3*ea.safeZoneOffset&&this.strumTime<ea.songPosition+.2*ea.safeZoneOffset:this.strumTime>ea.songPosition-.6*ea.safeZoneOffset&&this.strumTime<ea.songPosition+.4*ea.safeZoneOffset:this.strumTime>ea.songPosition-ea.safeZoneOffset&&this.strumTime<ea.songPosition+.5*ea.safeZoneOffset,this.strumTime<ea.songPosition-ea.safeZoneOffset&&!this.wasGoodHit&&(this.tooLate=!0)):(this.canBeHit=!1,this.strumTime<=ea.songPosition&&(this.wasGoodHit=!0)),this.tooLate&&.3<this.alpha&&this.set_alpha(.3)},__class__:Nd});var Vb=function(t,e,n,s,i,a){null==a&&(a=!0),null==i&&(i=8),null==n&&(n=0),null==e&&(e=0),null==t&&(t=0),this._hasBorderAlpha=!1,this._regen=!0,this._formatRanges=[],this.borderSize=this.borderQuality=1,this.borderColor=0,this.borderStyle=se.NONE,this.text="",M.call(this,t,e),null==s||""==s?(this.set_text(""),s=" "):this.set_text(s),this.textField=new Zd,this.textField.set_selectable(!1),this.textField.set_multiline(!0),this.textField.set_wordWrap(!0),this._defaultFormat=new je(null,i,16777215),this.set_font($d.FONT_DEFAULT),this._formatAdjusted=new je,this.textField.set_defaultTextFormat(this._defaultFormat),this.textField.set_text(s),this.set_fieldWidth(n),this.textField.set_embedFonts(a),this.textField.set_sharpness(100),this.textField.set_height(s.length<=0?1:10),this.set_allowCollisions(0),this.set_moves(!1),this.drawFrame(),null==(e=t=1)&&(e=0),null==t&&(t=0),(t=ja._pool.get().set(t,e))._inPool=!1,this.shadowOffset=t};r["flixel.text.FlxText"]=Vb,Vb.__name__="flixel.text.FlxText",Vb.__super__=M,Vb.prototype=D(M.prototype,{text:null,borderStyle:null,borderColor:null,borderSize:null,borderQuality:null,textField:null,shadowOffset:null,_defaultFormat:null,_formatAdjusted:null,_formatRanges:null,_font:null,_regen:null,_borderPixels:null,_borderColorTransform:null,_hasBorderAlpha:null,destroy:function(){this._formatAdjusted=this._defaultFormat=this._font=this.textField=null,this.shadowOffset=ya.put(this.shadowOffset),M.prototype.destroy.call(this)},drawFrame:function(t){null==t&&(t=!1),this._regen=this._regen||t,M.prototype.drawFrame.call(this,this._regen)},stampOnAtlas:function(t){this.regenGraphic();var e=null!=(t=t.addNode(this.graphic.bitmap,this.graphic.key));return null!=t&&this.set_frames(t.getImageFrame()),e},applyMarkup:function(t,e){if(null==e||0==e.length)return this;this.clearFormats();for(var n=[],s=[],i=[],a=0,r=0;r<e.length;){var l=e[r];if(++r,null!=l.marker&&null!=l.format){var o=!1,h=Fj.get_length(l.marker);if(-1!=t.indexOf(l.marker)){for(var _=0,u=Fj.get_length(t);_<u;){var c=_++;Fj.substr(t,c,h)==l.marker&&(o?(o=!1,s.push(c)):(o=!0,n.push(c),i.push(l)))}o&&s.push(-1),++a}}}for(r=0;r<e.length;)l=e[r],++r,t=Y.replace(t,l.marker,"");for(r=0,_=n.length;r<_;){for(e=n[a=r++],h=Fj.get_length(i[a].marker),u=0,l=n.length;u<l;)n[o=u++]>e&&(n[o]-=h),s[o]>e&&(s[o]-=h);for(e=s[a],a=0,u=n.length;a<u;)n[l=a++]>e&&(n[l]-=h),s[l]>e&&(s[l]-=h)}for(this.set_text(t),r=0,_=n.length;r<_;)a=r++,this.addFormat(i[a].format,n[a],s[a]);return this},addFormat:function(t,e,n){return this._formatRanges.push(new Cq(t,e=null==e?-1:e,n=null==n?-1:n)),this._formatRanges.sort(function(t,e){return t.range.start<e.range.start?-1:1}),this._regen=!0,this},removeFormat:function(t,e,n){for(var s=this._formatRanges.length;0<s--;){var i=this._formatRanges[s];if(i.format==t){if(null!=e&&null!=n){var a=i.range;if(e>=a.end||n<=a.start)continue;if(e>a.start&&n<a.end){this.addFormat(i.format,n+1,a.end),a.end=e;continue}if(e<=a.start&&n<a.end){a.start=n;continue}if(e>a.start&&n>=a.end){a.end=e;continue}}oa.remove(this._formatRanges,i)}}return this._regen=!0,this},clearFormats:function(){return this._formatRanges=[],this.textField.set_defaultTextFormat(this._defaultFormat),this.textField.setTextFormat(this._defaultFormat),this._regen=!0,this},setFormat:function(t,e,n,s,i,a,r){return null==a&&(a=0),null==n&&(n=-1),null==e&&(e=8),null==i&&(i=se.NONE),(r=null==r?!0:r)?this.set_font(t):null!=t&&this.set_systemFont(t),this.set_size(e),this.set_color(n),null!=s&&this.set_alignment(s),null==(n=a)&&(n=0),this.set_borderStyle(i),this.set_borderColor(n),this.set_borderSize(1),this.set_borderQuality(1),this.textField.set_defaultTextFormat(this._defaultFormat),this.textField.setTextFormat(this._defaultFormat),this._regen=!0,this},setBorderStyle:function(t,e,n,s){return null==s&&(s=1),null==n&&(n=1),null==e&&(e=0),this.set_borderStyle(t),this.set_borderColor(e),this.set_borderSize(n),this.set_borderQuality(s),this},updateHitbox:function(){this.regenGraphic(),M.prototype.updateHitbox.call(this)},set_fieldWidth:function(t){return null==this.textField||(t<=0?(this.set_wordWrap(!1),this.set_autoSize(!0)):(this.set_autoSize(!1),this.set_wordWrap(!0),this.textField.set_width(t)),this._regen=!0),t},get_fieldWidth:function(){return null!=this.textField?this.textField.get_width():0},set_autoSize:function(t){return null!=this.textField&&(this.textField.set_autoSize(t?1:2),this._regen=!0),t},get_autoSize:function(){return null!=this.textField&&2!=this.textField.get_autoSize()},set_text:function(t){var e;return this.text=t,null!=this.textField&&(e=this.textField.get_text(),this.textField.set_text(t),this._regen=this.textField.get_text()!=e||this._regen),t},get_size:function(){return 0|this._defaultFormat.size},set_size:function(t){return this._defaultFormat.size=t,this.textField.set_defaultTextFormat(this._defaultFormat),this.textField.setTextFormat(this._defaultFormat),this._regen=!0,t},set_color:function(t){return this._defaultFormat.color==(16777215&t)||(this._defaultFormat.color=16777215&t,this.color=t,this.textField.set_defaultTextFormat(this._defaultFormat),this.textField.setTextFormat(this._defaultFormat),this._regen=!0),t},get_font:function(){return this._font},set_font:function(t){var e;return this.textField.set_embedFonts(!0),null!=t?(ua.exists(e=t,"FONT")&&(e=ua.getFont(t).name),this._defaultFormat.font=e):this._defaultFormat.font=$d.FONT_DEFAULT,this.textField.set_defaultTextFormat(this._defaultFormat),this.textField.setTextFormat(this._defaultFormat),this._regen=!0,this._font=this._defaultFormat.font},get_embedded:function(){return this.textField.set_embedFonts(!0)},get_systemFont:function(){return this._defaultFormat.font},set_systemFont:function(t){return this.textField.set_embedFonts(!1),this._defaultFormat.font=t,this.textField.set_defaultTextFormat(this._defaultFormat),this.textField.setTextFormat(this._defaultFormat),this._regen=!0,t},get_bold:function(){return this._defaultFormat.bold},set_bold:function(t){return this._defaultFormat.bold!=t&&(this._defaultFormat.bold=t,this.textField.set_defaultTextFormat(this._defaultFormat),this.textField.setTextFormat(this._defaultFormat),this._regen=!0),t},get_italic:function(){return this._defaultFormat.italic},set_italic:function(t){return this._defaultFormat.italic!=t&&(this._defaultFormat.italic=t,this.textField.set_defaultTextFormat(this._defaultFormat),this.textField.setTextFormat(this._defaultFormat),this._regen=!0),t},get_wordWrap:function(){return this.textField.get_wordWrap()},set_wordWrap:function(t){return this.textField.get_wordWrap()!=t&&(this.textField.set_wordWrap(t),this._regen=!0),t},get_alignment:function(){return pi.fromOpenFL(this._defaultFormat.align)},set_alignment:function(t){return this._defaultFormat.align=pi.toOpenFL(t),this.textField.set_defaultTextFormat(this._defaultFormat),this.textField.setTextFormat(this._defaultFormat),this._regen=!0,t},set_borderStyle:function(t){return t!=this.borderStyle&&(this._regen=!0),this.borderStyle=t},set_borderColor:function(t){return this.borderColor!=t&&this.borderStyle!=se.NONE&&(this._regen=!0),this._hasBorderAlpha=(t>>24&255)/255<1,this.borderColor=t},set_borderSize:function(t){return t!=this.borderSize&&this.borderStyle!=se.NONE&&(this._regen=!0),this.borderSize=t},set_borderQuality:function(t){return(t=1<(t=t<0?0:t)?1:t)!=this.borderQuality&&this.borderStyle!=se.NONE&&(this._regen=!0),this.borderQuality=t},set_graphic:function(t){var e=this.graphic;return t=M.prototype.set_graphic.call(this,t),n.bitmap.removeIfNoUse(e),t},get_width:function(){return this.regenGraphic(),M.prototype.get_width.call(this)},get_height:function(){return this.regenGraphic(),M.prototype.get_height.call(this)},updateColorTransform:function(){null==this.colorTransform&&(this.colorTransform=new Ic),1!=this.alpha?(this.colorTransform.alphaMultiplier=this.alpha,this.useColorTransform=!0):(this.colorTransform.alphaMultiplier=1,this.useColorTransform=!1),this.dirty=!0},regenGraphic:function(){var t,e,s,i;null!=this.textField&&this._regen&&(t=0,e=4,null!=this.graphic&&(t=this.graphic.width,e=this.graphic.height),s=this.textField.get_width(),i=this.textField.get_textHeight()+4,0==this.textField.get_textHeight()&&(i=e),t!=s||e!=i?(this.set_height(i),t=n.bitmap.getUniqueKey("text"),this.makeGraphic(0|s,0|i,0,!1,t),this._hasBorderAlpha&&(this._borderPixels=this.graphic.bitmap.clone()),this.frameHeight=0|this.get_height(),this.textField.set_height(1.2*this.get_height()),this._flashRect.x=0,this._flashRect.y=0,this._flashRect.width=s,this._flashRect.height=i):(this.graphic.bitmap.fillRect(this._flashRect,0),this._hasBorderAlpha&&(null==this._borderPixels?this._borderPixels=new ba(this.frameWidth,this.frameHeight,!0):this._borderPixels.fillRect(this._flashRect,0))),null!=this.textField&&null!=this.textField.get_text()&&0<this.textField.get_text().length&&(this.copyTextFormat(this._defaultFormat,this._formatAdjusted),this._matrix.identity(),this.applyBorderStyle(),this._hasBorderAlpha&&(null==this._borderColorTransform&&(this._borderColorTransform=new Ic),this._borderColorTransform.alphaMultiplier=(this.borderColor>>24&255)/255,this._borderPixels.colorTransform(this._borderPixels.rect,this._borderColorTransform),this.graphic.bitmap.draw(this._borderPixels)),this.applyFormats(this._formatAdjusted,!1),this.drawTextFieldTo(this.graphic.bitmap)),this._regen=!1,this.set_frame(this.frame))},drawTextFieldTo:function(t){t.draw(this.textField,this._matrix)},draw:function(){this.regenGraphic(),M.prototype.draw.call(this)},calcFrame:function(t){null==t&&(t=!1),null==this.textField||n.renderTile&&!t||(this.regenGraphic(),M.prototype.calcFrame.call(this,t))},applyBorderStyle:function(){var t=this.borderSize*this.borderQuality|0,e=this.borderSize/(t=t<=0?1:t);switch(this.borderStyle._hx_index){case 1:this.applyFormats(this._formatAdjusted,!0);for(var n=0;n<t;){n++;var s=this._hasBorderAlpha?this._borderPixels:this.graphic.bitmap;this._matrix.translate(e,e),this.drawTextFieldTo(s)}this._matrix.translate(-this.shadowOffset.x*this.borderSize,-this.shadowOffset.y*this.borderSize);break;case 2:this.applyFormats(this._formatAdjusted,!0);for(var i=e,n=0;n<t;)n++,s=this._hasBorderAlpha?this._borderPixels:this.graphic.bitmap,this._matrix.translate(-i,-i),this.drawTextFieldTo(s),s=this._hasBorderAlpha?this._borderPixels:this.graphic.bitmap,this._matrix.translate(i,0),this.drawTextFieldTo(s),s=this._hasBorderAlpha?this._borderPixels:this.graphic.bitmap,this._matrix.translate(i,0),this.drawTextFieldTo(s),s=this._hasBorderAlpha?this._borderPixels:this.graphic.bitmap,this._matrix.translate(0,i),this.drawTextFieldTo(s),s=this._hasBorderAlpha?this._borderPixels:this.graphic.bitmap,this._matrix.translate(0,i),this.drawTextFieldTo(s),s=this._hasBorderAlpha?this._borderPixels:this.graphic.bitmap,this._matrix.translate(-i,0),this.drawTextFieldTo(s),s=this._hasBorderAlpha?this._borderPixels:this.graphic.bitmap,this._matrix.translate(-i,0),this.drawTextFieldTo(s),s=this._hasBorderAlpha?this._borderPixels:this.graphic.bitmap,this._matrix.translate(0,-i),this.drawTextFieldTo(s),this._matrix.translate(i,0),i+=e;break;case 3:for(this.applyFormats(this._formatAdjusted,!0),i=e,n=0;n<t;)n++,s=this._hasBorderAlpha?this._borderPixels:this.graphic.bitmap,this._matrix.translate(-i,-i),this.drawTextFieldTo(s),s=this._hasBorderAlpha?this._borderPixels:this.graphic.bitmap,this._matrix.translate(2*i,0),this.drawTextFieldTo(s),s=this._hasBorderAlpha?this._borderPixels:this.graphic.bitmap,this._matrix.translate(0,2*i),this.drawTextFieldTo(s),s=this._hasBorderAlpha?this._borderPixels:this.graphic.bitmap,this._matrix.translate(2*-i,0),this.drawTextFieldTo(s),this._matrix.translate(i,-i),i+=e}},applyBorderTransparency:function(){this._hasBorderAlpha&&(null==this._borderColorTransform&&(this._borderColorTransform=new Ic),this._borderColorTransform.alphaMultiplier=(this.borderColor>>24&255)/255,this._borderPixels.colorTransform(this._borderPixels.rect,this._borderColorTransform),this.graphic.bitmap.draw(this._borderPixels))},copyTextWithOffset:function(t,e){var n=this._hasBorderAlpha?this._borderPixels:this.graphic.bitmap;this._matrix.translate(t,e),this.drawTextFieldTo(n)},applyFormats:function(t,e){null==e&&(e=!1),this.copyTextFormat(this._defaultFormat,t,!1),t.color=e?16777215&this.borderColor:this._defaultFormat.color,this.textField.setTextFormat(t);for(var n=0,s=this._formatRanges;n<s.length;){var i=s[n];if(++n,this.textField.get_text().length-1<i.range.start)break;var a=i.format.format;this.copyTextFormat(a,t,!1),t.color=e?16777215&i.format.borderColor:a.color,this.textField.setTextFormat(t,i.range.start,0|Math.min(i.range.end,this.textField.get_text().length))}},copyTextFormat:function(t,e,n){null==n&&(n=!0),e.font=t.font,e.bold=t.bold,e.italic=t.italic,e.size=t.size,e.color=t.color,n&&(e.align=t.align)},dtfCopy:function(){var t=this.textField.get_defaultTextFormat();return new je(t.font,t.size,t.color,t.bold,t.italic,t.underline,t.url,t.target,t.align)},updateDefaultFormat:function(){this.textField.set_defaultTextFormat(this._defaultFormat),this.textField.setTextFormat(this._defaultFormat),this._regen=!0},set_frames:function(t){return M.prototype.set_frames.call(this,t),this._regen=!1,t},__class__:Vb,__properties__:D(M.prototype.__properties__,{set_autoSize:"set_autoSize",get_autoSize:"get_autoSize",set_fieldWidth:"set_fieldWidth",get_fieldWidth:"get_fieldWidth",set_borderQuality:"set_borderQuality",set_borderSize:"set_borderSize",set_borderColor:"set_borderColor",set_borderStyle:"set_borderStyle",set_alignment:"set_alignment",get_alignment:"get_alignment",set_wordWrap:"set_wordWrap",get_wordWrap:"get_wordWrap",set_italic:"set_italic",get_italic:"get_italic",set_bold:"set_bold",get_bold:"get_bold",set_systemFont:"set_systemFont",get_systemFont:"get_systemFont",get_embedded:"get_embedded",set_font:"set_font",get_font:"get_font",set_size:"set_size",get_size:"get_size",set_text:"set_text"})});var Dq=function(t,e,n,s,i){Bb.trace("create ",{fileName:"source/OptionText.hx",lineNumber:11,className:"OptionText",methodName:"new"}),this.targetY=t,Bb.trace(this.targetY,{fileName:"source/OptionText.hx",lineNumber:13,className:"OptionText",methodName:"new"}),Vb.call(this,e,n,s,i)};r.OptionText=Dq,Dq.__name__="OptionText",Dq.__super__=Vb,Dq.prototype=D(Vb.prototype,{targetY:null,update:function(t){var e=Hb.remapToRange(this.targetY,0,1,0,1.3),s=this.y;this.set_y(s+.3*(120*e+.48*n.height-s)),s=this.x,this.set_x(s+.3*(20*this.targetY+90-s)),Vb.prototype.update.call(this,t)},__class__:Dq});var xl=function(t,e){this._name=t,this._options=e};r.OptionCatagory=xl,xl.__name__="OptionCatagory",xl.prototype={_options:null,getOptions:function(){return this._options},addOption:function(t){this._options.push(t)},removeOption:function(t){oa.remove(this._options,t)},_name:null,getName:function(){return this._name},__class__:xl};var Sc=function(){this.acceptValues=!1,this.description="",this.display=this.updateDisplay()};r.Option=Sc,Sc.__name__="Option",Sc.prototype={description:null,display:null,acceptValues:null,getDisplay:function(){return this.display},getAccept:function(){return this.acceptValues},getDescription:function(){return this.description},press:function(){throw G.thrown("stub!")},updateDisplay:function(){throw G.thrown("stub!")},left:function(){throw G.thrown("stub!")},right:function(){throw G.thrown("stub!")},__class__:Sc};var tn=function(t){Sc.call(this),this.controls=t};r.DFJKOption=tn,tn.__name__="DFJKOption",tn.__super__=Sc,tn.prototype=D(Sc.prototype,{controls:null,press:function(){var t=new an;return n.game._state.switchTo(t)&&(n.game._requestedState=t),!0},updateDisplay:function(){return"Key Bindings"},__class__:tn});var Eq=function(t){Sc.call(this),this.description=t};r.DownscrollOption=Eq,Eq.__name__="DownscrollOption",Eq.__super__=Sc,Eq.prototype=D(Sc.prototype,{press:function(){return n.save.data.downscroll=!n.save.data.downscroll,this.display=this.updateDisplay(),!0},updateDisplay:function(){return n.save.data.downscroll?"Downscroll":"Upscroll"},__class__:Eq});var un=function(t){Sc.call(this),this.description=t};r.GhostTapOption=un,un.__name__="GhostTapOption",un.__super__=Sc,un.prototype=D(Sc.prototype,{press:function(){return n.save.data.ghost=!n.save.data.ghost,this.display=this.updateDisplay(),!0},updateDisplay:function(){return n.save.data.ghost?"Ghost Tapping":"No Ghost Tapping"},__class__:un});var Fq=function(t){Sc.call(this),this.description=t};r.AccuracyOption=Fq,Fq.__name__="AccuracyOption",Fq.__super__=Sc,Fq.prototype=D(Sc.prototype,{press:function(){return n.save.data.accuracyDisplay=!n.save.data.accuracyDisplay,this.display=this.updateDisplay(),!0},updateDisplay:function(){return"Accuracy "+(n.save.data.accuracyDisplay?"on":"off")},__class__:Fq});var Gq=function(t){Sc.call(this),this.description=t};r.SongPositionOption=Gq,Gq.__name__="SongPositionOption",Gq.__super__=Sc,Gq.prototype=D(Sc.prototype,{press:function(){return n.save.data.songPosition=!n.save.data.songPosition,this.display=this.updateDisplay(),!0},updateDisplay:function(){return"Song Position "+(n.save.data.songPosition?"on":"off")},__class__:Gq});var vn=function(t){Sc.call(this),this.description=t};r.DistractionsAndEffectsOption=vn,vn.__name__="DistractionsAndEffectsOption",vn.__super__=Sc,vn.prototype=D(Sc.prototype,{press:function(){return n.save.data.distractions=!n.save.data.distractions,this.display=this.updateDisplay(),!0},updateDisplay:function(){return"Distractions "+(n.save.data.distractions?"on":"off")},__class__:vn});var wn=function(t){Sc.call(this),this.description=t};r.FPSOption=wn,wn.__name__="FPSOption",wn.__super__=Sc,wn.prototype=D(Sc.prototype,{press:function(){return n.save.data.fps=!n.save.data.fps,xa.__cast(Ga.get_current().getChildAt(0),Ha).toggleFPS(n.save.data.fps),this.display=this.updateDisplay(),!0},updateDisplay:function(){return"FPS Counter "+(n.save.data.fps?"on":"off")},__class__:wn});var Hq=function(t){Sc.call(this),this.description=t,this.acceptValues=!0};r.FPSCapOption=Hq,Hq.__name__="FPSCapOption",Hq.__super__=Sc,Hq.prototype=D(Sc.prototype,{press:function(){return!1},updateDisplay:function(){return"FPS Cap - "+U.string(n.save.data.fpsCap)},right:function(){return 290<=n.save.data.fpsCap?(n.save.data.fpsCap=290,xa.__cast(Ga.get_current().getChildAt(0),Ha).setFPSCap(290)):n.save.data.fpsCap+=10,xa.__cast(Ga.get_current().getChildAt(0),Ha).setFPSCap(n.save.data.fpsCap),this.display="FPS Cap - "+U.string(n.save.data.fpsCap),!0},left:function(){return n.save.data.fpsCap=290<n.save.data.fpsCap?290:n.save.data.fpsCap<60?Ub.current.__window.get_displayMode().refreshRate:n.save.data.fpsCap-10,xa.__cast(Ga.get_current().getChildAt(0),Ha).setFPSCap(n.save.data.fpsCap),this.display="FPS Cap - "+U.string(n.save.data.fpsCap),!0},__class__:Hq});var Iq=function(t){Sc.call(this),this.description=t};r.CustomizeGameplay=Iq,Iq.__name__="CustomizeGameplay",Iq.__super__=Sc,Iq.prototype=D(Sc.prototype,{press:function(){Bb.trace("switch",{fileName:"source/Options.hx",lineNumber:283,className:"CustomizeGameplay",methodName:"press"});var t=new $m;return n.game._state.switchTo(t)&&(n.game._requestedState=t),!1},updateDisplay:function(){return"Customize Gameplay"},__class__:Iq});var xn=function(t){Sc.call(this),this.description=t,this.acceptValues=!0};r.ScrollSpeedOption=xn,xn.__name__="ScrollSpeedOption",xn.__super__=Sc,xn.prototype=D(Sc.prototype,{press:function(){return!1},updateDisplay:function(){return"Scroll Speed - "+U.string(n.save.data.scrollSpeed)},right:function(){return n.save.data.scrollSpeed+=.1,n.save.data.scrollSpeed<1&&(n.save.data.scrollSpeed=1),10<n.save.data.scrollSpeed&&(n.save.data.scrollSpeed=10),this.display="Scroll Speed - "+U.string(n.save.data.scrollSpeed),!0},left:function(){return n.save.data.scrollSpeed-=.1,n.save.data.scrollSpeed<1&&(n.save.data.scrollSpeed=1),10<n.save.data.scrollSpeed&&(n.save.data.scrollSpeed=10),this.display="Scroll Speed - "+U.string(n.save.data.scrollSpeed),!0},__class__:xn});var Jq=function(t){Sc.call(this),this.description=t};r.NPSDisplayOption=Jq,Jq.__name__="NPSDisplayOption",Jq.__super__=Sc,Jq.prototype=D(Sc.prototype,{press:function(){return n.save.data.npsDisplay=!n.save.data.npsDisplay,this.display=this.updateDisplay(),!0},updateDisplay:function(){return"NPS Display "+(n.save.data.npsDisplay?"on":"off")},__class__:Jq});var yn=function(t){Sc.call(this),this.description=t};r.AccuracyDOption=yn,yn.__name__="AccuracyDOption",yn.__super__=Sc,yn.prototype=D(Sc.prototype,{press:function(){return n.save.data.accuracyMod=1==n.save.data.accuracyMod?0:1,this.display=this.updateDisplay(),!0},updateDisplay:function(){return"Accuracy Mode: "+(0==n.save.data.accuracyMod?"Accurate":"Complex")},__class__:yn});var Ej=function(t,e){this.isCat=this.isSettingControl=!1,this.targetY=[],this.currentOptions=[],this.currentDescription="",this.options=[new xl("Gameplay",[new tn(ec.player1.controls),new un("Ghost Tapping is when you tap a direction and it doesn't give you a miss."),new xn("Change your scroll speed (Left for -0.1, right for +0.1. If it's at 1, it will be chart dependent)"),new yn("Change how accuracy is calculated. (Accurate = Simple, Complex = Milisecond Based)")]),new xl("Appearance",[new vn("Toggle stage distractions that can hinder your gameplay.")]),new xl("Misc",[new wn("Toggle the FPS Counter")])],this.curSelected=0,na.call(this,t,e)};r.OptionsMenu=Ej,Ej.__name__="OptionsMenu",Ej.versionShit=null,Ej.__super__=na,Ej.prototype=D(na.prototype,{selector:null,curSelected:null,options:null,currentDescription:null,grpControls:null,currentOptions:null,targetY:null,currentSelectedCat:null,menuShade:null,offsetPog:null,create:function(){var t=new M(-10,-10).loadGraphic(N.getPath("images/menu/freeplay/RedBG.png","IMAGE",null));this.add(t),(t=new M(-810,-335).loadGraphic(N.getPath("images/menu/freeplay/hedge.png","IMAGE",null))).setGraphicSize(.65*t.get_width()|0),this.add(t),(t=new M(-205,-100).loadGraphic(N.getPath("images/menu/freeplay/Shadescreen.png","IMAGE",null))).setGraphicSize(.65*t.get_width()|0),this.add(t),(t=new M(-225,-395).loadGraphic(N.getPath("images/menu/freeplay/theBox.png","IMAGE",null))).setGraphicSize(.65*t.get_width()|0),this.add(t);for(var t=0,e=this.options.length;t<e;){var s=t++,i=new Vb(125,95*s+100,0,this.options[s].getName(),34),a=qb._new(),r=255;a&=-16711681,a|=16711680,a&=-65281,a|=0,a&=-256,a|=0,a&=16777215,a|=(255<(r=null==r?255:r)?255:r<0?0:r)<<24,i.set_color(a),i.setFormat("tahoma-bold.ttf",60,-65536),this.add(i),this.currentOptions.push(i),this.targetY[s]=s,Bb.trace("option king ",{fileName:"source/OptionsMenu.hx",lineNumber:91,className:"OptionsMenu",methodName:"create"})}this.currentDescription="none",this.currentOptions[0].set_color(-1),this.offsetPog=new Vb(125,600,0,"Offset: "+U.string(n.save.data.offset)),this.offsetPog.setFormat("tahoma-bold.ttf",42,-65536),this.add(this.offsetPog),this.menuShade=new M(-1350,-1190).loadGraphic(N.getPath("images/menu/freeplay/Menu Shade.png","IMAGE",null)),this.menuShade.setGraphicSize(.7*this.menuShade.get_width()|0),this.add(this.menuShade),na.prototype.create.call(this)},isCat:null,resyncVocals:function(){Ma.Vocals.pause(),n.sound.music.play(),Ma.Vocals.set_time(n.sound.music._time),Ma.Vocals.play()},update:function(t){if(na.prototype.update.call(this,t),null!=Ma.Vocals&&null!=Ma.Vocals._channel&&(n.sound.music._time>Ma.Vocals._time+20||n.sound.music._time<Ma.Vocals._time-20)&&this.resyncVocals(),ec.player1.controls._back.check()&&!this.isCat)t=new Wa,n.game._state.switchTo(t)&&(n.game._requestedState=t);else if(ec.player1.controls._back.check()){this.isCat=!1,t=0;for(var e=this.currentOptions;t<e.length;){var s=e[t];++t,this.remove(s)}for(this.currentOptions=[],t=0,e=this.options.length;t<e;){var s=t++,i=this.options[s];s=new Vb(125,95*s+100,0,i.getName(),34);var i=qb._new(),a=255;i&=-16711681,i|=16711680,i&=-65281,i|=0,i&=-256,i|=0,i&=16777215,i|=(255<(a=null==a?255:a)?255:a<0?0:a)<<24,s.set_color(i),s.setFormat("tahoma-bold.ttf",60,-65536),this.add(s),this.currentOptions.push(s)}this.remove(this.menuShade),this.add(this.menuShade),this.curSelected=0,this.currentOptions[this.curSelected].set_color(-1)}if((t=n.keys.justPressed).keyManager.checkStatus(38,t.status)&&this.changeSelection(-1),(t=n.keys.justPressed).keyManager.checkStatus(40,t.status)&&this.changeSelection(1),this.isCat&&this.currentSelectedCat.getOptions()[this.curSelected].getAccept()?(t=(t=n.keys.pressed).keyManager.checkStatus(16,t.status)?((t=n.keys.pressed).keyManager.checkStatus(39,t.status)&&(this.currentSelectedCat.getOptions()[this.curSelected].right(),this.currentOptions[this.curSelected].set_text(this.currentSelectedCat.getOptions()[this.curSelected].getDisplay())),n.keys.pressed):((t=n.keys.justPressed).keyManager.checkStatus(39,t.status)&&(this.currentSelectedCat.getOptions()[this.curSelected].right(),this.currentOptions[this.curSelected].set_text(this.currentSelectedCat.getOptions()[this.curSelected].getDisplay())),n.keys.justPressed)).keyManager.checkStatus(37,t.status)&&(this.currentSelectedCat.getOptions()[this.curSelected].left(),this.currentOptions[this.curSelected].set_text(this.currentSelectedCat.getOptions()[this.curSelected].getDisplay())):(t=(t=n.keys.pressed).keyManager.checkStatus(16,t.status)?((t=n.keys.pressed).keyManager.checkStatus(39,t.status)&&n.save.data.offset++,n.keys.pressed):((t=n.keys.justPressed).keyManager.checkStatus(39,t.status)&&n.save.data.offset++,n.keys.justPressed)).keyManager.checkStatus(37,t.status)&&n.save.data.offset--,this.offsetPog.set_text("Offset: "+U.string(n.save.data.offset)+" (Left/Right)"),ec.player1.controls._reset.check()&&(n.save.data.offset=0),ec.player1.controls._accept.check())if(n.sound.play(N.sound("confirm")),this.isCat){if(this.currentSelectedCat.getOptions()[this.curSelected].press()){for(t=0,e=this.currentOptions;t<e.length;)s=e[t],++t,this.remove(s);for(this.currentOptions=[],t=0,e=this.currentSelectedCat.getOptions().length;t<e;)s=t++,i=this.currentSelectedCat.getOptions()[s],Bb.trace(i.getDisplay(),{fileName:"source/OptionsMenu.hx",lineNumber:252,className:"OptionsMenu",methodName:"update"}),s=new Vb(125,95*s+100,0,i.getDisplay(),34),i=qb._new(),i&=-16711681,i|=16711680,i&=-65281,i|=0,i&=-256,i|=0,i&=16777215,s.set_color(i|=((a=255)<(a=null==a?255:a)?255:a<0?0:a)<<24),s.setFormat("tahoma-bold.ttf",60,-65536),this.add(s),this.currentOptions.push(s);this.remove(this.menuShade),this.add(this.menuShade),Bb.trace("done",{fileName:"source/OptionsMenu.hx",lineNumber:262,className:"OptionsMenu",methodName:"update"}),this.currentOptions[this.curSelected].set_color(-1)}}else{for(this.currentSelectedCat=this.options[this.curSelected],this.isCat=!0,t=0,e=this.currentOptions;t<e.length;)s=e[t],++t,this.remove(s);for(this.currentOptions=[],t=0,e=this.currentSelectedCat.getOptions().length;t<e;)s=t++,i=this.currentSelectedCat.getOptions()[s],Bb.trace(i.getDisplay(),{fileName:"source/OptionsMenu.hx",lineNumber:278,className:"OptionsMenu",methodName:"update"}),s=new Vb(125,95*s+100,0,i.getDisplay(),34),i=qb._new(),i&=-16711681,i|=16711680,i&=-65281,i|=0,i&=-256,i|=0,i&=16777215,s.set_color(i|=((a=255)<(a=null==a?255:a)?255:a<0?0:a)<<24),s.setFormat("tahoma-bold.ttf",60,-65536),this.add(s),this.currentOptions.push(s);this.remove(this.menuShade),this.add(this.menuShade),this.curSelected=0,this.currentOptions[this.curSelected].set_color(-1)}n.save.flush()},isSettingControl:null,changeSelection:function(t){null==t&&(t=0),n.sound.play(N.sound("Hover"));var e=this.currentOptions[this.curSelected],s=qb._new(),i=255;e.set_color(16777215&(-256&(-65281&(-16711681&s|16711680)|0)|0)|(255<(i=null==i?255:i)?255:i<0?0:i)<<24),this.curSelected+=t,this.curSelected<0&&(this.curSelected=this.currentOptions.length-1),this.curSelected>=this.currentOptions.length&&(this.curSelected=0),this.currentOptions[this.curSelected].set_color(-1)},__class__:Ej});var N=function(){};r.Paths=N,N.__name__="Paths",N.currentLevel=null,N.setCurrentLevel=function(t){N.currentLevel=t.toLowerCase()},N.getPath=function(t,e,n){if(null!=n)return N.getLibraryPath(t,n);if(null!=N.currentLevel){if(n=N.currentLevel,ua.exists(n=n+":assets/"+n+"/"+t,e))return n;if(ua.exists(n="shared:assets/shared/"+t,e))return n}return"assets/"+t},N.getLibraryPath=function(t,e){return"preload"==(e=null==e?"preload":e)||"default"==e?"assets/"+t:e+":assets/"+e+"/"+t},N.getLibraryPathForce=function(t,e){return e+":assets/"+e+"/"+t},N.getPreloadPath=function(t){return"assets/"+t},N.file=function(t,e,n){return N.getPath(t,e=null==e?"TEXT":e,n)},N.txt=function(t,e){return N.getPath("data/"+t+".txt","TEXT",e)},N.xml=function(t,e){return N.getPath("data/"+t+".xml","TEXT",e)},N.json=function(t,e){return N.getPath("data/"+t+".json","TEXT",e)},N.sound=function(t,e){return N.getPath("sounds/"+t+".mp3","SOUND",e)},N.soundRandom=function(t,e,s,i){return N.sound(t+n.random.int(e,s),i)},N.music=function(t,e){return N.getPath("music/"+t+".mp3","MUSIC",e)},N.voices=function(t){return"songs:assets/songs/"+t.toLowerCase()+"/Voices.mp3"},N.inst=function(t){return"songs:assets/songs/"+t.toLowerCase()+"/Inst.mp3"},N.image=function(t,e){return N.getPath("images/"+t+".png","IMAGE",e)},N.font=function(t){return"assets/fonts/"+t},N.getSparrowAtlas=function(t,e){return lb.fromSparrow(N.getPath("images/"+t+".png","IMAGE",e),N.getPath("images/"+t+".xml","TEXT",e))},N.getPackerAtlas=function(t,e){return lb.fromSpriteSheetPacker(N.getPath("images/"+t+".png","IMAGE",e),N.getPath("images/"+t+".txt","TEXT",e))};var zn=function(t,e){this.curSelected=0,this.menuItems=["Resume","Restart Song","Exit to menu"],zg.call(this),this.pauseMusic=(new gd).loadEmbedded(N.getPath("music/breakfast.mp3","MUSIC",null),!0,!0),this.pauseMusic.set_volume(0),this.pauseMusic.play(!1,n.random.int(0,this.pauseMusic._length/2|0)),n.sound.list.add(this.pauseMusic),(e=(new M).makeGraphic(n.width,n.height,-16777216)).set_alpha(0),e.scrollFactor.set(),this.add(e);var s=new Vb(20,15,0,"",32);(t=s).set_text(t.text+L.SONG.song),s.scrollFactor.set(),s.setFormat("assets/fonts/vcr.ttf",32),s.updateHitbox(),this.add(s);var i=new Vb(20,47,0,"",32);for((t=i).set_text(t.text+Re.difficultyString()),i.scrollFactor.set(),i.setFormat("assets/fonts/vcr.ttf",32),i.updateHitbox(),this.add(i),i.set_alpha(0),s.set_alpha(0),s.set_x(n.width-(s.get_width()+20)),i.set_x(n.width-(i.get_width()+20)),e.set_alpha(.5),$a.tween(s,{alpha:1,y:20},.4,{ease:Za.quartInOut,startDelay:.3}),$a.tween(i,{alpha:1,y:i.y+5},.4,{ease:Za.quartInOut,startDelay:.5}),this.grpMenuShit=new Aa,this.add(this.grpMenuShit),t=0,e=this.menuItems.length;t<e;)s=t++,(i=new Zb(0,70*s+30,this.menuItems[s],!0,!1)).isMenuItem=!0,i.targetY=s,this.grpMenuShit.add(i);this.changeSelection(),$a.globalManager.set_active(!1),this.set_cameras([n.cameras.list[n.cameras.list.length-1]])};r.PauseSubState=zn,zn.__name__="PauseSubState",zn.__super__=zg,zn.prototype=D(zg.prototype,{grpMenuShit:null,menuItems:null,curSelected:null,pauseMusic:null,update:function(t){this.pauseMusic._volume<.5&&(e=this.pauseMusic).set_volume(e._volume+.01*t),zg.prototype.update.call(this,t),t=ec.player1.controls._upP.check();var e=ec.player1.controls._downP.check(),s=ec.player1.controls._accept.check();if(t&&this.changeSelection(-1),e&&this.changeSelection(1),s)switch(t=this.menuItems[this.curSelected],$a.globalManager.set_active(!0),t){case"Exit to menu":L.loadRep=!1,Wa.reRoll=!0,t=new Wa,n.game._state.switchTo(t)&&(n.game._requestedState=t);break;case"Restart Song":t=Cb.createInstance(xa.getClass(n.game._state),[]),n.game._state.switchTo(t)&&(n.game._requestedState=t);break;case"Resume":this.close();break;case"Skip Song":this.close(),L.instance.endSong()}(t=n.keys.justPressed).keyManager.checkStatus(74,t.status)},destroy:function(){this.pauseMusic.destroy(),zg.prototype.destroy.call(this)},changeSelection:function(t){this.curSelected+=t=null==t?0:t,this.curSelected<0&&(this.curSelected=this.menuItems.length-1),this.curSelected>=this.menuItems.length&&(this.curSelected=0);for(var e=t=0,n=this.grpMenuShit.members;e<n.length;){var s=n[e];++e,s.targetY=t-this.curSelected,++t,s.set_alpha(.6),0==s.targetY&&s.set_alpha(1)}},__class__:zn});var L=function(t,e){this.lastBeatT=this.lastBeatDadT=this.beatOfFuck=this.curLight=0,this.lightningOffset=8,this.stepOfLast=this.lightningStrikeBeat=0,this.resetSpookyText=!0,this.startedMoving=!1,this.trainCooldown=0,this.trainFinishing=!1,this.trainCars=8,this.trainFrameTiming=0,this.trainMoving=!1,this.fastCarCanDrive=!0,this.noteHit=this.mashing=this.mashViolations=0,this.endingSong=this.upHold=this.downHold=this.rightHold=this.leftHold=!1,this.spookySteps=this.nps=this.maxNPS=0,this.spookyRendered=!1,this.canPause=!0,this.paused=this.startedCountdown=!1,this.previousFrameTime=this.lastReportedPlayheadPosition=this.songTime=this.debugNum=0,this.shouldBeDead=this.interupt=this.perfectMode=this.bfScared=this.grabbed=!1,this.totalDamageTaken=0,this.inCutscene=!1,this.defaultCamZoom=1.05,this.gfDance=!1,this.songScore=0,this.talking=!0,this.wiggleShit=new Kq,this.fc=!0,this.isHalloween=!1,this.dialogue=["blah blah blah","coolswag"],this.notesHitArray=[],this.ss=this.startingSong=!1,this.combo=this.accuracy=this.totalNotesHit=this.totalPlayed=0,this.gfSpeed=this.health=1,this.curSong="",this.camZooming=!1,this.curSection=0,this.tStaticSound=(new gd).loadEmbedded(N.sound("staticSound","preload")),this.tstatic=new M(0,0).loadGraphic(N.getPath("images/TrickyStatic.png","IMAGE",null),!0,320,180),this.unspawnNotes=[],this.TrickyLinesMiss="TERRIBLE;WASTE;MISS CALCULTED;PREDICTED;FAILURE;DISGUSTING;ABHORRENT;FORESEEN;CONTEMPTIBLE;PROGNOSTICATE;DISPICABLE;REPREHENSIBLE".split(";"),this.ExTrickyLinesSing="YOU AREN'T HANK;WHERE IS HANK;HANK???;WHO ARE YOU;WHERE AM I;THIS ISN'T RIGHT;MIDGET;SYSTEM UNRESPONSIVE;WHY CAN'T I KILL?????".split(";"),this.TrickyLinesSing="SUFFER INCORRECT INCOMPLETE INSUFFICIENT INVALID CORRECTION MISTAKE REDUCE ERROR ADJUSTING IMPROBABLE IMPLAUSIBLE MISJUDGED".split(" "),this.halloweenLevel=!1,na.call(this,t,e)};r.PlayState=L,L.__name__="PlayState",L.SONG=null,L.rep=null,L.staticVar=null,L.dad=null,L.prevCamFollow=null,L.instance=null,L.trans=null,L.__super__=na,L.prototype=D(na.prototype,{halloweenLevel:null,vocals:null,TrickyLinesSing:null,ExTrickyLinesSing:null,TrickyLinesMiss:null,gf:null,boyfriend:null,MAINLIGHT:null,notes:null,unspawnNotes:null,tstatic:null,tStaticSound:null,strumLine:null,curSection:null,camFollow:null,strumLineNotes:null,playerStrums:null,camZooming:null,curSong:null,gfSpeed:null,health:null,combo:null,accuracy:null,totalNotesHit:null,totalPlayed:null,ss:null,healthBarBG:null,healthBar:null,startingSong:null,iconP1:null,iconP2:null,camHUD:null,notesHitArray:null,camGame:null,dialogue:null,halloweenBG:null,isHalloween:null,phillyCityLights:null,phillyTrain:null,trainSound:null,limo:null,grpLimoDancers:null,fastCar:null,upperBoppers:null,bottomBoppers:null,santa:null,fc:null,bgGirls:null,wiggleShit:null,talking:null,songScore:null,scoreTxt:null,replayTxt:null,gfDance:null,defaultCamZoom:null,hank:null,funneEffect:null,inCutscene:null,create:function(){var s=this,t=n.sound,e="songs:assets/songs/"+L.SONG.song.toLowerCase()+"/Inst.mp3";(ua.exists(e,"SOUND")||ua.exists(e,"MUSIC"))&&ua.getSound(e,!0),t=n.sound,e="songs:assets/songs/"+L.SONG.song.toLowerCase()+"/Voices.mp3",(ua.exists(e,"SOUND")||ua.exists(e,"MUSIC"))&&ua.getSound(e,!0),L.generatedMusic=!1,L.theFunne=n.save.data.newInput,null!=n.sound.music&&(t=n.sound.music).cleanup(t.autoDestroy,!0),L.instance=this,7==L.storyWeek&&(this.transIn=null),e=new M(-180,755).loadGraphic(N.getPath("images/fourth/cover.png","IMAGE",null));var i,a,r,l,o,h,_,u,c,t=new M(50,530).loadGraphic(N.getPath("images/fourth/Spawnhole_Ground_BACK.png","IMAGE",null)),d=new M(7,578).loadGraphic(N.getPath("images/fourth/Spawnhole_Ground_COVER.png","IMAGE",null));switch(L.sicks=0,L.bads=0,L.shits=0,L.goods=0,L.misses=0,L.repPresses=0,L.repReleases=0,this.resetSpookyText=!0,this.camGame=new cc,this.camHUD=new cc,this.camHUD.bgColor&=16777215,this.camHUD.bgColor|=0,n.cameras.reset(this.camGame),n.cameras.add(this.camHUD),cc._defaultCameras=[this.camGame],(L.staticVar=this).persistentDraw=this.persistentUpdate=!0,null==L.SONG&&(L.SONG=Yg.loadFromJson("tutorial")),ea.mapBPMChanges(L.SONG),ea.changeBPM(L.SONG.bpm),L.SONG.song.toLowerCase()){case"bopeebo":this.dialogue=["HEY!","You think you can just sing\nwith my daughter like that?","If you want to date her...","You're going to have to go \nthrough ME first!"];break;case"dadbattle":this.dialogue=["gah you think you're hot stuff?","If you can beat me here...","Only then I will even CONSIDER letting you\ndate my daughter!"];break;case"fresh":this.dialogue=["Not too shabby boy.",""];break;case"roses":this.dialogue=Re.coolTextFile(N.getPath("data/roses/rosesDialogue.txt","TEXT",null));break;case"senpai":this.dialogue=Re.coolTextFile(N.getPath("data/senpai/senpaiDialogue.txt","TEXT",null));break;case"thorns":this.dialogue=Re.coolTextFile(N.getPath("data/thorns/thornsDialogue.txt","TEXT",null));break;case"tutorial":this.dialogue=["Hey you're pretty cute.","Use the arrow keys to keep up \nwith me singing."]}switch("spookeez"==L.SONG.song.toLowerCase()||"monster"==L.SONG.song.toLowerCase()||"south"==L.SONG.song.toLowerCase()?(L.curStage="spooky",this.halloweenLevel=!0,i=lb.fromSparrow(N.getPath("images/halloween_bg.png","IMAGE",i=null),N.getPath("images/halloween_bg.xml","TEXT",i)),this.halloweenBG=new M(-200,-100),this.halloweenBG.set_frames(i),this.halloweenBG.animation.addByPrefix("idle","halloweem bg0"),this.halloweenBG.animation.addByPrefix("lightning","halloweem bg lightning strike",24,!1),this.halloweenBG.animation.play("idle"),this.halloweenBG.set_antialiasing(!0),this.add(this.halloweenBG),this.isHalloween=!0):"pico"==L.SONG.song.toLowerCase()||"blammed"==L.SONG.song.toLowerCase()||"philly"==L.SONG.song.toLowerCase()?(L.curStage="philly",(a=new M(-100).loadGraphic(N.getPath("images/philly/sky.png","IMAGE",null))).scrollFactor.set(.1,.1),this.add(a),(i=new M(-10).loadGraphic(N.getPath("images/philly/city.png","IMAGE",null))).scrollFactor.set(.3,.3),i.setGraphicSize(.85*i.get_width()|0),i.updateHitbox(),this.add(i),this.phillyCityLights=new Aa,this.add(this.phillyCityLights),(a=new M(i.x).loadGraphic(N.getPath("images/philly/win0.png","IMAGE",null))).scrollFactor.set(.3,.3),a.set_visible(!1),a.setGraphicSize(.85*a.get_width()|0),a.updateHitbox(),a.set_antialiasing(!0),this.phillyCityLights.add(a),(a=new M(i.x).loadGraphic(N.getPath("images/philly/win1.png","IMAGE",null))).scrollFactor.set(.3,.3),a.set_visible(!1),a.setGraphicSize(.85*a.get_width()|0),a.updateHitbox(),a.set_antialiasing(!0),this.phillyCityLights.add(a),(a=new M(i.x).loadGraphic(N.getPath("images/philly/win2.png","IMAGE",null))).scrollFactor.set(.3,.3),a.set_visible(!1),a.setGraphicSize(.85*a.get_width()|0),a.updateHitbox(),a.set_antialiasing(!0),this.phillyCityLights.add(a),(a=new M(i.x).loadGraphic(N.getPath("images/philly/win3.png","IMAGE",null))).scrollFactor.set(.3,.3),a.set_visible(!1),a.setGraphicSize(.85*a.get_width()|0),a.updateHitbox(),a.set_antialiasing(!0),this.phillyCityLights.add(a),(a=new M(i.x).loadGraphic(N.getPath("images/philly/win4.png","IMAGE",null))).scrollFactor.set(.3,.3),a.set_visible(!1),a.setGraphicSize(.85*a.get_width()|0),a.updateHitbox(),a.set_antialiasing(!0),this.phillyCityLights.add(a),i=new M(-40,50).loadGraphic(N.getPath("images/philly/behindTrain.png","IMAGE",null)),this.add(i),this.phillyTrain=new M(2e3,360).loadGraphic(N.getPath("images/philly/train.png","IMAGE",null)),this.add(this.phillyTrain),this.trainSound=(new gd).loadEmbedded(N.sound("train_passes")),n.sound.list.add(this.trainSound),i=new M(-40,i.y).loadGraphic(N.getPath("images/philly/street.png","IMAGE",null)),this.add(i)):"milf"==L.SONG.song.toLowerCase()||"satin-panties"==L.SONG.song.toLowerCase()||"high"==L.SONG.song.toLowerCase()?(L.curStage="limo",this.defaultCamZoom=.9,(i=new M(-120,-50).loadGraphic(N.getPath("images/limo/limoSunset.png","IMAGE",null))).scrollFactor.set(.1,.1),this.add(i),(a=new M(-200,480)).set_frames(lb.fromSparrow(N.getPath("images/limo/bgLimo.png","IMAGE",i=null),N.getPath("images/limo/bgLimo.xml","TEXT",i))),a.animation.addByPrefix("drive","background limo pink",24),a.animation.play("drive"),a.scrollFactor.set(.4,.4),this.add(a),this.grpLimoDancers=new Aa,this.add(this.grpLimoDancers),(i=new re(130,a.y-400)).scrollFactor.set(.4,.4),this.grpLimoDancers.add(i),(i=new re(500,a.y-400)).scrollFactor.set(.4,.4),this.grpLimoDancers.add(i),(i=new re(870,a.y-400)).scrollFactor.set(.4,.4),this.grpLimoDancers.add(i),(i=new re(1240,a.y-400)).scrollFactor.set(.4,.4),this.grpLimoDancers.add(i),(i=new re(1610,a.y-400)).scrollFactor.set(.4,.4),this.grpLimoDancers.add(i),new M(-500,-600).loadGraphic(N.getPath("images/limo/limoOverlay.png","IMAGE",null)).set_alpha(.5),i=lb.fromSparrow(N.getPath("images/limo/limoDrive.png","IMAGE",i=null),N.getPath("images/limo/limoDrive.xml","TEXT",i)),this.limo=new M(-120,550),this.limo.set_frames(i),this.limo.animation.addByPrefix("drive","Limo stage",24),this.limo.animation.play("drive"),this.limo.set_antialiasing(!0),this.fastCar=new M(-300,160).loadGraphic(N.getPath("images/limo/fastCarLol.png","IMAGE",null))):"cocoa"==L.SONG.song.toLowerCase()||"eggnog"==L.SONG.song.toLowerCase()?(L.curStage="mall",this.defaultCamZoom=.8,(a=new M(-1e3,-500).loadGraphic(N.getPath("images/christmas/bgWalls.png","IMAGE",null))).set_antialiasing(!0),a.scrollFactor.set(.2,.2),a.set_active(!1),a.setGraphicSize(.8*a.get_width()|0),a.updateHitbox(),this.add(a),this.upperBoppers=new M(-240,-90),this.upperBoppers.set_frames(lb.fromSparrow(N.getPath("images/christmas/upperBop.png","IMAGE",i=null),N.getPath("images/christmas/upperBop.xml","TEXT",i))),this.upperBoppers.animation.addByPrefix("bop","Upper Crowd Bob",24,!1),this.upperBoppers.set_antialiasing(!0),this.upperBoppers.scrollFactor.set(.33,.33),this.upperBoppers.setGraphicSize(.85*this.upperBoppers.get_width()|0),this.upperBoppers.updateHitbox(),this.add(this.upperBoppers),(i=new M(-1100,-600).loadGraphic(N.getPath("images/christmas/bgEscalator.png","IMAGE",null))).set_antialiasing(!0),i.scrollFactor.set(.3,.3),i.set_active(!1),i.setGraphicSize(.9*i.get_width()|0),i.updateHitbox(),this.add(i),(i=new M(370,-250).loadGraphic(N.getPath("images/christmas/christmasTree.png","IMAGE",null))).set_antialiasing(!0),i.scrollFactor.set(.4,.4),this.add(i),this.bottomBoppers=new M(-300,140),this.bottomBoppers.set_frames(lb.fromSparrow(N.getPath("images/christmas/bottomBop.png","IMAGE",i=null),N.getPath("images/christmas/bottomBop.xml","TEXT",i))),this.bottomBoppers.animation.addByPrefix("bop","Bottom Level Boppers",24,!1),this.bottomBoppers.set_antialiasing(!0),this.bottomBoppers.scrollFactor.set(.9,.9),this.bottomBoppers.setGraphicSize(0|this.bottomBoppers.get_width()),this.bottomBoppers.updateHitbox(),this.add(this.bottomBoppers),(i=new M(-600,700).loadGraphic(N.getPath("images/christmas/fgSnow.png","IMAGE",null))).set_active(!1),i.set_antialiasing(!0),this.add(i),this.santa=new M(-840,150),this.santa.set_frames(lb.fromSparrow(N.getPath("images/christmas/santa.png","IMAGE",i=null),N.getPath("images/christmas/santa.xml","TEXT",i))),this.santa.animation.addByPrefix("idle","santa idle in fear",24,!1),this.santa.set_antialiasing(!0),this.add(this.santa)):"winter-horrorland"==L.SONG.song.toLowerCase()?(L.curStage="mallEvil",(a=new M(-400,-500).loadGraphic(N.getPath("images/christmas/evilBG.png","IMAGE",null))).set_antialiasing(!0),a.scrollFactor.set(.2,.2),a.set_active(!1),a.setGraphicSize(.8*a.get_width()|0),a.updateHitbox(),this.add(a),(i=new M(300,-300).loadGraphic(N.getPath("images/christmas/evilTree.png","IMAGE",null))).set_antialiasing(!0),i.scrollFactor.set(.2,.2),this.add(i),(i=new M(-200,700).loadGraphic(N.getPath("images/christmas/evilSnow.png","IMAGE",null))).set_antialiasing(!0),this.add(i)):"senpai"==L.SONG.song.toLowerCase()||"roses"==L.SONG.song.toLowerCase()?(L.curStage="school",(a=(new M).loadGraphic(N.getPath("images/weeb/weebSky.png","IMAGE",null))).scrollFactor.set(.1,.1),this.add(a),(r=new M(-200,0).loadGraphic(N.getPath("images/weeb/weebSchool.png","IMAGE",null))).scrollFactor.set(.6,.9),this.add(r),(l=new M(-200).loadGraphic(N.getPath("images/weeb/weebStreet.png","IMAGE",null))).scrollFactor.set(.95,.95),this.add(l),(o=new M(-30,130).loadGraphic(N.getPath("images/weeb/weebTreesBack.png","IMAGE",null))).scrollFactor.set(.9,.9),this.add(o),h=new M(-580,-800),i=lb.fromSpriteSheetPacker(N.getPath("images/weeb/weebTrees.png","IMAGE",i=null),N.getPath("images/weeb/weebTrees.txt","TEXT",i)),h.set_frames(i),h.animation.add("treeLoop",[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18],12),h.animation.play("treeLoop"),h.scrollFactor.set(.85,.85),this.add(h),(_=new M(-200,-40)).set_frames(lb.fromSparrow(N.getPath("images/weeb/petals.png","IMAGE",i=null),N.getPath("images/weeb/petals.xml","TEXT",i))),_.animation.addByPrefix("leaves","PETALS ALL",24,!0),_.animation.play("leaves"),_.scrollFactor.set(.85,.85),this.add(_),i=6*a.get_width()|0,a.setGraphicSize(i),r.setGraphicSize(i),l.setGraphicSize(i),h.setGraphicSize(1.4*i|0),o.setGraphicSize(.8*i|0),_.setGraphicSize(i),o.updateHitbox(),a.updateHitbox(),r.updateHitbox(),l.updateHitbox(),h.updateHitbox(),_.updateHitbox(),this.bgGirls=new Mc(-100,190),this.bgGirls.scrollFactor.set(.9,.9),"roses"==L.SONG.song.toLowerCase()&&this.bgGirls.getScared(),this.bgGirls.setGraphicSize(this.bgGirls.get_width()*L.daPixelZoom|0),this.bgGirls.updateHitbox(),this.add(this.bgGirls)):"thorns"==L.SONG.song.toLowerCase()?(L.curStage="schoolEvil",new yl(wt.ALL,2,-1,3,2),new yl(wt.ALL,2,-1,5,2),(a=new M(400,200)).set_frames(lb.fromSparrow(N.getPath("images/weeb/animatedEvilSchool.png","IMAGE",i=null),N.getPath("images/weeb/animatedEvilSchool.xml","TEXT",i))),a.animation.addByPrefix("idle","background 2",24),a.animation.play("idle"),a.scrollFactor.set(.8,.9),a.scale.set(6,6),this.add(a)):"improbable-outset"==L.SONG.song.toLowerCase()||"madness"==L.SONG.song.toLowerCase()?(this.defaultCamZoom=.75,L.curStage="nevada",this.tstatic.set_antialiasing(!0),this.tstatic.scrollFactor.set(0,0),this.tstatic.setGraphicSize(8.3*this.tstatic.get_width()|0),this.tstatic.animation.add("static",[0,1,2],24,!0),this.tstatic.animation.play("static"),this.tstatic.set_alpha(0),(a=new M(-350,-300).loadGraphic(N.getPath("images/red.png","IMAGE",null))).set_antialiasing(!0),a.scrollFactor.set(.9,.9),(i="madness"!=L.SONG.song.toLowerCase()?(this.add(a),new M(-1100,-460).loadGraphic(N.getPath("images/island_but_dumb.png","IMAGE",null))):new M(-1100,-460).loadGraphic(N.getPath("images/island_but_rocks_float.png","IMAGE",null))).setGraphicSize(1.4*i.get_width()|0),i.set_antialiasing(!0),i.scrollFactor.set(.9,.9),i.set_active(!1),this.add(i),this.MAINLIGHT=new M(-470,-150).loadGraphic(N.getPath("images/hue.png","IMAGE",null)),this.MAINLIGHT.setGraphicSize(.9*this.MAINLIGHT.get_width()|0),this.MAINLIGHT.set_blend(dg.fromString("screen")),this.MAINLIGHT.updateHitbox(),this.MAINLIGHT.set_antialiasing(!0),this.MAINLIGHT.scrollFactor.set(1.2,1.2)):"hellclown"==L.SONG.song.toLowerCase()?(this.defaultCamZoom=.35,L.curStage="nevadaSpook",this.tstatic.set_antialiasing(!0),this.tstatic.scrollFactor.set(0,0),this.tstatic.setGraphicSize(10*this.tstatic.get_width()|0),this.tstatic.screenCenter(af.Y),this.tstatic.animation.add("static",[0,1,2],24,!0),this.tstatic.animation.play("static"),this.tstatic.set_alpha(0),(a=new M(-1e3,-1e3).loadGraphic(N.getPath("images/fourth/bg.png","IMAGE",null))).set_antialiasing(!0),a.scrollFactor.set(.9,.9),a.setGraphicSize(5*a.get_width()|0),a.set_active(!1),this.add(a),(i=new M(-2e3,-400).loadGraphic(N.getPath("images/hellclwn/island_but_red.png","IMAGE",null))).setGraphicSize(2.6*i.get_width()|0),i.set_antialiasing(!0),i.scrollFactor.set(.9,.9),i.set_active(!1),this.add(i),this.hank=new M(60,-170),this.hank.set_frames(lb.fromSparrow(N.getPath("images/hellclwn/Hank.png","IMAGE",i=null),N.getPath("images/hellclwn/Hank.xml","TEXT",i))),this.hank.animation.addByPrefix("dance","Hank",24),this.hank.animation.play("dance"),this.hank.scrollFactor.set(.9,.9),this.hank.setGraphicSize(1.55*this.hank.get_width()|0),this.hank.set_antialiasing(!0),this.add(this.hank)):("expurgation"==L.SONG.song.toLowerCase()?(this.defaultCamZoom=.55,L.curStage="auditorHell",this.tstatic.set_antialiasing(!0),this.tstatic.scrollFactor.set(0,0),this.tstatic.setGraphicSize(8.3*this.tstatic.get_width()|0),this.tstatic.animation.add("static",[0,1,2],24,!0),this.tstatic.animation.play("static"),this.tstatic.set_alpha(0),(a=new M(-10,-10).loadGraphic(N.getPath("images/fourth/bg.png","IMAGE",null))).set_antialiasing(!0),a.scrollFactor.set(.9,.9),a.set_active(!1),a.setGraphicSize(4*a.get_width()|0),this.add(a),t.set_antialiasing(!0),t.scrollFactor.set(.9,.9),d.set_antialiasing(!0),d.scrollFactor.set(.9,.9),d.setGraphicSize(1.3*d.get_width()|0),t.setGraphicSize(1.55*t.get_width()|0),e.set_antialiasing(!0),e.scrollFactor.set(.9,.9),e.setGraphicSize(1.55*e.get_width()|0),(i=new M(1350,-690).loadGraphic(N.getPath("images/fourth/Energywall.png","IMAGE",null))).set_antialiasing(!0),i.scrollFactor.set(.9,.9),this.add(i),(i=new M(-350,-355).loadGraphic(N.getPath("images/fourth/daBackground.png","IMAGE",null))).set_antialiasing(!0),i.scrollFactor.set(.9,.9),i.setGraphicSize(1.55*i.get_width()|0)):(this.defaultCamZoom=.9,L.curStage="stage",(a=new M(-600,-200).loadGraphic(N.getPath("images/stageback.png","IMAGE",null))).set_antialiasing(!0),a.scrollFactor.set(.9,.9),a.set_active(!1),this.add(a),(i=new M(-650,600).loadGraphic(N.getPath("images/stagefront.png","IMAGE",null))).setGraphicSize(1.1*i.get_width()|0),i.updateHitbox(),i.set_antialiasing(!0),i.scrollFactor.set(.9,.9),i.set_active(!1),this.add(i),(i=new M(-500,-300).loadGraphic(N.getPath("images/stagecurtains.png","IMAGE",null))).setGraphicSize(.9*i.get_width()|0),i.updateHitbox(),i.set_antialiasing(!0),i.scrollFactor.set(1.3,1.3),i.set_active(!1)),this.add(i)),i="gf",L.curStage){case"auditorHell":i="gf-tied";break;case"limo":i="gf-car";break;case"mall":case"mallEvil":i="gf-christmas";break;case"nevadaSpook":i="gf-hell";break;case"school":i="gf-pixel";break;case"schoolEvil":i="gf-pixel"}switch(this.gf=new Xc(400,130,i),this.gf.scrollFactor.set(.95,.95),L.dad=new Xc(100,100,L.SONG.player2),i=new ja(L.dad.getGraphicMidpoint().x,L.dad.getGraphicMidpoint().y),L.SONG.player2){case"dad":(a=i).set_x(a.x+400);break;case"exTricky":L.dad.setGraphicSize(1.9*L.dad.get_width()|0),(a=L.dad).set_x(a.x-50),(a=L.dad).set_y(a.y-200),(a=this.gf).set_x(a.x+345),(a=this.gf).set_y(a.y-25),L.dad.set_visible(!1);break;case"gf":L.dad.setPosition(this.gf.x,this.gf.y),this.gf.set_visible(!1),L.isStoryMode&&((a=i).set_x(a.x+600),this.tweenCamIn());break;case"monster":(a=L.dad).set_y(a.y+100);break;case"monster-christmas":(a=L.dad).set_y(a.y+130);break;case"parents-christmas":(a=L.dad).set_x(a.x-500);break;case"pico":(a=i).set_x(a.x+600),(a=L.dad).set_y(a.y+300);break;case"senpai":case"senpai-angry":(a=L.dad).set_x(a.x+150),(a=L.dad).set_y(a.y+360),i.set(L.dad.getGraphicMidpoint().x+300,L.dad.getGraphicMidpoint().y);break;case"spirit":(a=L.dad).set_x(a.x-150),(a=L.dad).set_y(a.y+100),i.set(L.dad.getGraphicMidpoint().x+300,L.dad.getGraphicMidpoint().y);break;case"spooky":(a=L.dad).set_y(a.y+200);break;case"tricky":(a=i).set_x(a.x+400),(a=i).set_y(a.y+600);break;case"trickyH":L.dad.setGraphicSize(2*L.dad.get_width()|0),i.set(L.dad.getGraphicMidpoint().x,L.dad.getGraphicMidpoint().y+500),(a=L.dad).set_y(a.y-1300),(a=L.dad).set_x(a.x-1100),(a=this.gf).set_x(a.x-380);break;case"trickyMask":(a=i).set_x(a.x+400)}switch(a=L.SONG.player1,"nevadaSpook"==L.curStage&&(a="bf-hell"),this.boyfriend=new Fc(770,450,a),L.curStage){case"auditorHell":(a=this.boyfriend).set_y(a.y-160),(a=this.boyfriend).set_x(a.x+350);break;case"limo":(a=this.boyfriend).set_y(a.y-220),(a=this.boyfriend).set_x(a.x+260),this.resetFastCar(),this.add(this.fastCar);break;case"mall":(a=this.boyfriend).set_x(a.x+200);break;case"mallEvil":(a=this.boyfriend).set_x(a.x+320),(a=L.dad).set_y(a.y-80);break;case"nevada":(a=this.boyfriend).set_y(a.y),(a=this.boyfriend).set_x(a.x+260);break;case"school":(a=this.boyfriend).set_x(a.x+200),(a=this.boyfriend).set_y(a.y+220),(a=this.gf).set_x(a.x+180),(a=this.gf).set_y(a.y+300);break;case"schoolEvil":a=new An(L.dad,null,4,24,.3,.069),this.add(a),(a=this.boyfriend).set_x(a.x+200),(a=this.boyfriend).set_y(a.y+220),(a=this.gf).set_x(a.x+180),(a=this.gf).set_y(a.y+300)}if(this.add(this.gf),"limo"==L.curStage&&this.add(this.limo),"auditorHell"==L.curStage&&this.add(t),"trickyH"==L.dad.curCharacter&&L.dad.addOtherFrames(),this.add(L.dad),"auditorHell"==L.curStage&&(this.cloneOne=new M(0,0),this.cloneTwo=new M(0,0),this.cloneOne.set_frames(E.cachedInstance.fromSparrow("cln","fourth/Clone")),this.cloneTwo.set_frames(E.cachedInstance.fromSparrow("cln","fourth/Clone")),this.cloneOne.set_alpha(0),this.cloneTwo.set_alpha(0),this.cloneOne.animation.addByPrefix("clone","Clone",24,!1),this.cloneTwo.animation.addByPrefix("clone","Clone",24,!1),this.add(this.cloneOne),this.add(this.cloneTwo),this.add(e),this.add(d),this.add(L.dad.exSpikes)),this.add(this.boyfriend),"trickyH"==L.dad.curCharacter&&(this.gf.setGraphicSize(.8*this.gf.get_width()|0),this.boyfriend.setGraphicSize(.8*this.boyfriend.get_width()|0),(a=this.gf).set_x(a.x+220)),"nevada"==L.curStage&&this.add(this.MAINLIGHT),(e=new Dj(!1,this.dialogue)).scrollFactor.set(),e.finishThing=y(this,this.startCountdown),ea.songPosition=-5e3,this.strumLine=new M(0,50).makeGraphic(n.width,10),this.strumLine.scrollFactor.set(),n.save.data.downscroll&&this.strumLine.set_y(n.height-165),this.strumLineNotes=new Aa,this.add(this.strumLineNotes),this.playerStrums=new Aa,this.generateSong(L.SONG.song),this.camFollow=new Ea(0,0,1,1),this.camFollow.setPosition(i.x,i.y),"trickyH"==L.dad.curCharacter&&this.camFollow.setPosition(L.dad.getMidpoint().x+150,L.dad.getMidpoint().y+265),null!=L.prevCamFollow&&(this.camFollow=L.prevCamFollow,L.prevCamFollow=null),this.add(this.camFollow),n.camera.follow(this.camFollow,zq.LOCKON,.008),n.camera.set_zoom(this.defaultCamZoom),t=n.camera,d=this.camFollow.getPosition(),t.scroll.set(d.x-.5*t.width,d.y-.5*t.height),d._weak&&d.put(),t=n.worldBounds,i=d=0,a=n.width,null==(r=n.height)&&(r=0),null==a&&(a=0),null==i&&(i=0),t.x=d=null==d?0:d,t.y=i,t.width=a,t.height=r,n.fixedTimestep=!1,this.healthBarBG=new M(0,.9*n.height).loadGraphic(N.getPath("images/healthBar.png","IMAGE",null)),n.save.data.downscroll&&this.healthBarBG.set_y(50),this.healthBarBG.screenCenter(af.X),this.healthBarBG.scrollFactor.set(),this.add(this.healthBarBG),this.healthBar=new fj(this.healthBarBG.x+4,this.healthBarBG.y+4,qi.RIGHT_TO_LEFT,this.healthBarBG.get_width()-8|0,this.healthBarBG.get_height()-8|0,this,"health",0,2),this.healthBar.scrollFactor.set(),this.healthBar.createFilledBar(-65536,-10027213),this.add(this.healthBar),this.scoreTxt=new Vb(0,0,0,"",20),this.scoreTxt.setFormat("assets/fonts/vcr.ttf",16,-1,"right",se.OUTLINE,-16777216),this.scoreTxt.scrollFactor.set(),this.scoreTxt.screenCenter(),(a=this.scoreTxt).set_x(a.x-200),L.theFunne||(a=this.scoreTxt).set_x(a.x-75),this.scoreTxt.set_y(this.healthBarBG.y+50),this.add(this.scoreTxt),this.replayTxt=new Vb(this.healthBarBG.x+this.healthBarBG.get_width()/2-75,this.healthBarBG.y+(n.save.data.downscroll?100:-100),0,"REPLAY",20),this.replayTxt.setFormat("assets/fonts/vcr.ttf",42,-1,"right",se.OUTLINE,-16777216),this.replayTxt.scrollFactor.set(),L.loadRep&&this.add(this.replayTxt),this.iconP1=new Cj(L.SONG.player1,!0),this.iconP1.set_y(this.healthBar.y-this.iconP1.get_height()/2),this.add(this.iconP1),this.iconP2=new Cj(L.SONG.player2,!1),this.iconP2.set_y(this.healthBar.y-this.iconP2.get_height()/2),this.add(this.iconP2),this.strumLineNotes.set_cameras([this.camHUD]),this.notes.set_cameras([this.camHUD]),this.healthBar.set_cameras([this.camHUD]),this.healthBarBG.set_cameras([this.camHUD]),this.iconP1.set_cameras([this.camHUD]),this.iconP2.set_cameras([this.camHUD]),this.scoreTxt.set_cameras([this.camHUD]),e.set_cameras([this.camHUD]),this.startingSong=!0,"nevada"!=L.curStage&&"nevadaSpook"!=L.curStage&&"auditorHell"!=L.curStage||this.add(this.tstatic),"auditorHell"==L.curStage&&this.tstatic.set_alpha(.1),"nevadaSpook"!=L.curStage&&"auditorHell"!=L.curStage||(this.tstatic.setGraphicSize(12*this.tstatic.get_width()|0),(a=this.tstatic).set_x(a.x+600)),L.isStoryMode)switch(this.curSong.toLowerCase()){case"improbable-outset":this.camFollow.setPosition(this.boyfriend.getMidpoint().x+70,this.boyfriend.getMidpoint().y-50),L.playCutscene?(this.trickyCutscene(),L.playCutscene=!1):this.startCountdown();break;case"roses":n.sound.play(N.sound("ANGRY")),this.schoolIntro(e);break;case"senpai":case"thorns":this.schoolIntro(e);break;case"winter-horrorland":var f=new M(0,0).makeGraphic(2*n.width|0,2*n.height|0,-16777216);this.add(f),f.scrollFactor.set(),this.camHUD.set_visible(!1),(new Oc).start(.1,function(t){s.remove(f),n.sound.play(N.sound("Lights_Turn_On")),s.camFollow.set_y(-2050),(t=s.camFollow).set_x(t.x+200),t=n.camera;var e=s.camFollow.getPosition();t.scroll.set(e.x-.5*t.width,e.y-.5*t.height),e._weak&&e.put(),n.camera.set_zoom(1.5),(new Oc).start(.8,function(t){s.camHUD.set_visible(!0),s.remove(f),$a.tween(n.camera,{zoom:s.defaultCamZoom},2.5,{ease:Za.quadInOut,onComplete:function(t){s.startCountdown()}})})});break;default:this.startCountdown()}else"expurgation"==this.curSong.toLowerCase()?(this.camFollow.setPosition(L.dad.getMidpoint().x+150,L.dad.getMidpoint().y-100),(u=new M(0,-350)).set_frames(lb.fromSparrow(N.getPath("images/fourth/EXENTER.png","IMAGE",i=null),N.getPath("images/fourth/EXENTER.xml","TEXT",i))),u.setGraphicSize(2*u.get_width()|0),u.animation.addByPrefix("start","Entrance",24,!1),this.add(u),u.animation.play("start"),e=(new gd).loadEmbedded(N.sound("fourth/Trickyspawn")),c=(new gd).loadEmbedded(N.sound("fourth/TrickyGlitch")),e.play(),u.animation.finishCallback=function(t){null!=c.fadeTween&&c.fadeTween.cancel(),c.fadeTween=$a.num(c._volume,0,1,{onComplete:null},y(c,c.volumeTween)),L.dad.set_visible(!0),s.remove(u),s.startCountdown()},(new Oc).start(.001,function(t){24==u.animation.frameIndex?c.play():t.reset(.001)})):this.startCountdown();na.prototype.create.call(this)},doStopSign:function(t,e){null==e&&(e=!1),null==t&&(t=0);var s=this,i=new M(0,0);switch(i.set_frames(E.cachedInstance.fromSparrow("sign","fourth/mech/Sign_Post_Mechanic")),i.setGraphicSize(1.34*i.get_width()|0),i.set_cameras([this.camHUD]),t){case 0:i.animation.addByPrefix("sign","Signature Stop Sign 1",24,!1),i.set_x(n.width-350),i.set_angle(-90),i.set_y(-50);break;case 2:i.animation.addByPrefix("sign","Signature Stop Sign 3",24,!1),i.set_x(n.width-400),i.set_angle(-90),n.save.data.downscroll?i.set_y(-197.5):i.set_y(-200);break;case 3:i.animation.addByPrefix("sign","Signature Stop Sign 4",24,!1),i.set_x(n.width-600),i.set_angle(-90),i.set_y(200)}this.add(i),i.set_flipX(e),i.animation.play("sign"),i.animation.finishCallback=function(t){s.remove(i)}},totalDamageTaken:null,shouldBeDead:null,interupt:null,doGremlin:function(t,e,s){null==s&&(s=!1);var i=this;this.interupt=!1,this.grabbed=!0,this.totalDamageTaken=0;var a=new M(0,0);a.set_frames(E.cachedInstance.fromSparrow("grem","fourth/mech/HP GREMLIN")),a.setGraphicSize(.76*a.get_width()|0),a.set_cameras([this.camHUD]),a.set_x(this.iconP1.x),a.set_y(this.healthBarBG.y-325),a.animation.addByIndices("come","HP Gremlin ANIMATION",[0,1],"",24,!1),a.animation.addByIndices("grab","HP Gremlin ANIMATION",[2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24],"",24,!1),a.animation.addByIndices("hold","HP Gremlin ANIMATION",[25,26,27,28],"",24),a.animation.addByIndices("release","HP Gremlin ANIMATION",[29,30,31,32,33],"",24,!1),a.set_antialiasing(!0),this.add(a),n.save.data.downscroll&&(a.set_flipY(!0),a.set_y(a.y-150));var r=this.health,l=t/100*r,o=l/2*100,h=!1;n.sound.play(N.sound("fourth/GremlinWoosh")),a.animation.play("come"),(new Oc).start(.14,function(t){a.animation.play("grab"),$a.tween(a,{x:i.iconP1.x-140},1,{ease:Za.elasticIn,onComplete:function(t){a.animation.play("hold"),$a.tween(a,{x:i.healthBar.x+(.01*i.healthBar.get_width()*Hb.remapToRange(o,0,100,100,0)-26)-75},e,{onUpdate:function(t){!i.interupt||h||s?i.interupt&&!s||(t=r+Math.max(t._secondsSinceStart-t._delayToUse,0)/t.duration*(l-r),i.health=t=t<=0?.1:t):(h=!0,a.animation.play("release"),a.animation.finishCallback=function(t){a.set_alpha(0)}),i.shouldBeDead&&(i.health=0)},onComplete:function(t){i.interupt&&!s?i.remove(a):(a.animation.play("release"),s&&.7<=i.totalDamageTaken&&(i.health-=i.totalDamageTaken),a.animation.finishCallback=function(t){i.remove(a)}),i.grabbed=!1}})}})})},cloneOne:null,cloneTwo:null,doClone:function(t){var e=this;switch(t){case 0:if(1==this.cloneOne.alpha)break;this.cloneOne.set_x(L.dad.x-200),this.cloneOne.set_y(L.dad.y),this.cloneOne.set_alpha(1),this.cloneOne.animation.play("clone"),this.cloneOne.animation.finishCallback=function(t){e.cloneOne.set_alpha(0)};break;case 1:1!=this.cloneTwo.alpha&&(this.cloneTwo.set_x(L.dad.x+190),this.cloneTwo.set_y(L.dad.y),this.cloneTwo.set_alpha(1),this.cloneTwo.animation.play("clone"),this.cloneTwo.animation.finishCallback=function(t){e.cloneTwo.set_alpha(0)})}},schoolIntro:function(e){var s=this,i=new M(-100,-100).makeGraphic(2*n.width,2*n.height,-16777216);i.scrollFactor.set(),this.add(i);var a=new M(-100,-100).makeGraphic(2*n.width,2*n.height,-58575);a.scrollFactor.set();var r=new M;r.set_frames(lb.fromSparrow(N.getPath("images/weeb/senpaiCrazy.png","IMAGE",null),N.getPath("images/weeb/senpaiCrazy.xml","TEXT",null))),r.animation.addByPrefix("idle","Senpai Pre Explosion",24,!1),r.setGraphicSize(6*r.get_width()|0),r.scrollFactor.set(),r.updateHitbox(),r.screenCenter(),"roses"!=L.SONG.song.toLowerCase()&&"thorns"!=L.SONG.song.toLowerCase()||(this.remove(i),"thorns"==L.SONG.song.toLowerCase()&&this.add(a)),(new Oc).start(.3,function(t){i.set_alpha(i.alpha-.15),0<i.alpha?t.reset(.3):(null!=e?(s.inCutscene=!0,"thorns"==L.SONG.song.toLowerCase()?(s.add(r),r.set_alpha(0),(new Oc).start(.3,function(t){r.set_alpha(r.alpha+.15),r.alpha<1?t.reset():(r.animation.play("idle"),n.sound.play(N.sound("Senpai_Dies"),1,!1,null,!0,function(){s.remove(r),s.remove(a),n.camera.fade(-1,.01,!0,function(){s.add(e)},!0)}),(new Oc).start(3.2,function(t){n.camera.fade(-1,1.6,!1)}))})):s.add(e)):s.startCountdown(),s.remove(i))})},startTimer:null,perfectMode:null,bfScared:null,trickySecondCutscene:function(){var s=this,i=!1,a=new M(-300,-120).makeGraphic(2*n.width,2*n.height,-1);a.scrollFactor.set(),a.set_alpha(0);var r=new M(200,300);r.set_frames(lb.fromSparrow(N.getPath("images/trickman.png","IMAGE",null),N.getPath("images/trickman.xml","TEXT",null))),r.set_antialiasing(!0),r.animation.addByPrefix("cut1","Cutscene 1",24,!1),r.animation.addByPrefix("cut2","Cutscene 2",24,!1),r.animation.addByPrefix("cut3","Cutscene 3",24,!1),r.animation.addByPrefix("cut4","Cutscene 4",24,!1),r.animation.addByPrefix("pillar","Pillar Beam Tricky",24,!1),r.setGraphicSize(1.5*r.get_width()|0),r.set_alpha(0),this.camFollow.setPosition(L.dad.getMidpoint().x+300,this.boyfriend.getMidpoint().y-200),this.inCutscene=!0,this.startedCountdown=!1,this.canPause=L.generatedMusic=!1,n.sound.music.set_volume(0),this.vocals.set_volume(0);var l=(new gd).loadEmbedded(N.sound("honkers")),o=(new gd).loadEmbedded(N.sound("energy shot")),h=(new gd).loadEmbedded(N.sound("sound_clown_roar")),_=(new gd).loadEmbedded(N.sound("firepillar")),t=new M(-300,-120),e=2*n.width,u=2*n.height,c=qb._new(),d=255,f=t.makeGraphic(e,u,16777215&(-256&(-65281&(-16711681&c|1245184)|0)|0)|(255<(d=null==d?255:d)?255:d<0?0:d)<<24);f.scrollFactor.set(),f.set_alpha(0),(t=new Vb(300,.5*n.height,0,"TO BE CONTINUED")).setFormat("Impact",128,-65536),t.set_alpha(0),this.add(r),this.add(a),this.add(t),this.add(f);var p=!1,m=!1,g=!1;null==(t=30)&&(t=1),null==l._channel&&l.play(),null!=l.fadeTween&&l.fadeTween.cancel(),l.fadeTween=$a.num(0,1,t,{onComplete:null},y(l,l.volumeTween)),(new Oc).start(.01,function(t){var e;1==f.alpha||m?((e=f).set_alpha(e.alpha-.1),f.alpha<=.5&&(g=!0)):((e=s.camHUD).set_alpha(e.alpha-.1),(e=f).set_alpha(e.alpha+.1),1==f.alpha&&(m=!0,r.set_alpha(1),L.dad.set_alpha(0))),t.reset(.1)});var b=!1;(new Oc).start(.01,function(t){if(g){if(null!=r.animation&&null!=r.animation.get_name()||(r.animation.play("cut1"),s.resetSpookyText=!1,s.createSpookyText("YOU DO NOT KILL CLOWN",260,.9*n.height)),r.animation.get_finished()){switch(s.resetSpookyTextManual(),r.animation.get_name()){case"cut1":r.animation.play("cut2");break;case"cut2":r.animation.play("cut3"),o.play();break;case"cut3":r.animation.play("cut4"),s.resetSpookyText=!1,s.createSpookyText("CLOWN KILLS YOU!!!!!!",260,.9*n.height);var e=r;e.set_x(e.x-100);break;case"cut4":s.resetSpookyTextManual(),null!=l.fadeTween&&l.fadeTween.cancel(),l.fadeTween=$a.num(l._volume,0,1,{onComplete:null},y(l,l.volumeTween)),null==(e=4)&&(e=1),null==_._channel&&_.play(),null!=_.fadeTween&&_.fadeTween.cancel(),_.fadeTween=$a.num(0,1,e,{onComplete:null},y(_,_.volumeTween)),r.animation.play("pillar"),(e=r).set_y(e.y-670),(e=r).set_x(e.x-100)}t.reset(.1)}else t.reset(.1),104==r.animation.frameIndex&&"cut1"==r.animation.get_name()&&s.resetSpookyTextManual(),"pillar"==r.animation.get_name()&&(85<=r.animation.frameIndex&&(p=!0),n.camera.shake(.05));p&&(null!=l.fadeTween&&l.fadeTween.cancel(),l.fadeTween=$a.num(l._volume,0,1,{onComplete:null},y(l,l.volumeTween)),1!=a.alpha?(t.reset(.1),(e=a).set_alpha(e.alpha+.02),.7<=a.alpha&&!b&&(h.play(),b=!0)):i?(s.endSong(),n.camera.stopFX()):(i=!0,t.reset(5)))}else t.reset(.1)})},trickyCutscene:function(){var s=this,i=!1;L.trans=new M(400,0);var t=null;L.trans.set_frames(lb.fromSparrow(N.getPath("images/Jaws.png","IMAGE",t),N.getPath("images/Jaws.xml","TEXT",t))),L.trans.set_antialiasing(!0),L.trans.animation.addByPrefix("Close","Jaws smol",32,!1),L.trans.setGraphicSize(4.2*L.trans.get_width()|0),L.trans.scrollFactor.set();var a=!1,r=!1,e=new M(-300,-120),l=2*n.width,o=2*n.height,t=qb._new(),h=255,_=e.makeGraphic(l,o,16777215&(-256&(-65281&(-16711681&t|1245184)|0)|0)|(255<(h=null==h?255:h)?255:h<0?0:h)<<24);_.scrollFactor.set(),_.set_alpha(0),e=new M(-300,-120),l=2*n.width,o=2*n.height,t=qb._new();var u=e.makeGraphic(l,o,16777215&(-256&(-65281&(-16711681&t|1245184)|0)|0)|((h=255)<(h=null==h?255:h)?255:h<0?0:h)<<24);u.scrollFactor.set(),u.set_alpha(0),e=new M(-300,-120),l=2*n.width,o=2*n.height,t=qb._new();var c=e.makeGraphic(l,o,16777215&(-256&(-65281&(-16711681&t|1245184)|0)|0)|((h=255)<(h=null==h?255:h)?255:h<0?0:h)<<24);c.scrollFactor.set(),c.set_alpha(1),this.inCutscene=!0,L.dad.set_alpha(0),this.gf.set_alpha(0),this.remove(this.boyfriend);var d=new M(260,.7*n.height);d.set_frames(lb.fromSparrow(N.getPath("images/somewhere.png","IMAGE",t=null),N.getPath("images/somewhere.xml","TEXT",t))),d.set_antialiasing(!0),d.animation.addByPrefix("nevada","somewhere idfk",24,!1);var f=new M(-50,200);f.set_frames(lb.fromSparrow(N.getPath("images/intro.png","IMAGE",t=null),N.getPath("images/intro.xml","TEXT",t))),f.set_antialiasing(!0),f.animation.addByPrefix("fuckyou","Symbol",24,!1),f.setGraphicSize(1.2*f.get_width()|0),d.setGraphicSize(.5*d.get_width()|0),this.add(f);var p=(new gd).loadEmbedded(N.sound("ground")),m=(new gd).loadEmbedded(N.sound("wind")),g=(new gd).loadEmbedded(N.sound("cloth")),b=(new gd).loadEmbedded(N.sound("metal")),S=(new gd).loadEmbedded(N.sound("trickyIsTriggered"));this.camHUD.set_visible(!1),this.add(this.boyfriend),this.add(c),this.add(_),this.add(u),this.add(d),this.add(L.trans),L.trans.animation.play("Close",!1,!1,18),null!=(t=L.trans.animation)._curAnim&&t._curAnim.pause(),(new Oc).start(.01,function(t){var e;r?(!r||18!=L.trans.animation.frameIndex||null!=(e=L.trans.animation)._curAnim&&(e._curAnim.paused=!1),L.trans.animation.get_finished()?(new Oc).start(.01,function(t){var e;if(s.boyfriend.animation.get_finished()&&!s.bfScared?s.boyfriend.animation.play("idle"):s.boyfriend.animation.get_finished()&&s.boyfriend.animation.play("scared"),null==d.animation._curAnim&&d.animation.play("nevada"),d.animation.get_finished()||"nevada"!=d.animation._curAnim.name||(41<=d.animation.frameIndex&&0!=c.alpha&&(e=c).set_alpha(e.alpha-.1),34==d.animation.frameIndex&&(null==m._channel&&m.play(),null!=m.fadeTween&&m.fadeTween.cancel(),m.fadeTween=$a.num(0,1,1,{onComplete:null},y(m,m.volumeTween))),t.reset(.1)),null==f.animation._curAnim&&0==c.alpha&&(s.remove(c),f.animation.play("fuckyou",!1,!1,40)),f.animation.get_finished()||"fuckyou"!=f.animation._curAnim.name||0!=c.alpha||a)0==c.alpha&&a&&(1!=_.alpha?(0!=s.tstatic.alpha&&s.manuallymanuallyresetspookytextmanual(),(e=_).set_alpha(e.alpha+.4),t.reset(.1)):1==_.alpha&&_.visible?(_.set_visible(!1),u.set_alpha(1),s.remove(f),L.dad.set_alpha(1),s.remove(c),s.remove(_),s.remove(u),L.dad.set_alpha(1),s.gf.set_alpha(1),s.add(_),s.add(u),s.remove(s.tstatic),s.add(s.tstatic),t.reset(.3),n.camera.stopFX(),s.camHUD.set_visible(!0)):0!=u.alpha?((e=u).set_alpha(e.alpha-.1),t.reset(.3)):(null!=m.fadeTween&&m.fadeTween.cancel(),m.fadeTween=$a.num(m._volume,0,1,{onComplete:null},y(m,m.volumeTween)),s.startCountdown()));else{switch(t.reset(.01),f.animation.frameIndex){case 73:p.play();break;case 84:b.play();break;case 170:i||(s.resetSpookyText=!1,s.createSpookyText("OMFG CLOWN!!!!",260,.9*n.height),i=!0),g.play();break;case 192:s.resetSpookyTextManual(),0!=s.tstatic.alpha&&s.manuallymanuallyresetspookytextmanual(),null==S._channel&&S.play(),null!=S.fadeTween&&S.fadeTween.cancel(),S.fadeTween=$a.num(0,1,1,{onComplete:null},y(S,S.volumeTween));break;case 219:null!=S.fadeTween&&S.fadeTween.cancel(),S.fadeTween=$a.num(S._volume,0,1,{onComplete:null},y(S,S.volumeTween))}190==f.animation.frameIndex&&(s.bfScared=!0),115<=f.animation.frameIndex&&f.animation.frameIndex<200?(s.camFollow.setPosition(L.dad.getMidpoint().x+150,s.boyfriend.getMidpoint().y+50),n.camera.zoom<1.1?(e=n.camera).set_zoom(e.zoom+.01):n.camera.set_zoom(1.1)):200<f.animation.frameIndex&&n.camera.zoom!=s.defaultCamZoom&&(n.camera.shake(.01,3),n.camera.zoom<s.defaultCamZoom||s.camFollow.y<s.boyfriend.getMidpoint().y-50?(n.camera.set_zoom(s.defaultCamZoom),s.camFollow.set_y(s.boyfriend.getMidpoint().y-50)):((e=n.camera).set_zoom(e.zoom-.008),t=s.camFollow,e=L.dad.getMidpoint(),t.set_y(e.set_y(e.y-1)))),235<=f.animation.frameIndex&&(a=!0)}}):(30==L.trans.animation.frameIndex&&L.trans.set_alpha(0),t.reset(.1))):(t.reset(1.5),r=!0)})},startCountdown:function(){var o=this;this.inCutscene=!1,this.generateStaticArrows(0),this.generateStaticArrows(1),this.talking=!1,this.startedCountdown=!0,ea.songPosition=0,ea.songPosition-=5*ea.crochet;var h=0;this.startTimer=(new Oc).start(ea.crochet/1e3,function(t){h<4&&(L.dad.dance(),o.gf.dance(),o.boyfriend.playAnim("idle")),(t=Object.create(null)).default=["ready","set","go"],t.school=["weeb/pixelUI/ready-pixel","weeb/pixelUI/set-pixel","weeb/pixelUI/date-pixel"],t.schoolEvil=["weeb/pixelUI/ready-pixel","weeb/pixelUI/set-pixel","weeb/pixelUI/date-pixel"];for(var e=t.default,s=va.keysIterator(t);s.hasNext();){var i=s.next();i==L.curStage&&(e=t[i])}switch(h){case 0:n.sound.play(N.sound("intro3"),.6);break;case 1:var a=(new M).loadGraphic(N.getPath("images/"+e[0]+".png","IMAGE",null));a.scrollFactor.set(),a.updateHitbox(),Y.startsWith(L.curStage,"school")&&a.setGraphicSize(a.get_width()*L.daPixelZoom|0),a.screenCenter(),o.add(a),$a.tween(t=a,{y:t.set_y(t.y+100),alpha:0},ea.crochet/1e3,{ease:Za.cubeInOut,onComplete:function(t){a.destroy()}}),n.sound.play(N.sound("intro2"),.6);break;case 2:var r=(new M).loadGraphic(N.getPath("images/"+e[1]+".png","IMAGE",null));r.scrollFactor.set(),Y.startsWith(L.curStage,"school")&&r.setGraphicSize(r.get_width()*L.daPixelZoom|0),r.screenCenter(),o.add(r),$a.tween(t=r,{y:t.set_y(t.y+100),alpha:0},ea.crochet/1e3,{ease:Za.cubeInOut,onComplete:function(t){r.destroy()}}),n.sound.play(N.sound("intro1"),.6);break;case 3:var l=(new M).loadGraphic(N.getPath("images/"+e[2]+".png","IMAGE",null));l.scrollFactor.set(),Y.startsWith(L.curStage,"school")&&l.setGraphicSize(l.get_width()*L.daPixelZoom|0),l.updateHitbox(),l.screenCenter(),o.add(l),$a.tween(t=l,{y:t.set_y(t.y+100),alpha:0},ea.crochet/1e3,{ease:Za.cubeInOut,onComplete:function(t){l.destroy()}}),n.sound.play(N.sound("introGo"),.6)}h+=1},5),"expurgation"==L.SONG.song.toLowerCase()&&(new Oc).start(25,function(t){o.curStep<2400&&(o.canPause&&!o.paused&&1.5<=o.health&&!o.grabbed&&o.doGremlin(40,3),t.reset(25))})},grabbed:null,previousFrameTime:null,lastReportedPlayheadPosition:null,songTime:null,startSong:function(){var e=this;this.startingSong=!1,this.previousFrameTime=n.game.ticks,this.lastReportedPlayheadPosition=0,this.paused||n.sound.playMusic("songs:assets/songs/"+L.SONG.song.toLowerCase()+"/Inst.mp3",1,!1),-1!=L.SONG.song.toLowerCase().indexOf("madness")&&L.isStoryMode?n.sound.music.onComplete=y(this,this.trickySecondCutscene):n.sound.music.onComplete=y(this,this.endSong),this.vocals.play(),(new Oc).start(.3,function(t){e.paused||e.resyncVocals()})},debugNum:null,generateSong:function(t){var e;t=L.SONG,ea.changeBPM(t.bpm),this.curSong=t.song,L.SONG.needsVoices?(e="songs:assets/songs/"+L.SONG.song.toLowerCase()+"/Voices.mp3",this.vocals=(new gd).loadEmbedded(e)):this.vocals=new gd,n.sound.list.add(this.vocals),this.notes=new Aa,this.add(this.notes),t=t.notes;for(var s=e=0;s<t.length;){var i=t[s];++s;for(var a=[0,1,2,3,8,9,10,11],r=0,l=i.sectionNotes;r<l.length;){var o=l[r];++r;var h=o[0],_=0|o[1],u=i.mustHitSection;-1==a.indexOf(o[1])&&(u=!i.mustHitSection);var c=0<this.unspawnNotes.length?this.unspawnNotes[this.unspawnNotes.length-1|0]:null,d=new Nd(h,_,c);d.sustainLength=o[2],d.scrollFactor.set(0,0);var f=d.sustainLength;for(f/=ea.stepCrochet,this.unspawnNotes.push(d),o=0,f=Math.floor(f);o<f;){var p=o++,c=this.unspawnNotes[this.unspawnNotes.length-1|0];(c=new Nd(h+ea.stepCrochet*p+ea.stepCrochet,_,c,!0)).scrollFactor.set(),this.unspawnNotes.push(c),c.mustPress=u,c.mustPress&&c.set_x(c.x+n.width/2)}d.mustPress=u,d.mustPress&&(h=d).set_x(h.x+n.width/2)}++e}this.unspawnNotes.sort(y(this,this.sortByShit)),L.generatedMusic=!0},sortByShit:function(t,e){var n=0;return(t=t.strumTime)<(e=e.strumTime)?n=-1:e<t&&(n=1),n},generateStaticArrows:function(t){for(var e=0;e<4;){var s=e++,i=new M(0,this.strumLine.y);switch(L.curStage){case"school":case"schoolEvil":switch(i.loadGraphic(N.getPath("images/weeb/pixelUI/arrows-pixels.png","IMAGE",null),!0,17,17),i.animation.add("green",[6]),i.animation.add("red",[7]),i.animation.add("blue",[5]),i.animation.add("purplel",[4]),i.setGraphicSize(i.get_width()*L.daPixelZoom|0),i.updateHitbox(),i.set_antialiasing(!1),Math.abs(s)){case 0:var a=i;a.set_x(a.x+0*Nd.swagWidth),i.animation.add("static",[0]),i.animation.add("pressed",[4,8],12,!1),i.animation.add("confirm",[12,16],24,!1);break;case 1:(a=i).set_x(a.x+Nd.swagWidth),i.animation.add("static",[1]),i.animation.add("pressed",[5,9],12,!1),i.animation.add("confirm",[13,17],24,!1);break;case 2:(a=i).set_x(a.x+2*Nd.swagWidth),i.animation.add("static",[2]),i.animation.add("pressed",[6,10],12,!1),i.animation.add("confirm",[14,18],12,!1);break;case 3:(a=i).set_x(a.x+3*Nd.swagWidth),i.animation.add("static",[3]),i.animation.add("pressed",[7,11],12,!1),i.animation.add("confirm",[15,19],24,!1)}break;default:switch(i.set_frames(lb.fromSparrow(N.getPath("images/NOTE_assets.png","IMAGE",null),N.getPath("images/NOTE_assets.xml","TEXT",null))),i.animation.addByPrefix("green","arrowUP"),i.animation.addByPrefix("blue","arrowDOWN"),i.animation.addByPrefix("purple","arrowLEFT"),i.animation.addByPrefix("red","arrowRIGHT"),i.set_antialiasing(!0),i.setGraphicSize(.7*i.get_width()|0),Math.abs(s)){case 0:(a=i).set_x(a.x+0*Nd.swagWidth),i.animation.addByPrefix("static","arrowLEFT"),i.animation.addByPrefix("pressed","left press",24,!1),i.animation.addByPrefix("confirm","left confirm",24,!1);break;case 1:(a=i).set_x(a.x+Nd.swagWidth),i.animation.addByPrefix("static","arrowDOWN"),i.animation.addByPrefix("pressed","down press",24,!1),i.animation.addByPrefix("confirm","down confirm",24,!1);break;case 2:(a=i).set_x(a.x+2*Nd.swagWidth),i.animation.addByPrefix("static","arrowUP"),i.animation.addByPrefix("pressed","up press",24,!1),i.animation.addByPrefix("confirm","up confirm",24,!1);break;case 3:(a=i).set_x(a.x+3*Nd.swagWidth),i.animation.addByPrefix("static","arrowRIGHT"),i.animation.addByPrefix("pressed","right press",24,!1),i.animation.addByPrefix("confirm","right confirm",24,!1)}}i.updateHitbox(),i.scrollFactor.set(),L.isStoryMode||((a=i).set_y(a.y-10),i.set_alpha(0),$a.tween(i,{y:i.y+10,alpha:1},1,{ease:Za.circOut,startDelay:.5+.2*s})),i.ID=s,1==t&&this.playerStrums.add(i),i.animation.play("static"),(s=i).set_x(s.x+50),(s=i).set_x(s.x+n.width/2*t),this.strumLineNotes.add(i)}},tweenCamIn:function(){$a.tween(n.camera,{zoom:1.3},4*ea.stepCrochet/1e3,{ease:Za.elasticInOut})},openSubState:function(t){this.paused&&(null!=n.sound.music&&(n.sound.music.pause(),this.vocals.pause()),this.startTimer.finished||(this.startTimer.active=!1)),na.prototype.openSubState.call(this,t)},closeSubState:function(){this.paused&&(null==n.sound.music||this.startingSong||this.resyncVocals(),this.startTimer.finished||(this.startTimer.active=!0),this.paused=!1),na.prototype.closeSubState.call(this)},resyncVocals:function(){this.vocals.pause(),n.sound.music.play(),ea.songPosition=n.sound.music._time,this.vocals.set_time(ea.songPosition),this.vocals.play()},paused:null,startedCountdown:null,canPause:null,truncateFloat:function(t,e){return t*=Math.pow(10,e),Math.round(t)/Math.pow(10,e)},spookyText:null,spookyRendered:null,spookySteps:null,nps:null,maxNPS:null,update:function(t){var s=this;this.perfectMode=!1;for(var e=this.notesHitArray.length-1;0<=e;){var i=this.notesHitArray[e];null!=i&&i.getTime()+1e3<(new Date).getTime()?oa.remove(this.notesHitArray,i):e=0,--e}if(this.nps=this.notesHitArray.length,this.nps>this.maxNPS&&(this.maxNPS=this.nps),(e=n.keys.justPressed).keyManager.checkStatus(57,e.status)&&("bf-old"==this.iconP1.animation._curAnim.name?this.iconP1.animation.play(L.SONG.player1):this.iconP1.animation.play("bf-old")),"philly"==L.curStage&&this.trainMoving&&(this.trainFrameTiming+=t,.041666666666666664<=this.trainFrameTiming&&(this.updateTrainPos(),this.trainFrameTiming=0)),na.prototype.update.call(this,t),this.scoreTxt.set_text(Gj.CalculateRanking(this.songScore,0,this.nps,this.accuracy)),(e=n.keys.justPressed).keyManager.checkStatus(13,e.status)&&this.startedCountdown&&this.canPause&&(this.persistentUpdate=!1,this.paused=this.persistentDraw=!0,this.openSubState(new zn(this.boyfriend.getScreenPosition().x,this.boyfriend.getScreenPosition().y))),(e=n.keys.justPressed).keyManager.checkStatus(55,e.status)&&(t=new ic,n.game._state.switchTo(t)&&(n.game._requestedState=t)),this.iconP1.setGraphicSize(150+.5*(this.iconP1.get_width()-150)|0),this.iconP2.setGraphicSize(150+.5*(this.iconP2.get_width()-150)|0),this.iconP1.updateHitbox(),this.iconP2.updateHitbox(),this.iconP1.set_x(this.healthBar.x+(.01*this.healthBar.get_width()*Hb.remapToRange(this.healthBar.get_percent(),0,100,100,0)-26)),this.iconP2.set_x(this.healthBar.x+.01*this.healthBar.get_width()*Hb.remapToRange(this.healthBar.get_percent(),0,100,100,0)-(this.iconP2.get_width()-26)),2<this.health&&(this.health=2),this.healthBar.get_percent()<20?this.iconP1.animation._curAnim.set_curFrame(1):this.iconP1.animation._curAnim.set_curFrame(0),80<this.healthBar.get_percent()?this.iconP2.animation._curAnim.set_curFrame(1):this.iconP2.animation._curAnim.set_curFrame(0),this.startingSong?this.startedCountdown&&(ea.songPosition+=1e3*n.elapsed,0<=ea.songPosition&&this.startSong()):(ea.songPosition+=1e3*n.elapsed,this.paused||(this.songTime+=n.game.ticks-this.previousFrameTime,this.previousFrameTime=n.game.ticks,ea.lastSongPos!=ea.songPosition&&(this.songTime=(this.songTime+ea.songPosition)/2,ea.lastSongPos=ea.songPosition))),L.generatedMusic&&null!=L.SONG.notes[this.curStep/16|0]){if(this.camFollow.x!=L.dad.getMidpoint().x+150&&!L.SONG.notes[this.curStep/16|0].mustHitSection){switch(this.camFollow.setPosition(L.dad.getMidpoint().x+150,L.dad.getMidpoint().y-100),L.dad.curCharacter){case"mom":this.camFollow.set_y(L.dad.getMidpoint().y);break;case"senpai":case"senpai-angry":this.camFollow.set_y(L.dad.getMidpoint().y-430),this.camFollow.set_x(L.dad.getMidpoint().x-100);break;case"trickyH":this.camFollow.set_y(L.dad.getMidpoint().y+375);break;case"trickyMask":this.camFollow.set_y(L.dad.getMidpoint().y+25)}"mom"==L.dad.curCharacter&&this.vocals.set_volume(1),"tutorial"==L.SONG.song.toLowerCase()&&this.tweenCamIn()}if(L.SONG.notes[this.curStep/16|0].mustHitSection&&this.camFollow.x!=this.boyfriend.getMidpoint().x-100){switch(this.camFollow.setPosition(this.boyfriend.getMidpoint().x-100,this.boyfriend.getMidpoint().y-300),L.curStage){case"limo":this.camFollow.set_x(this.boyfriend.getMidpoint().x-300);break;case"mall":this.camFollow.set_y(this.boyfriend.getMidpoint().y-200);break;case"school":this.camFollow.set_x(this.boyfriend.getMidpoint().x-200),this.camFollow.set_y(this.boyfriend.getMidpoint().y-200);break;case"schoolEvil":this.camFollow.set_x(this.boyfriend.getMidpoint().x-200),this.camFollow.set_y(this.boyfriend.getMidpoint().y-200)}"tutorial"==L.SONG.song.toLowerCase()&&$a.tween(n.camera,{zoom:1},4*ea.stepCrochet/1e3,{ease:Za.elasticInOut})}}if(this.camZooming&&(t=this.defaultCamZoom,n.camera.set_zoom(t+.95*(n.camera.zoom-t)),this.camHUD.set_zoom(1+.95*(this.camHUD.zoom-1))),"Fresh"==this.curSong)switch(this.curBeat){case 16:this.camZooming=!0,this.gfSpeed=2;break;case 48:this.gfSpeed=1;break;case 80:this.gfSpeed=2;break;case 112:this.gfSpeed=1}if("Bopeebo"==this.curSong)switch(this.curBeat){case 128:case 129:case 130:this.vocals.set_volume(0)}this.health<=0&&(this.boyfriend.stunned=!0,this.persistentDraw=this.persistentUpdate=!1,this.paused=!0,(e=this.vocals).cleanup(e.autoDestroy,!0),(e=n.sound.music).cleanup(e.autoDestroy,!0),this.openSubState(new Zm(this.boyfriend.getScreenPosition().x,this.boyfriend.getScreenPosition().y))),null!=this.unspawnNotes[0]&&this.unspawnNotes[0].strumTime-ea.songPosition<1500&&(t=this.unspawnNotes[0],this.notes.add(t),t=this.unspawnNotes.indexOf(t),this.unspawnNotes.splice(t,1)),this.spookyRendered&&(this.spookyText.set_angle(n.random.int(-5,5)),0!=this.tstatic.alpha&&this.tstatic.set_alpha(n.random.float(.1,.5))),L.generatedMusic&&this.notes.forEachAlive(function(t){if(t.y>n.height?(t.set_active(!1),t.set_visible(!1)):(t.set_visible(!0),t.set_active(!0)),!t.mustPress&&t.wasGoodHit){"Tutorial"!=L.SONG.song&&(s.camZooming=!0);var e="";if(null!=L.SONG.notes[Math.floor(s.curStep/16)]&&L.SONG.notes[Math.floor(s.curStep/16)].altAnim&&(e="-alt"),!(532<=s.curBeat&&s.curBeat<=536&&"expurgation"==s.curSong.toLowerCase()))switch(Math.abs(t.noteData)){case 0:L.dad.playAnim("singLEFT"+e,!0);break;case 1:L.dad.playAnim("singDOWN"+e,!0);break;case 2:L.dad.playAnim("singUP"+e,!0);break;case 3:L.dad.playAnim("singRIGHT"+e,!0)}switch(L.dad.curCharacter){case"exTricky":null==(e=60)&&(e=50),n.random.float(0,100)<e&&!s.spookyRendered&&!t.isSustainNote&&1==n.save.data.distractions&&s.createSpookyText(s.ExTrickyLinesSing[n.random.int(0,s.ExTrickyLinesSing.length-1)]);break;case"tricky":null==(e=20)&&(e=50),n.random.float(0,100)<e&&!s.spookyRendered&&!t.isSustainNote&&s.createSpookyText(s.TrickyLinesSing[n.random.int(0,s.TrickyLinesSing.length-1)]);break;case"trickyH":null==(e=45)&&(e=50),n.random.float(0,100)<e&&!s.spookyRendered&&!t.isSustainNote&&1==n.save.data.distractions&&s.createSpookyText(s.TrickyLinesSing[n.random.int(0,s.TrickyLinesSing.length-1)]),n.camera.shake(.02,.2);break;case"trickyMask":null==(e=1)&&(e=50),n.random.float(0,100)<e&&!s.spookyRendered&&!t.isSustainNote&&s.createSpookyText(s.TrickyLinesSing[n.random.int(0,s.TrickyLinesSing.length-1)])}L.dad.holdTimer=0,L.SONG.needsVoices&&s.vocals.set_volume(1),t.kill(),s.notes.remove(t,!0),t.destroy()}n.save.data.downscroll?t.set_y(s.strumLine.y- -.45*(ea.songPosition-t.strumTime)*Hb.roundDecimal(1==n.save.data.scrollSpeed?L.SONG.speed:n.save.data.scrollSpeed,2)):t.set_y(s.strumLine.y-.45*(ea.songPosition-t.strumTime)*Hb.roundDecimal(1==n.save.data.scrollSpeed?L.SONG.speed:n.save.data.scrollSpeed,2)),t.set_y(t.y-(t.burning?"auditorHell"!=L.curStage&&n.save.data.downscroll?185:65:0)),(t.y<-t.get_height()&&!n.save.data.downscroll||t.y>=s.strumLine.y+106&&n.save.data.downscroll)&&(t.isSustainNote&&t.wasGoodHit?(t.kill(),s.notes.remove(t,!0),t.destroy()):!t.burning&&t.mustPress&&(t.isSustainNote&&"nevedaSpook"==L.curStage?t.isSustainNote&&"nevedaSpook"==L.curStage&&(s.interupt=!0,s.health-=.035,s.totalDamageTaken+=.005):(s.health-=.075,s.totalDamageTaken+=.075,s.interupt=!0,s.noteMiss(t.noteData)),s.vocals.set_volume(0)),t.set_active(!1),t.set_visible(!1),t.kill(),s.notes.remove(t,!0),t.destroy())}),this.inCutscene||this.keyShit()},createSpookyText:function(t,e,s){null==s&&(s=-11111),null==e&&(e=-11111),this.spookySteps=this.curStep,this.spookyRendered=!0,this.tstatic.set_alpha(.5),n.sound.play(N.sound("staticSound")),this.spookyText=new Vb(-11111==e?n.random.float(L.dad.x+40,L.dad.x+120):e,-11111==s?n.random.float(L.dad.y+200,L.dad.y+300):s),this.spookyText.setFormat("Impact",128,-65536),"nevedaSpook"==L.curStage&&(this.spookyText.set_size(200),(e=this.spookyText).set_x(e.x+250)),this.spookyText.set_bold(!0),this.spookyText.set_text(t),this.add(this.spookyText)},endSong:function(){var t=L.SONG.song;if(this.canPause=!1,n.sound.music.set_volume(0),this.vocals.set_volume(0),L.SONG.validScore&&Gc.saveScore(L.SONG.song,this.songScore,L.storyDifficulty),L.isStoryMode)if(H.skipNextTransIn=!0,H.skipNextTransOut=!0,L.campaignScore+=this.songScore,oa.remove(L.storyPlaylist,L.storyPlaylist[0]),L.storyPlaylist.length<=0)Wa.reRoll=!0,t=yd.getNextState(new tk("assets/videos/TricksterMan.webm",new Wa),!1),n.game._state.switchTo(t)&&(n.game._requestedState=t),2==L.storyDifficulty&&(n.save.data.beatenHard=!0),1<=L.storyDifficulty&&(n.save.data.beaten=!0),n.save.data.weekUnlocked=Bg.weekUnlocked,n.save.flush();else{var e,s="";switch(0==L.storyDifficulty&&(s="-easy"),2==L.storyDifficulty&&(s="-hard"),"eggnog"==L.SONG.song.toLowerCase()&&((e=new M(-n.width*n.camera.zoom,-n.height*n.camera.zoom).makeGraphic(3*n.width,3*n.height,-16777216)).scrollFactor.set(),this.add(e),this.camHUD.set_visible(!1),n.sound.play(N.sound("Lights_Shut_off"))),L.prevCamFollow=this.camFollow,L.SONG=Yg.loadFromJson(L.storyPlaylist[0].toLowerCase()+s,L.storyPlaylist[0]),(s=n.sound.music).cleanup(s.autoDestroy,!0),t.toLowerCase()){case"improbable-outset":t=yd.getNextState(new tk("assets/videos/HankFuckingShootsTricky.webm",new L),!1),n.game._state.switchTo(t)&&(n.game._requestedState=t);break;case"madness":t=yd.getNextState(new tk("assets/videos/HELLCLOWN_ENGADGED.webm",new L),!1),n.game._state.switchTo(t)&&(n.game._requestedState=t);break;default:t=yd.getNextState(new L,!1),n.game._state.switchTo(t)&&(n.game._requestedState=t)}}else"expurgation"==t.toLowerCase()&&(n.save.data.beatEx=!0),Wa.reRoll=!0,t=new Wa,n.game._state.switchTo(t)&&(n.game._requestedState=t)},toPlay:function(){var t=new L;n.game._state.switchTo(t)&&(n.game._requestedState=t)},toMenu:function(){var t=new Wa;n.game._state.switchTo(t)&&(n.game._requestedState=t)},endingSong:null,popUpScore:function(t){var e=Yd.wife3(Math.abs(ea.songPosition-t.strumTime),ea.timeScale);this.vocals.set_volume(1);var s=U.string(this.combo),i=new Vb(0,0,0,s,32);i.screenCenter(),i.set_x(.55*n.width),(s=i).set_y(s.y-350),i.set_cameras([this.camHUD]);var a=new M;s=350,1==n.save.data.accuracyMod&&(this.totalNotesHit+=e);var r=t.rating;switch(t=0,"hellclown"==L.SONG.song.toLowerCase()&&(t=.04),r){case"bad":r="bad",s=0,this.health-=.06,this.totalDamageTaken+=.06,this.interupt=!0,this.ss=!1,L.bads++,0==n.save.data.accuracyMod&&(this.totalNotesHit+=.5);break;case"good":r="good",this.ss=!(s=200),L.goods++,this.health<2&&!this.grabbed&&(this.health+=.04),0==n.save.data.accuracyMod&&(this.totalNotesHit+=.75);break;case"shit":s=-300,this.combo=0,L.misses++,this.health-=.2,this.totalDamageTaken+=.2,this.interupt=!0,this.ss=!1,L.shits++,0==n.save.data.accuracyMod&&(this.totalNotesHit+=.25);break;case"sick":this.health<2&&!this.grabbed&&(this.health+=.1-t),0==n.save.data.accuracyMod&&(this.totalNotesHit+=1),L.sicks++}if("shit"!=r||"bad"!=r){this.songScore+=Math.round(s),e=t="",Y.startsWith(L.curStage,"school")&&(t="weeb/pixelUI/",e="-pixel"),a.loadGraphic(N.getPath("images/"+(t+r+e)+".png","IMAGE",null)),a.screenCenter(),(s=a).set_y(s.y-50),a.set_x(i.x-125),n.save.data.changedHit&&(a.set_x(n.save.data.changedHitX),a.set_y(n.save.data.changedHitY)),a.acceleration.set_y(550),(s=a.velocity).set_y(s.y-n.random.int(140,175)),(s=a.velocity).set_x(s.x-n.random.int(0,10));var l=(new M).loadGraphic(N.getPath("images/"+t+"combo"+e+".png","IMAGE",null));l.screenCenter(),l.set_x(a.x),l.set_y(a.y+100),l.acceleration.set_y(600),(s=l.velocity).set_y(s.y-150),(s=l.velocity).set_x(s.x+n.random.int(1,10)),this.add(a),Y.startsWith(L.curStage,"school")?(a.setGraphicSize(a.get_width()*L.daPixelZoom*.7|0),l.setGraphicSize(l.get_width()*L.daPixelZoom*.7|0)):(a.setGraphicSize(.7*a.get_width()|0),a.set_antialiasing(!0),l.setGraphicSize(.7*l.get_width()|0),l.set_antialiasing(!0)),l.updateHitbox(),a.updateHitbox(),l.set_cameras([this.camHUD]),a.set_cameras([this.camHUD]);var r=[],o=(this.combo+"").split("");2==o.length&&r.push(0);for(var s=0,h=o.length;s<h;){var _=s++;r.push(U.parseInt(o[_]))}for(s=o=0;s<r.length;)_=r[s],++s,(_=[(new M).loadGraphic(N.getPath("images/"+t+"num"+(0|_)+e+".png","IMAGE",null))])[0].screenCenter(),_[0].set_x(a.x+43*o-50),_[0].set_y(a.y+100),_[0].set_cameras([this.camHUD]),Y.startsWith(L.curStage,"school")?_[0].setGraphicSize(_[0].get_width()*L.daPixelZoom|0):(_[0].set_antialiasing(!0),_[0].setGraphicSize(.5*_[0].get_width()|0)),_[0].updateHitbox(),_[0].acceleration.set_y(n.random.int(200,300)),(h=_[0].velocity).set_y(h.y-n.random.int(140,160)),_[0].velocity.set_x(n.random.float(-5,5)),(10<=this.combo||0==this.combo)&&this.add(_[0]),$a.tween(_[0],{alpha:0},.2,{onComplete:function(e){return function(t){e[0].destroy()}}(_),startDelay:.002*ea.crochet}),++o;i.set_text(U.string(r)),$a.tween(l,{alpha:0},.2,{onComplete:function(t){i.destroy(),l.destroy(),a.destroy()},startDelay:.001*ea.crochet}),this.curSection+=1}},NearlyEquals:function(t,e,n){return null==n&&(n=10),Math.abs(Hb.roundDecimal(t,1)-Hb.roundDecimal(e,1))<n},canHit:function(t,e){var n=!0;if(null==e)return!0;for(var s=0,i=e.length;s<i;)t[e[s++].noteData]||(n=!1);return n},upHold:null,downHold:null,rightHold:null,leftHold:null,noteHit:null,keyShit:function(){var s=this,i=[(e=ec.player1.controls)._left.check(),e._down.check(),e._up.check(),e._right.check()],a=[e._leftP.check(),e._downP.check(),e._upP.check(),e._rightP.check()];if(e._leftR.check(),e._downR.check(),e._upR.check(),e._rightR.check(),-1!=i.indexOf(!0)&&L.generatedMusic&&this.notes.forEachAlive(function(t){t.isSustainNote&&t.canBeHit&&t.mustPress&&i[t.noteData]&&.1!=t.alpha&&s.goodNoteHit(t)}),-1!=a.indexOf(!0)&&L.generatedMusic){this.boyfriend.holdTimer=0;var r=[],l=[],o=[];for(this.notes.forEachAlive(function(t){if(t.canBeHit&&t.mustPress&&!t.tooLate&&!t.wasGoodHit)if(-1!=l.indexOf(t.noteData))for(var e=0;e<r.length;){var n=r[e];if(++e,n.noteData==t.noteData&&Math.abs(t.strumTime-n.strumTime)<10){o.push(t);break}if(n.noteData==t.noteData&&t.strumTime<n.strumTime){oa.remove(r,n),r.push(t);break}}else r.push(t),l.push(t.noteData)}),e=0;e<o.length;){var t=o[e];++e,t.kill(),this.notes.remove(t,!0),t.destroy()}r.sort(function(t,e){return t.strumTime-e.strumTime|0});for(var t=!1,e=0,h=a.length;e<h;){var _=e++;a[_]&&-1==l.indexOf(_)&&(t=!0)}if(this.perfectMode)this.goodNoteHit(r[0]);else if(0<r.length&&!t){if(!n.save.data.ghost)for(e=0,h=a.length;e<h;)_=e++,a[_]&&-1==l.indexOf(_)&&this.noteMiss(_);for(e=0;e<r.length;)h=[r[e]],++e,a[h[0].noteData]&&(0!=this.mashViolations&&this.mashViolations--,this.scoreTxt.set_color(-1),h[0].burning?"auditorHell"==L.curStage?(this.health=0,this.shouldBeDead=!0,n.sound.play(N.sound("death"))):(this.health-=.45,this.totalDamageTaken+=.45,this.interupt=!0,h[0].wasGoodHit=!0,h[0].canBeHit=!1,h[0].kill(),this.notes.remove(h[0],!0),h[0].destroy(),n.sound.play(N.sound("burnSound")),this.playerStrums.forEach(function(n){return function(t){var e;a[t.ID]&&t.ID==n[0].noteData&&((e=new M(t.x-t.get_width()+15,t.y-t.get_height())).set_frames(lb.fromSparrow(N.getPath("images/Smoke.png","IMAGE",null),N.getPath("images/Smoke.xml","TEXT",null))),e.animation.addByPrefix("boom","smoke",24,!1),e.animation.play("boom"),e.setGraphicSize(.6*e.get_width()|0),e.set_cameras([s.camHUD]),s.add(e),e.animation.finishCallback=function(t){s.remove(e)})}}(h))):this.goodNoteHit(h[0]))}else if(!n.save.data.ghost)for(e=0,h=a.length;e<h;)_=e++,a[_]&&this.noteMiss(_);t&&0<r.length&&n.save.data.ghost&&(4<this.mashViolations?(this.scoreTxt.set_color(-65536),this.noteMiss(0)):this.mashViolations++)}this.boyfriend.holdTimer>.004*ea.stepCrochet&&-1==i.indexOf(!0)&&Y.startsWith(this.boyfriend.animation._curAnim.name,"sing")&&!Y.endsWith(this.boyfriend.animation._curAnim.name,"miss")&&this.boyfriend.playAnim("idle"),this.playerStrums.forEach(function(t){var e;a[t.ID]&&"confirm"!=t.animation._curAnim.name&&t.animation.play("pressed"),i[t.ID]||t.animation.play("static"),"confirm"!=t.animation._curAnim.name||Y.startsWith(L.curStage,"school")?t.centerOffsets():(t.centerOffsets(),(e=t.offset).set_x(e.x-13),(e=t.offset).set_y(e.y-13))})},noteMiss:function(t){if(null==t&&(t=1),!this.boyfriend.stunned){var e;switch(this.health-=.04,this.totalDamageTaken+=.04,this.interupt=!0,5<this.combo&&Object.prototype.hasOwnProperty.call(this.gf.animOffsets.h,"sad")&&this.gf.playAnim("sad"),this.combo=0,L.misses++,this.songScore-=10,n.sound.play(N.sound("missnote"+n.random.int(1,3),null),n.random.float(.1,.2)),(e=-1!=L.dad.curCharacter.toLowerCase().indexOf("tricky")&&(null==(e="tricky"==L.dad.curCharacter?10:4)&&(e=50),n.random.float(0,100)<e))&&!this.spookyRendered&&"nevada"==L.curStage&&this.createSpookyText(this.TrickyLinesMiss[n.random.int(0,this.TrickyLinesMiss.length-1)]),t){case 0:this.boyfriend.playAnim("singLEFTmiss",!0);break;case 1:this.boyfriend.playAnim("singDOWNmiss",!0);break;case 2:this.boyfriend.playAnim("singUPmiss",!0);break;case 3:this.boyfriend.playAnim("singRIGHTmiss",!0)}this.updateAccuracy()}},badNoteCheck:function(){var t=ec.player1.controls._upP.check(),e=ec.player1.controls._rightP.check(),n=ec.player1.controls._downP.check();ec.player1.controls._leftP.check()&&this.noteMiss(0),t&&this.noteMiss(2),e&&this.noteMiss(3),n&&this.noteMiss(1),this.updateAccuracy()},updateAccuracy:function(){this.fc=!(0<L.misses||this.accuracy<96),this.totalPlayed+=1,this.accuracy=this.totalNotesHit/this.totalPlayed*100},getKeyPresses:function(t){var e=[];return this.notes.forEachAlive(function(t){t.canBeHit&&t.mustPress&&!t.tooLate&&(e.push(t),e.sort(function(t,e){return t.strumTime-e.strumTime|0}))}),e.length},mashing:null,mashViolations:null,noteCheck:function(t,e){e.rating=Gj.CalculateRating(Math.abs(e.strumTime-ea.songPosition)),t[e.noteData]&&this.goodNoteHit(e,this.mashing>this.getKeyPresses(e))},goodNoteHit:function(e,t){if(null==t&&(t=!0),0!=this.mashing&&(this.mashing=0),e.rating=Gj.CalculateRating(Math.abs(e.strumTime-ea.songPosition)),e.isSustainNote||this.notesHitArray.unshift(new Date),!t&&1<=this.mashViolations&&this.mashViolations--,this.mashViolations<0&&(this.mashViolations=0),!e.wasGoodHit){switch(e.isSustainNote?this.totalNotesHit+=1:(this.popUpScore(e),this.combo+=1),e.noteData){case 0:this.boyfriend.playAnim("singLEFT",!0);break;case 1:this.boyfriend.playAnim("singDOWN",!0);break;case 2:this.boyfriend.playAnim("singUP",!0);break;case 3:this.boyfriend.playAnim("singRIGHT",!0)}this.playerStrums.forEach(function(t){Math.abs(e.noteData)==t.ID&&t.animation.play("confirm",!0)}),e.wasGoodHit=!0,this.vocals.set_volume(1),e.kill(),this.notes.remove(e,!0),e.destroy(),this.updateAccuracy()}},fastCarCanDrive:null,resetFastCar:function(){this.fastCar.set_x(-12600),this.fastCar.set_y(n.random.int(140,250)),this.fastCar.velocity.set_x(0),this.fastCarCanDrive=!0},fastCarDrive:function(){var e=this;n.sound.play(N.sound("carPass"+n.random.int(0,1),null),.7),this.fastCar.velocity.set_x(n.random.int(170,220)/n.elapsed*3),this.fastCarCanDrive=!1,(new Oc).start(2,function(t){e.resetFastCar()})},trainMoving:null,trainFrameTiming:null,trainCars:null,trainFinishing:null,trainCooldown:null,trainStart:function(){this.trainMoving=!0,null==this.trainSound._channel&&this.trainSound.play(!0)},startedMoving:null,updateTrainPos:function(){var t;4700<=this.trainSound._time&&(this.startedMoving=!0,this.gf.playAnim("hairBlow")),this.startedMoving&&((t=this.phillyTrain).set_x(t.x-400),this.phillyTrain.x<-2e3&&!this.trainFinishing&&(this.phillyTrain.set_x(-1150),--this.trainCars,this.trainCars<=0&&(this.trainFinishing=!0)),this.phillyTrain.x<-4e3&&this.trainFinishing&&this.trainReset())},trainReset:function(){this.gf.playAnim("hairFall"),this.phillyTrain.set_x(n.width+200),this.trainMoving=!1,this.trainCars=8,this.startedMoving=this.trainFinishing=!1},lightningStrikeShit:function(){n.sound.play(N.sound("thunder_"+n.random.int(1,2),null)),this.halloweenBG.animation.play("lightning"),this.lightningStrikeBeat=this.curBeat,this.lightningOffset=n.random.int(8,24),this.boyfriend.playAnim("scared",!0),this.gf.playAnim("scared",!0)},resetSpookyText:null,resetSpookyTextManual:function(){this.spookySteps=this.curStep,this.spookyRendered=!0,this.tstatic.set_alpha(.5),n.sound.play(N.sound("staticSound")),this.resetSpookyText=!0},manuallymanuallyresetspookytextmanual:function(){this.remove(this.spookyText),this.spookyRendered=!1,this.tstatic.set_alpha(0)},stepOfLast:null,stepHit:function(){if(na.prototype.stepHit.call(this),(n.sound.music._time>ea.songPosition+20||n.sound.music._time<ea.songPosition-20)&&this.resyncVocals(),"auditorHell"==L.curStage&&this.curStep!=this.stepOfLast&&1==n.save.data.distractions){switch(this.curStep){case 384:this.doStopSign(0);break;case 511:this.doStopSign(2),this.doStopSign(0);break;case 610:this.doStopSign(3);break;case 720:this.doStopSign(2);break;case 991:this.doStopSign(3);break;case 1184:this.doStopSign(2);break;case 1200:this.doStopSign(3);break;case 1218:this.doStopSign(0);break;case 1235:this.doStopSign(0,!0);break;case 1328:this.doStopSign(0,!0),this.doStopSign(2);break;case 1439:this.doStopSign(3,!0);break;case 1567:this.doStopSign(0);break;case 1584:this.doStopSign(0,!0);break;case 1600:this.doStopSign(2);break;case 1706:this.doStopSign(3);break;case 1917:this.doStopSign(0);break;case 1923:this.doStopSign(0,!0);break;case 1927:this.doStopSign(0);break;case 1932:this.doStopSign(0,!0);break;case 2032:this.doStopSign(2),this.doStopSign(0);break;case 2036:this.doStopSign(0,!0);break;case 2162:this.doStopSign(2),this.doStopSign(3);break;case 2193:this.doStopSign(0);break;case 2202:this.doStopSign(0,!0);break;case 2239:this.doStopSign(2,!0);break;case 2258:this.doStopSign(0,!0);break;case 2304:this.doStopSign(0,!0),this.doStopSign(0);break;case 2326:this.doStopSign(0,!0);break;case 2336:this.doStopSign(3);break;case 2447:this.doStopSign(2),this.doStopSign(0,!0),this.doStopSign(0);break;case 2480:this.doStopSign(0,!0),this.doStopSign(0);break;case 2512:this.doStopSign(2),this.doStopSign(0,!0),this.doStopSign(0);break;case 2544:this.doStopSign(0,!0),this.doStopSign(0);break;case 2575:this.doStopSign(2),this.doStopSign(0,!0),this.doStopSign(0);break;case 2604:this.doStopSign(0,!0);break;case 2608:this.doStopSign(0,!0),this.doStopSign(0);break;case 2655:this.doGremlin(20,13,!0)}this.stepOfLast=this.curStep}this.spookyRendered&&this.spookySteps+3<this.curStep&&(this.resetSpookyText&&(this.remove(this.spookyText),this.spookyRendered=!1),this.tstatic.set_alpha(0),"auditorHell"==L.curStage&&this.tstatic.set_alpha(.1)),na.prototype.stepHit.call(this)},lightningStrikeBeat:null,lightningOffset:null,lastBeatT:null,lastBeatDadT:null,beatOfFuck:null,beatHit:function(){var s,i,t;switch(na.prototype.beatHit.call(this),L.generatedMusic&&(s=zl.byY,i=t=null==(t=1)?-1:t,this.notes.members.sort(t=function(t,e){return s(i,t,e)})),"nevedaSpook"==L.curStage&&this.hank.animation.play("dance"),null!=L.SONG.notes[Math.floor(this.curStep/16)]&&(L.SONG.notes[Math.floor(this.curStep/16)].changeBPM&&ea.changeBPM(L.SONG.notes[Math.floor(this.curStep/16)].bpm),L.SONG.notes[Math.floor(this.curStep/16)].mustHitSection&&L.dad.dance()),"auditorHell"==L.curStage&&4==this.curBeat%8&&this.beatOfFuck!=this.curBeat&&(this.beatOfFuck=this.curBeat,this.doClone(n.random.int(0,1))),this.wiggleShit.update(ea.crochet),"milf"==this.curSong.toLowerCase()&&168<=this.curBeat&&this.curBeat<200&&this.camZooming&&n.camera.zoom<1.35&&((t=n.camera).set_zoom(t.zoom+.015),(t=this.camHUD).set_zoom(t.zoom+.03)),this.camZooming&&n.camera.zoom<1.35&&0==this.curBeat%4&&((t=n.camera).set_zoom(t.zoom+.015),(t=this.camHUD).set_zoom(t.zoom+.03)),this.iconP1.setGraphicSize(this.iconP1.get_width()+30|0),this.iconP2.setGraphicSize(this.iconP2.get_width()+30|0),this.iconP1.updateHitbox(),this.iconP2.updateHitbox(),0==this.curBeat%this.gfSpeed&&this.curBeat!=this.lastBeatT&&(this.lastBeatT=this.curBeat,this.gf.dance()),Y.startsWith(this.boyfriend.animation._curAnim.name,"sing")||this.boyfriend.playAnim("idle"),7==this.curBeat%8&&"Bopeebo"==this.curSong&&(this.boyfriend.playAnim("hey",!0),"Tutorial"==L.SONG.song&&"gf"==L.dad.curCharacter&&L.dad.playAnim("cheer",!0)),532==this.curBeat&&"expurgation"==this.curSong.toLowerCase()&&L.dad.playAnim("Hank",!0),536==this.curBeat&&"expurgation"==this.curSong.toLowerCase()&&L.dad.playAnim("idle",!0),L.curStage){case"limo":this.grpLimoDancers.forEach(function(t){t.dance()}),null==(t=10)&&(t=50),n.random.float(0,100)<t&&this.fastCarCanDrive&&this.fastCarDrive();break;case"mall":this.upperBoppers.animation.play("bop",!0),this.bottomBoppers.animation.play("bop",!0),this.santa.animation.play("idle",!0);break;case"philly":this.trainMoving||(this.trainCooldown+=1),0==this.curBeat%4&&(this.phillyCityLights.forEach(function(t){t.set_visible(!1)}),this.curLight=n.random.int(0,this.phillyCityLights.length-1),this.phillyCityLights.members[this.curLight].set_visible(!0)),(t=4==this.curBeat%8&&(null==(t=30)&&(t=50),n.random.float(0,100)<t))&&!this.trainMoving&&8<this.trainCooldown&&(this.trainCooldown=n.random.int(-4,0),this.trainStart());break;case"school":this.bgGirls.dance()}(t=!!this.isHalloween&&(null==(t=10)&&(t=50),n.random.float(0,100)<t))&&this.curBeat>this.lightningStrikeBeat+this.lightningOffset&&this.lightningStrikeShit()},curLight:null,__class__:L});var ec=function(t,e){this.id=t,this.controls=new mc("player"+t,e)};r.PlayerSettings=ec,ec.__name__="PlayerSettings",ec.player1=null,ec.player2=null,ec.init=function(){null==ec.player1&&(ec.player1=new ec(0,hd.Solo),++ec.numPlayers);var t=n.gamepads.get_numActiveGamepads();if(0<t){var e=n.gamepads._activeGamepads[0];if(null==e)throw G.thrown("Unexpected null gamepad. id:0");ec.player1.controls.addDefaultGamepad(0)}if(1<t){if(null==ec.player2&&(ec.player2=new ec(1,hd.None),++ec.numPlayers),null==(e=n.gamepads._activeGamepads[1]))throw G.thrown("Unexpected null gamepad. id:0");ec.player2.controls.addDefaultGamepad(1)}},ec.reset=function(){ec.player1=null,ec.player2=null,ec.numPlayers=0},ec.prototype={id:null,controls:null,setKeyboardScheme:function(t){this.controls.setKeyboardScheme(t)},__class__:ec};var Gj=function(){};r.Ratings=Gj,Gj.__name__="Ratings",Gj.GenerateLetterRank=function(t){for(var e=0==L.misses&&0==L.bads&&0==L.shits&&0==L.goods?"(MFC)":0==L.misses&&0==L.bads&&0==L.shits&&1<=L.goods?"(GFC)":0==L.misses?"(FC)":L.misses<10?"(SDCB)":"(Clear)",s=[99.9935<=t,99.98<=t,99.97<=t,99.955<=t,99.9<=t,99.8<=t,99.7<=t,99<=t,96.5<=t,93<=t,90<=t,85<=t,80<=t,70<=t,60<=t,t<60],i=0,a=s.length;i<a;){var r=i++;if(s[r]){switch(r){case 0:e+=" AAAAA";break;case 1:e+=" AAAA:";break;case 2:e+=" AAAA.";break;case 3:e+=" AAAA";break;case 4:e+=" AAA:";break;case 5:e+=" AAA.";break;case 6:e+=" AAA";break;case 7:e+=" AA:";break;case 8:e+=" AA.";break;case 9:e+=" AA";break;case 10:e+=" A:";break;case 11:e+=" A.";break;case 12:e+=" A";break;case 13:e+=" B";break;case 14:e+=" C";break;case 15:e+=" D"}break}}return 0==t?e="N/A":n.save.data.botplay&&(e="BotPlay"),e},Gj.CalculateRating=function(t,e){var n=ea.timeScale;return 166*(n=null!=e?e/166:n)<t?"miss":135*n<t?"shit":90*n<t?"bad":45*n<t||t<-45*n?"good":t<-90*n?"bad":t<-135*n?"shit":t<-166*n?"miss":"sick"},Gj.CalculateRanking=function(t,e,s,i){return(n.save.data.npsDisplay?"NPS: "+s+(n.save.data.botplay?"":" | "):"")+(n.save.data.botplay?"":"Score:"+(10!=ea.safeFrames?t+" ("+e+")":""+t)+" | Combo Breaks:"+L.misses+" | Accuracy:"+(n.save.data.botplay?"N/A":Bs.truncateFloat(i,2)+" %")+" | "+Gj.GenerateLetterRank(i))};var Z=function(){};r.Reflect=Z,Z.__name__="Reflect",Z.field=function(t,e){try{return t[e]}catch(t){return ub.lastError=t,null}},Z.getProperty=function(t,e){var n;return null==t?null:!!t.__properties__&&(n=t.__properties__["get_"+e])?t[n]():t[e]},Z.setProperty=function(t,e,n){var s;!!t.__properties__&&(s=t.__properties__["set_"+e])?t[s](n):t[e]=n},Z.fields=function(t){var e=[];if(null!=t){var n,s=Object.prototype.hasOwnProperty;for(n in t)"__id__"!=n&&"hx__closures__"!=n&&s.call(t,n)&&e.push(n)}return e},Z.isFunction=function(t){return"function"==typeof t&&!(t.__name__||t.__ename__)},Z.compare=function(t,e){return t==e?0:e<t?1:-1},Z.compareMethods=function(t,e){return t==e||!(!Z.isFunction(t)||!Z.isFunction(e))&&(t.scope==e.scope&&t.method==e.method&&null!=t.method)},Z.isObject=function(t){if(null==t)return!1;var e=typeof t;return"string"==e||"object"==e&&null==t.__enum__||"function"==e&&null!=(t.__name__||t.__ename__)},Z.isEnumValue=function(t){return null!=t&&null!=t.__enum__},Z.deleteField=function(t,e){return!!Object.prototype.hasOwnProperty.call(t,e)&&(delete t[e],!0)},Z.makeVarArgs=function(e){return function(){var t=Array.prototype.slice.call(arguments);return e(t)}};var Hj=function(t){this.path="",this.path=t,this.replay={songName:"Tutorial",songDiff:1,keyPresses:[],keyReleases:[],replayGameVer:Hj.version,timestamp:new Date}};r.Replay=Hj,Hj.__name__="Replay",Hj.LoadReplay=function(t){return(t=new Hj(t)).LoadFromJSON(),Bb.trace("basic replay data:\nSong Name: "+t.replay.songName+"\nSong Diff: "+t.replay.songDiff+"\nKeys Length: "+t.replay.keyPresses.length,{fileName:"source/Replay.hx",lineNumber:61,className:"Replay",methodName:"LoadReplay"}),t},Hj.prototype={path:null,replay:null,SaveReplay:function(){var t={songName:L.SONG.song.toLowerCase(),songDiff:L.storyDifficulty,keyPresses:this.replay.keyPresses,keyReleases:this.replay.keyReleases,timestamp:new Date,replayGameVer:Hj.version};JSON.stringify(t)},LoadFromJSON:function(){},__class__:Hj};var Lq=function(t){null==t&&(t=16),this.mustHitSection=!0,this.typeOfSection=0,this.sectionNotes=[],this.lengthInSteps=t};r.Section=Lq,Lq.__name__="Section",Lq.prototype={sectionNotes:null,lengthInSteps:null,typeOfSection:null,mustHitSection:null,__class__:Lq};var Yg=function(t,e,n){this.player2="dad",this.player1="bf",this.speed=1,this.needsVoices=!0,this.song=t,this.notes=e,this.bpm=n};r.Song=Yg,Yg.__name__="Song",Yg.loadFromJson=function(t,e){for(t=Y.trim(Ia.getText(N.getPath("data/"+e.toLowerCase()+"/"+t.toLowerCase()+".json","TEXT",null)));!Y.endsWith(t,"}");)t=oa.substr(t,0,t.length-1);return Yg.parseJSONshit(t)},Yg.parseJSONshit=function(t){return(t=JSON.parse(t).song).validScore=!0,t},Yg.prototype={song:null,notes:null,bpm:null,needsVoices:null,speed:null,player1:null,player2:null,__class__:Yg};var U=function(){};r.Std=U,U.__name__="Std",U.string=function(t){return xa.__string_rec(t,"")},U.parseInt=function(t){if(null!=t)for(var e=0,n=t.length;e<n;){var s=e++,i=t.charCodeAt(s);if(i<=8||14<=i&&32!=i&&45!=i){if(e=t.charCodeAt(1+s),t=parseInt(t,120==e||88==e?16:10),isNaN(t))break;return t}}return null};var Bg=function(t,e){this.lerpScore=this.intendedScore=0,this.movedBack=this.selectedWeek=this.stopspamming=!1,this.curWeek=0,this.weekNames=";Daddy Dearest;Spooky Month;PICO;MOMMY MUST MURDER;RED SNOW;hating simulator ft. moawling;Circus Clown".split(";"),this.weekCharacters=[["dad","bf","gf"],["dad","bf","gf"],["spooky","bf","gf"],["pico","bf","gf"],["mom","bf","gf"],["parents-christmas","bf","gf"],["senpai","bf","gf"],["trickyMask","bf","gf"]],this.curDifficulty=1,this.weekData=[["Tutorial"],["Bopeebo","Fresh","Dadbattle"],["Spookeez","South","Monster"],["Pico","Philly","Blammed"],["Satin-Panties","High","Milf"],["Cocoa","Eggnog","Winter-Horrorland"],["Senpai","Roses","Thorns"],["Improbable-Outset","Madness","Hellclown"]],na.call(this,t,e)};r.StoryMenuState=Bg,Bg.__name__="StoryMenuState",Bg.__super__=na,Bg.prototype=D(na.prototype,{scoreText:null,weekData:null,curDifficulty:null,weekCharacters:null,weekNames:null,txtWeekTitle:null,curWeek:null,txtTracklist:null,grpWeekText:null,grpWeekCharacters:null,grpLocks:null,difficultySelectors:null,sprDifficulty:null,leftArrow:null,rightArrow:null,trans:null,create:function(){this.trans=new M(400,0),this.trans.set_frames(lb.fromSparrow(N.getPath("images/Jaws.png","IMAGE",e=null),N.getPath("images/Jaws.xml","TEXT",e))),this.trans.set_antialiasing(!0),this.trans.animation.addByPrefix("Close","Jaws smol",32,!1),this.trans.setGraphicSize(4.2*this.trans.get_width()|0),this.transIn=H.defaultTransIn,this.transOut=H.defaultTransOut,null!=n.sound.music&&null==n.sound.music._channel&&n.sound.playMusic(N.getPath("music/freakyMenu.mp3","MUSIC",null)),this.persistentUpdate=this.persistentDraw=!0,this.scoreText=new Vb(10,10,0,"SCORE: 49324858",36),this.scoreText.setFormat("VCR OSD Mono",32),this.txtWeekTitle=new Vb(.7*n.width,10,0,"",32),this.txtWeekTitle.setFormat("VCR OSD Mono",32,-1,"right"),this.txtWeekTitle.set_alpha(.7);var t=new Vb(0,10);t.set_text("RANK: GREAT"),t.setFormat("assets/fonts/vcr.ttf",32),t.set_size(0|this.scoreText._defaultFormat.size),t.screenCenter(af.X);var e=lb.fromSparrow(N.getPath("images/campaign_menu_UI_assets.png","IMAGE",e=null),N.getPath("images/campaign_menu_UI_assets.xml","TEXT",e)),s=new M(0,56).makeGraphic(n.width,400,-405679);this.grpWeekText=new Aa,this.add(this.grpWeekText);var i=(new M).makeGraphic(n.width,56,-16777216);this.add(i),this.grpWeekCharacters=new Aa,this.grpLocks=new Aa,this.add(this.grpLocks),Bb.trace("Line 70",{fileName:"source/StoryMenuState.hx",lineNumber:132,className:"StoryMenuState",methodName:"create"});for(var i=0,a=this.weekData.length;i<a;){var r=i++,l=new sn(0,s.y+s.get_height()+10,r),o=l;o.set_y(o.y+(l.get_height()+20)*r),l.targetY=r,this.grpWeekText.add(l),l.screenCenter(af.X),l.set_antialiasing(!0),Bg.weekUnlocked[r]||((o=new M(l.get_width()+10+l.x)).set_frames(e),o.animation.addByPrefix("lock","lock"),o.animation.play("lock"),o.ID=r,o.set_antialiasing(!0),this.grpLocks.add(o))}for(Bb.trace("Line 96",{fileName:"source/StoryMenuState.hx",lineNumber:158,className:"StoryMenuState",methodName:"create"}),i=0;i<3;){switch(a=i++,(a=r=new rn(.25*n.width*(1+a)-150,this.weekCharacters[this.curWeek][a])).set_y(a.y+70),r.set_antialiasing(!0),r.character){case"bf":r.setGraphicSize(.9*r.get_width()|0),r.updateHitbox(),(o=r).set_x(o.x-80);break;case"dad":case"gf":r.setGraphicSize(.5*r.get_width()|0),r.updateHitbox();break;case"parents-christmas":r.setGraphicSize(.9*r.get_width()|0),r.updateHitbox();break;case"pico":r.set_flipX(!0);break;case"trickyMask":Bb.trace("AHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHH",{fileName:"source/StoryMenuState.hx",lineNumber:184,className:"StoryMenuState",methodName:"create"}),(a=r).set_y(a.y-150),(a=r).set_x(a.x-60),r.setGraphicSize(3.5*r.get_width()|0),r.updateHitbox()}this.grpWeekCharacters.add(r)}this.difficultySelectors=new Aa,this.add(this.difficultySelectors),Bb.trace("Line 124",{fileName:"source/StoryMenuState.hx",lineNumber:197,className:"StoryMenuState",methodName:"create"}),this.leftArrow=new M(this.grpWeekText.members[0].x+this.grpWeekText.members[0].get_width()+10,this.grpWeekText.members[0].y+10),this.leftArrow.set_frames(e),this.leftArrow.animation.addByPrefix("idle","arrow left"),this.leftArrow.animation.addByPrefix("press","arrow push left"),this.leftArrow.animation.play("idle"),this.difficultySelectors.add(this.leftArrow),this.sprDifficulty=new M(this.leftArrow.x+130,this.leftArrow.y),this.sprDifficulty.set_frames(e),this.sprDifficulty.animation.addByPrefix("easy","EASY"),this.sprDifficulty.animation.addByPrefix("normal","NORMAL"),this.sprDifficulty.animation.addByPrefix("hard","HARD"),this.sprDifficulty.animation.play("easy"),this.changeDifficulty(),this.difficultySelectors.add(this.sprDifficulty),this.rightArrow=new M(this.sprDifficulty.x+this.sprDifficulty.get_width()+50,this.leftArrow.y),this.rightArrow.set_frames(e),this.rightArrow.animation.addByPrefix("idle","arrow right"),this.rightArrow.animation.addByPrefix("press","arrow push right",24,!1),this.rightArrow.animation.play("idle"),this.difficultySelectors.add(this.rightArrow),Bb.trace("Line 150",{fileName:"source/StoryMenuState.hx",lineNumber:223,className:"StoryMenuState",methodName:"create"}),this.add(s),this.add(this.grpWeekCharacters),this.txtTracklist=new Vb(.05*n.width,s.x+s.get_height()+100,0,"Tracks",32),this.txtTracklist.set_alignment("center"),this.txtTracklist.set_font(t._font),this.txtTracklist.set_color(-1747081),this.add(this.txtTracklist),this.add(this.scoreText),this.add(this.txtWeekTitle),this.updateText(),Bb.trace("Line 165",{fileName:"source/StoryMenuState.hx",lineNumber:239,className:"StoryMenuState",methodName:"create"}),na.prototype.create.call(this)},update:function(t){var e=this,s=this.lerpScore;this.lerpScore=Math.floor(s+.5*(this.intendedScore-s)),this.scoreText.set_text("WEEK SCORE:"+this.lerpScore),this.txtWeekTitle.set_text(this.weekNames[this.curWeek].toUpperCase()),this.txtWeekTitle.set_x(n.width-(this.txtWeekTitle.get_width()+10)),this.difficultySelectors.set_visible(Bg.weekUnlocked[this.curWeek]),this.grpLocks.forEach(function(t){t.set_y(e.grpWeekText.members[t.ID].y)}),this.movedBack||(this.selectedWeek||(ec.player1.controls._upP.check()&&this.changeWeek(-1),ec.player1.controls._downP.check()&&this.changeWeek(1),ec.player1.controls._right.check()?this.rightArrow.animation.play("press"):this.rightArrow.animation.play("idle"),ec.player1.controls._left.check()?this.leftArrow.animation.play("press"):this.leftArrow.animation.play("idle"),ec.player1.controls._rightP.check()&&this.changeDifficulty(1),ec.player1.controls._leftP.check()&&this.changeDifficulty(-1)),ec.player1.controls._accept.check()&&this.selectWeek()),!ec.player1.controls._back.check()||this.movedBack||this.selectedWeek||(n.sound.play(N.sound("cancelMenu")),this.movedBack=!0,s=new Wa,n.game._state.switchTo(s)&&(n.game._requestedState=s)),na.prototype.update.call(this,t)},movedBack:null,selectedWeek:null,stopspamming:null,selectWeek:function(){var s=this;if(Bg.weekUnlocked[this.curWeek]){0==this.stopspamming&&(n.sound.play(N.sound("confirmMenu")),this.grpWeekText.members[this.curWeek].startFlashing(),this.grpWeekCharacters.members[1].animation.play("bfConfirm"),this.stopspamming=!0),L.storyPlaylist=this.weekData[this.curWeek],this.selectedWeek=L.isStoryMode=!0;var t="";switch(this.curDifficulty){case 0:t="-easy";break;case 2:t="-hard"}L.storyDifficulty=this.curDifficulty,L.SONG=Yg.loadFromJson(L.storyPlaylist[0].toLowerCase()+t,L.storyPlaylist[0].toLowerCase()),L.storyWeek=this.curWeek,L.campaignScore=0,this.add(this.trans),(new Oc).start(.4,function(t){var e;7==s.curWeek&&null==s.trans.animation._curAnim&&(s.trans.animation.play("Close"),(e=(new gd).loadEmbedded(N.sound("swipe"))).play()),7==s.curWeek?18==s.trans.animation.frameIndex?((e=(new gd).loadEmbedded(N.sound("clink"))).play(),(s.transOut=null)!=(t=s.trans.animation)._curAnim&&t._curAnim.pause(),t=new L,t=yd.getNextState(t,e=null==(e=!0)?!1:e),n.game._state.switchTo(t)&&(n.game._requestedState=t)):t.reset(.1):(t=new L,t=yd.getNextState(t,e=null==(e=!0)?!1:e),n.game._state.switchTo(t)&&(n.game._requestedState=t))})}},changeDifficulty:function(t){switch(this.curDifficulty+=t=null==t?0:t,this.curDifficulty<0&&(this.curDifficulty=2),2<this.curDifficulty&&(this.curDifficulty=0),this.sprDifficulty.offset.set_x(0),this.curDifficulty){case 0:this.sprDifficulty.animation.play("easy"),this.sprDifficulty.offset.set_x(20);break;case 1:this.sprDifficulty.animation.play("normal"),this.sprDifficulty.offset.set_x(70);break;case 2:this.sprDifficulty.animation.play("hard"),this.sprDifficulty.offset.set_x(20)}this.sprDifficulty.set_alpha(0),this.sprDifficulty.set_y(this.leftArrow.y-15),this.intendedScore=Gc.getWeekScore(this.curWeek,this.curDifficulty),this.intendedScore=Gc.getWeekScore(this.curWeek,this.curDifficulty),$a.tween(this.sprDifficulty,{y:this.leftArrow.y+15,alpha:1},.07)},lerpScore:null,intendedScore:null,changeWeek:function(t){this.curWeek+=t=null==t?0:t,this.curWeek>=this.weekData.length&&(this.curWeek=0),this.curWeek<0&&(this.curWeek=this.weekData.length-1);for(var e=t=0,s=this.grpWeekText.members;e<s.length;){var i=s[e];++e,i.targetY=t-this.curWeek,0==i.targetY&&Bg.weekUnlocked[this.curWeek]?i.set_alpha(1):i.set_alpha(.6),++t}n.sound.play(N.sound("scrollMenu")),this.updateText()},updateText:function(){switch(this.grpWeekCharacters.members[0].animation.play(this.weekCharacters[this.curWeek][0]),this.grpWeekCharacters.members[1].animation.play(this.weekCharacters[this.curWeek][1]),this.grpWeekCharacters.members[2].animation.play(this.weekCharacters[this.curWeek][2]),this.txtTracklist.set_text("Tracks\n"),this.grpWeekCharacters.members[0].animation._curAnim.name){case"dad":this.grpWeekCharacters.members[0].offset.set(120,200),this.grpWeekCharacters.members[0].setGraphicSize(0|this.grpWeekCharacters.members[0].get_width());break;case"mom":this.grpWeekCharacters.members[0].offset.set(100,200),this.grpWeekCharacters.members[0].setGraphicSize(0|this.grpWeekCharacters.members[0].get_width());break;case"parents-christmas":this.grpWeekCharacters.members[0].offset.set(200,200),this.grpWeekCharacters.members[0].setGraphicSize(.99*this.grpWeekCharacters.members[0].get_width()|0);break;case"senpai":this.grpWeekCharacters.members[0].offset.set(130,0),this.grpWeekCharacters.members[0].setGraphicSize(1.4*this.grpWeekCharacters.members[0].get_width()|0);break;case"trickyMask":this.grpWeekCharacters.members[0].offset.set(195,180),this.grpWeekCharacters.members[0].setGraphicSize(1.6*this.grpWeekCharacters.members[0].get_width()|0);break;default:this.grpWeekCharacters.members[0].offset.set(100,100),this.grpWeekCharacters.members[0].setGraphicSize(0|this.grpWeekCharacters.members[0].get_width())}for(var t=this.weekData[this.curWeek],e=0;e<t.length;){var s=t[e];++e;var i=this.txtTracklist;i.set_text(i.text+"\n"+s)}this.txtTracklist.set_text(this.txtTracklist.text.toUpperCase()),this.txtTracklist.screenCenter(af.X),(e=this.txtTracklist).set_x(e.x-.35*n.width),this.intendedScore=Gc.getWeekScore(this.curWeek,this.curDifficulty)},__class__:Bg});var Ds=function(){};r["_String.String_Impl_"]=Ds,Ds.__name__="_String.String_Impl_",Ds.fromCharCode=function(t){return String.fromCodePoint(t)};var $h=function(){this.b=""};r.StringBuf=$h,$h.__name__="StringBuf",$h.prototype={b:null,__class__:$h};var Y=function(){};r.StringTools=Y,Y.__name__="StringTools",Y.htmlEscape=function(t,e){for(var n="",s=0,i=t;s<i.length;){var a=s++,r=(t=i).charCodeAt(a);switch(65536<=(t=r=55296<=r&&r<=56319?r-55232<<10|1023&t.charCodeAt(1+a):r)&&++s,t){case 34:n=e?n+"&quot;":n+String.fromCodePoint(t);break;case 38:n+="&amp;";break;case 39:n=e?n+"&#039;":n+String.fromCodePoint(t);break;case 60:n+="&lt;";break;case 62:n+="&gt;";break;default:n+=String.fromCodePoint(t)}}return n},Y.htmlUnescape=function(t){return t.split("&gt;").join(">").split("&lt;").join("<").split("&quot;").join('"').split("&#039;").join("'").split("&amp;").join("&")},Y.startsWith=function(t,e){return t.length>=e.length&&0==t.lastIndexOf(e,0)},Y.endsWith=function(t,e){var n=e.length,s=t.length;return n<=s&&t.indexOf(e,s-n)==s-n},Y.isSpace=function(t,e){return 8<(t=oa.cca(t,e))&&t<14||32==t},Y.ltrim=function(t){for(var e=t.length,n=0;n<e&&Y.isSpace(t,n);)++n;return 0<n?oa.substr(t,n,e-n):t},Y.rtrim=function(t){for(var e=t.length,n=0;n<e&&Y.isSpace(t,e-n-1);)++n;return 0<n?oa.substr(t,0,e-n):t},Y.trim=function(t){return Y.ltrim(Y.rtrim(t))},Y.replace=function(t,e,n){return t.split(e).join(n)},Y.hex=function(t,e){for(var n="";n="0123456789ABCDEF".charAt(15&t)+n,0<(t>>>=4););if(null!=e)for(;n.length<e;)n="0"+n;return n};var Zh=function(t,e){this.danceLeft=this.transitioning=this.once=this.canSkip=this.skippedIntro=!1,this.curWacky=[],na.call(this,t,e)};r.TitleState=Zh,Zh.__name__="TitleState",Zh.__super__=na,Zh.prototype=D(na.prototype,{blackScreen:null,credGroup:null,credTextShit:null,textGroup:null,ngSpr:null,actualNG:null,backupMen:null,curWacky:null,wackyImage:null,create:function(){null==n.save.data.newInput&&(n.save.data.newInput=!1),null==n.save.data.downscroll&&(n.save.data.downscroll=!1),null==n.save.data.dfjk&&(n.save.data.dfjk=!1),ec.init(),this.curWacky=n.random.getObject_Array_String(this.getIntroTextShit()),na.prototype.create.call(this),n.save.bind("funkin","ninjamuffin99"),this.loadingImage=new M(0,0).loadGraphic(N.getPath("images/loadingButNotDone.png","IMAGE",null)),this.loadingDone=new M(0,0).loadGraphic(N.getPath("images/loadingButDone.png","IMAGE",null)),this.loadingImage.set_alpha(0),this.loadingDone.set_alpha(0),this.add(this.loadingImage),this.add(this.loadingDone),this.logoBl=new M(-200,-160);var t=null;this.logoBl.set_frames(lb.fromSparrow(N.getPath("images/TrickyLogo.png","IMAGE",t),N.getPath("images/TrickyLogo.xml","TEXT",t))),this.logoBl.set_antialiasing(!0),this.logoBl.animation.addByPrefix("bump","Logo",34),this.logoBl.animation.play("bump"),this.logoBl.setGraphicSize(.5*this.logoBl.get_width()|0),this.logoBl.updateHitbox(),this.gfDance=new M(.23*n.width,.07*n.height),this.gfDance.set_frames(lb.fromSparrow(N.getPath("images/DJ_Tricky.png","IMAGE",t=null),N.getPath("images/DJ_Tricky.xml","TEXT",t))),this.gfDance.animation.addByPrefix("dance","mixtape",24,!0),this.gfDance.set_antialiasing(!0),this.gfDance.setGraphicSize(.6*this.gfDance.get_width()|0),this.titleText=new M(100,.8*n.height),this.titleText.set_frames(lb.fromSparrow(N.getPath("images/titleEnter.png","IMAGE",t=null),N.getPath("images/titleEnter.xml","TEXT",t))),this.titleText.animation.addByPrefix("idle","Press Enter to Begin",24),this.titleText.animation.addByPrefix("press","ENTER PRESSED",24),this.titleText.set_antialiasing(!0),this.titleText.animation.play("idle"),this.titleText.updateHitbox(),(t=(new M).loadGraphic(N.getPath("images/logo.png","IMAGE",null))).screenCenter(),t.set_antialiasing(!0),this.credGroup=new Aa,this.textGroup=new Aa,this.blackScreen=(new M).makeGraphic(n.width,n.height,-16777216),this.credGroup.add(this.blackScreen),this.credTextShit=new Zb(0,0,"ninjamuffin99\nPhantomArcade\nkawaisprite\nevilsk8er",!0),this.credTextShit.screenCenter(),this.credTextShit.set_visible(!1),this.ngSpr=new M(0,.55*n.height).loadGraphic(N.getPath("images/ThePalsV2.png","IMAGE",null)),this.ngSpr.set_visible(!1),this.ngSpr.setGraphicSize(1.1*this.ngSpr.get_width()|0),this.ngSpr.updateHitbox(),this.ngSpr.screenCenter(af.X),(t=this.ngSpr).set_y(t.y-100),this.ngSpr.set_antialiasing(!0),this.actualNG=new M(0,.55*n.height).loadGraphic(N.getPath("images/newgrounds_logo.png","IMAGE",null)),this.actualNG.set_visible(!1),this.actualNG.setGraphicSize(1.1*this.actualNG.get_width()|0),this.actualNG.updateHitbox(),this.actualNG.screenCenter(af.X),(t=this.actualNG).set_y(t.y-70),this.actualNG.set_antialiasing(!0),this.backupMen=new M(0,.55*n.height).loadGraphic(N.getPath("images/TheBackupMen.png","IMAGE",null)),this.backupMen.set_visible(!1),this.backupMen.setGraphicSize(1.1*this.backupMen.get_width()|0),this.backupMen.updateHitbox(),this.backupMen.screenCenter(af.X),(t=this.backupMen).set_y(t.y-100),this.backupMen.set_antialiasing(!0),E.loadEverything(),Gc.load(),null!=n.save.data.weekUnlocked&&(Bg.weekUnlocked.length<4&&Bg.weekUnlocked.splice(0,0,!0),Bg.weekUnlocked[0]||(Bg.weekUnlocked[0]=!0))},logoBl:null,gfDance:null,danceLeft:null,titleText:null,loadingImage:null,loadingDone:null,startIntro:function(){var t,e,s,i;Zh.initialized||((t=Jc.fromClass(eg)).persist=!0,t.set_destroyOnNoUse(!1),H.defaultTransIn=new Al("fade",-16777216,1,new ja(0,-1),{asset:t,width:32,height:32},new sa(-2e3,-200,5*n.width,3*n.height)),H.defaultTransOut=new Al("fade",-16777216,.7,new ja(0,1),{asset:t,width:32,height:32},new sa(-2e3,-200,5*n.width,3*n.height)),this.transIn=H.defaultTransIn,this.transOut=H.defaultTransOut,n.sound.playMusic(N.getPath("music/Tiky_Demce.mp3","MUSIC",null),0),null==(i=.7)&&(i=1),null==(s=0)&&(s=0),null==(e=4)&&(e=1),null==(t=n.sound.music)._channel&&t.play(),null!=t.fadeTween&&t.fadeTween.cancel(),t.fadeTween=$a.num(s,i,e,{onComplete:null},y(t,t.volumeTween)),ea.changeBPM(139)),this.persistentUpdate=!0,t=new M(-10,-10).loadGraphic(N.getPath("images/fourth/bg.png","IMAGE",null)),this.add(t),this.add(this.gfDance),this.add(this.logoBl),this.add(this.titleText),this.add(this.credGroup),this.add(this.ngSpr),this.add(this.actualNG),this.add(this.backupMen),$a.tween(this.credTextShit,{y:this.credTextShit.y+20},2.9,{ease:Za.quadInOut,type:4}),Cs.initSave(),n.mouse.set_visible(!1),Zh.initialized?this.skipIntro():Zh.initialized=!0},getIntroTextShit:function(){for(var t=ua.getText(N.getPath("data/introText.txt","TEXT",null)).split("\n"),e=[],n=0;n<t.length;){var s=t[n];++n,e.push(s.split("--"))}return e},transitioning:null,once:null,update:function(t){var e=this;E.cachedInstance.loaded?this.once||(this.once=!0,(new gd).loadEmbedded(N.sound("complete")).play(),this.loadingImage.set_alpha(0),this.loadingDone.set_alpha(1),$a.tween(this.loadingDone,{alpha:0},1),(new Oc).start(1.2,function(t){e.canSkip=!0,e.startIntro()})):this.loadingImage.set_alpha(E.cachedInstance.progress/100),null!=n.sound.music&&(ea.songPosition=n.sound.music._time);var s=n.keys.justPressed;s.keyManager.checkStatus(70,s.status)&&n.set_fullscreen(!n.get_fullscreen());var i,a,r=(s=n.keys.justPressed).keyManager.checkStatus(13,s.status);null!=(s=n.gamepads.lastActive)&&(a=(s=s.justPressed).gamepad,s=s.status,i=a.mapping.getRawID(7),null!=(a=a.buttons[i])&&a.hasState(s)&&(r=!0)),r&&!this.transitioning&&this.skippedIntro&&(n.camera.flash(-16777216,1),n.sound.play(N.sound("confirmMenu"),.7),this.transitioning=!0,null==(i=0)&&(i=0),null==(a=1)&&(a=1),null!=(s=n.sound.music).fadeTween&&s.fadeTween.cancel(),s.fadeTween=$a.num(s._volume,i,a,{onComplete:null},y(s,s.volumeTween)),(new Oc).start(1.4,function(t){t=new Wa,n.game._state.switchTo(t)&&(n.game._requestedState=t)})),r&&!this.skippedIntro&&E.cachedInstance.loaded&&this.canSkip&&this.skipIntro(),na.prototype.update.call(this,t)},canSkip:null,createCoolText:function(t,e){null==e&&(e=0);for(var n=0,s=t.length;n<s;){var i,a=n++,r=new Zb(0,0,t[a],!0,!1);r.screenCenter(af.X),0!=e&&(i=r).set_y(i.y-e),(i=r).set_y(i.y+(60*a+200)),this.credGroup.add(r),this.textGroup.add(r)}},addMoreText:function(t,e){var n;null==e&&(e=0),(t=new Zb(0,0,t,!0,!1)).screenCenter(af.X),0!=e&&(n=t).set_y(n.y-e),(n=t).set_y(n.y+(60*this.textGroup.length+200)),this.credGroup.add(t),this.textGroup.add(t)},deleteCoolText:function(){for(;0<this.textGroup.members.length;)this.credGroup.remove(this.textGroup.members[0],!0),this.textGroup.remove(this.textGroup.members[0],!0)},beatHit:function(){switch(na.prototype.beatHit.call(this),this.logoBl.animation.play("bump"),this.gfDance.animation.play("dance"),this.curBeat){case 5:this.createCoolText(["KadeDev"],135);break;case 6:this.addMoreText("Banbuds",135);break;case 7:this.addMoreText("Cval",135);break;case 8:this.addMoreText("Rozebud",135);break;case 9:this.ngSpr.set_visible(!0);break;case 10:this.deleteCoolText(),this.ngSpr.set_visible(!1),this.createCoolText(["With help from"],135);break;case 11:this.addMoreText("MORO",135);break;case 12:this.addMoreText("YingYang",135);break;case 13:this.addMoreText("Jads",135);break;case 14:this.backupMen.set_visible(!0);break;case 15:this.deleteCoolText(),this.createCoolText(["Newgrounds"]),this.backupMen.set_visible(!1);break;case 16:this.addMoreText("is pog"),this.actualNG.set_visible(!0);break;case 17:this.actualNG.set_visible(!1),this.deleteCoolText(),this.createCoolText([this.curWacky[0]]);break;case 18:this.addMoreText(this.curWacky[1]);break;case 19:this.curWacky=n.random.getObject_Array_String(this.getIntroTextShit()),this.deleteCoolText(),this.createCoolText([this.curWacky[0]]);break;case 20:this.addMoreText(this.curWacky[1]);break;case 21:this.curWacky=n.random.getObject_Array_String(this.getIntroTextShit()),this.deleteCoolText(),this.createCoolText([this.curWacky[0]]);break;case 22:this.addMoreText(this.curWacky[1]);break;case 23:this.curWacky=n.random.getObject_Array_String(this.getIntroTextShit()),this.deleteCoolText(),this.createCoolText([this.curWacky[0]]);break;case 24:this.addMoreText(this.curWacky[1]);break;case 25:this.curWacky=n.random.getObject_Array_String(this.getIntroTextShit()),this.deleteCoolText(),this.createCoolText([this.curWacky[0]]);break;case 26:this.addMoreText(this.curWacky[1]);break;case 27:this.deleteCoolText(),this.createCoolText(["chicken dance remix"]);break;case 28:this.addMoreText("by Tsuraran");break;case 30:this.deleteCoolText(),this.createCoolText(["the drop"]);break;case 31:this.addMoreText("or smth lol");break;case 32:this.deleteCoolText(),this.skipIntro()}},skippedIntro:null,skipIntro:function(){this.skippedIntro||(this.remove(this.ngSpr),this.remove(this.actualNG),this.remove(this.backupMen),ec.player1.controls.loadKeyBinds(),n.camera.flash(-16777216,2),this.remove(this.credGroup),this.skippedIntro=!0)},__class__:Zh});var Pf=function(t,e,n,s,i,a,r,l){null==l&&(l=0),null==r&&(r=0),null==a&&(a="button"),this.selected=!1,M.call(this,-100,-100),this.tween=$a.tween(this,{x:this.x},.1),this.func=i,this.trueX=t,this.trueY=e,this.tweenX=r,this.tweenY=l,this.pognt=a,this.spriteOne=new M(this.trueX+this.tweenX,this.trueY+this.tweenY).loadGraphic(N.getPath("images/"+n+".png","IMAGE",null)),this.spriteTwo=new M(this.trueX+this.tweenX,this.trueY+this.tweenY).loadGraphic(N.getPath("images/"+s+".png","IMAGE",null)),this.spriteOne.set_antialiasing(!0),this.spriteTwo.set_antialiasing(!0),this.spriteTwo.set_alpha(0)};r.TrickyButton=Pf,Pf.__name__="TrickyButton",Pf.__super__=M,Pf.prototype=D(M.prototype,{spriteOne:null,spriteTwo:null,pognt:null,selected:null,tween:null,trueX:null,trueY:null,tweenX:null,tweenY:null,func:null,update:function(t){M.prototype.update.call(this,t),this.spriteTwo.set_x(this.spriteOne.x),this.spriteTwo.set_y(this.spriteOne.y)},highlight:function(t){(t=null==t?!0:t)&&(new gd).loadEmbedded(N.sound("Hover")).play(),this.spriteTwo.set_alpha(1),this.spriteOne.set_alpha(0),this.tween.cancel(),this.tween=$a.tween(this.spriteOne,{y:this.trueY,x:this.trueX},.4,{ease:Za.quintOut})},unHighlight:function(){this.spriteTwo.set_alpha(0),this.spriteOne.set_alpha(1),this.tween.cancel(),this.tween=$a.tween(this.spriteOne,{y:this.trueY+this.tweenY,x:this.trueX+this.tweenX},.5,{ease:Za.quintOut})},select:function(){var e=this;(new gd).loadEmbedded(N.sound("confirm")).play(),(new Oc).start(.2,function(t){e.func()})},__class__:Pf});var Ag=function(t,e,n,s,i,a,r){null==r&&(r="button"),this.selected=!1,M.call(this,-100,-100),this.func=a,this.pognt=r,this.spriteOne=new Vb(this.x,this.y,0,n,i),this.spriteTwo=new Vb(this.x,this.y,0,s,i),this.spriteOne.setFormat("tahoma-bold.ttf",i,-65536),this.spriteTwo.setFormat("tahoma-bold.ttf",i,-1),this.spriteOne.set_antialiasing(!0),this.spriteTwo.set_antialiasing(!0),this.spriteTwo.set_alpha(0)};r.TrickyTextButton=Ag,Ag.__name__="TrickyTextButton",Ag.__super__=M,Ag.prototype=D(M.prototype,{spriteOne:null,spriteTwo:null,pognt:null,selected:null,func:null,update:function(t){M.prototype.update.call(this,t),this.spriteTwo.set_x(this.spriteOne.x),this.spriteTwo.set_y(this.spriteOne.y)},highlight:function(t){(t=null==t?!0:t)&&(new gd).loadEmbedded(N.sound("Hover")).play(),this.spriteTwo.set_alpha(1),this.spriteOne.set_alpha(0)},unHighlight:function(){this.spriteTwo.set_alpha(0),this.spriteOne.set_alpha(1)},select:function(){var e=this;(new gd).loadEmbedded(N.sound("confirm")).play(),(new Oc).start(.2,function(t){e.func()})},__class__:Ag});var $g=F.ValueType={__ename__:"ValueType",__constructs__:"TNull TInt TFloat TBool TObject TFunction TClass TEnum TUnknown".split(" "),TNull:{_hx_index:0,__enum__:"ValueType",toString:v},TInt:{_hx_index:1,__enum__:"ValueType",toString:v},TFloat:{_hx_index:2,__enum__:"ValueType",toString:v},TBool:{_hx_index:3,__enum__:"ValueType",toString:v},TObject:{_hx_index:4,__enum__:"ValueType",toString:v},TFunction:{_hx_index:5,__enum__:"ValueType",toString:v},TClass:(C=function(t){return{_hx_index:6,c:t,__enum__:"ValueType",toString:v}},C.__params__=["c"],C),TEnum:(C=function(t){return{_hx_index:7,e:t,__enum__:"ValueType",toString:v}},C.__params__=["e"],C),TUnknown:{_hx_index:8,__enum__:"ValueType",toString:v}},Cb=function(){};r.Type=Cb,Cb.__name__="Type",Cb.getEnum=function(t){return null==t?null:F[t.__enum__]},Cb.resolveEnum=function(t){return F[t]},Cb.createInstance=function(t,e){return new(Function.prototype.bind.apply(t,[null].concat(e)))},Cb.createEnum=function(t,e,n){var s=Z.field(t,e);if(null==s)throw G.thrown("No such constructor "+e);if(Z.isFunction(s)){if(null==n)throw G.thrown("Constructor "+e+" need parameters");return s.apply(t,n)}if(null!=n&&0!=n.length)throw G.thrown("Constructor "+e+" does not need parameters");return s},Cb.getInstanceFields=function(t){var e,n=[];for(e in t.prototype)n.push(e);return oa.remove(n,"__class__"),oa.remove(n,"__properties__"),n},Cb.getClassFields=function(t){return t=Z.fields(t),oa.remove(t,"__name__"),oa.remove(t,"__interfaces__"),oa.remove(t,"__properties__"),oa.remove(t,"__super__"),oa.remove(t,"__meta__"),oa.remove(t,"prototype"),t},Cb.typeof=function(t){switch(typeof t){case"boolean":return $g.TBool;case"function":return t.__name__||t.__ename__?$g.TObject:$g.TFunction;case"number":return Math.ceil(t)==t%2147483648?$g.TInt:$g.TFloat;case"object":if(null==t)return $g.TNull;var e=t.__enum__;return null!=e?$g.TEnum(F[e]):null!=(t=xa.getClass(t))?$g.TClass(t):$g.TObject;case"string":return $g.TClass(String);case"undefined":return $g.TNull;default:return $g.TUnknown}},Cb.enumEq=function(t,e){if(t==e)return!0;try{if(null==(i=t.__enum__)||i!=e.__enum__||t._hx_index!=e._hx_index)return!1;for(var n=F[i],s=n[n.__constructs__[t._hx_index]].__params__,i=0;i<s.length;){var a=s[i];if(++i,!Cb.enumEq(t[a],e[a]))return!1}}catch(t){return ub.lastError=t,!1}return!0},Cb.enumParameters=function(t){var e=F[t.__enum__];if(null==(e=e[e.__constructs__[t._hx_index]].__params__))return[];for(var n=[],s=0;s<e.length;){var i=e[s];++s,n.push(t[i])}return n};var Jb={gt:function(t,e){var n=t<0;return n!=e<0?n:e<t},toFloat:function(t){return t<0?4294967296+t:t+0}},Fj={__properties__:{get_length:"get_length"},charCodeAt:function(t,e){if(e<0)return null;for(var n=0,s=0;s<t.length;){var i=s++,a=t.charCodeAt(i),i=a=55296<=a&&a<=56319?a-55232<<10|1023&t.charCodeAt(i+1):a;if(n==e)return i;65536<=i&&++s,++n}return null},substr:function(t,e,n){if(e<0&&((e=Fj.get_length(t)+e)<0&&(e=0)),null!=n&&(n=n<0?Fj.get_length(t)+n:n)<=0)return"";for(var s=0,i=0,a=-1,r=0;i<t.length;){var l=t.charCodeAt(i);if(55296<=l&&l<=56319&&(l=l-55232<<10|1023&t.charCodeAt(i+1)),e<=s){if(a<0){if(null==n)return oa.substr(t,i,null);a=i}if(n<=++r)return oa.substr(t,a,(l<65536?i:i+1)-a+1)}i+=65536<=l?2:1,++s}return a<0?"":oa.substr(t,a,null)},get_length:function(t){for(var e=0,n=0;n<t.length;){var s=t,i=n++,a=s.charCodeAt(i);65536<=(a=55296<=a&&a<=56319?a-55232<<10|1023&s.charCodeAt(1+i):a)&&++n,++e}return e}},yq=function(){this.ignoreShit=this.stopped=this.restarted=this.played=this.ended=this.paused=!1,this.vidPath="",this.isReady=this.addOverlay=!1};r.VideoHandler=yq,yq.__name__="VideoHandler",yq.prototype={netStream:null,video:null,isReady:null,addOverlay:null,vidPath:null,ignoreShit:null,source:function(t){null!=t&&0<t.length&&(this.vidPath=t)},init1:function(){this.isReady=!1,this.video=new Bl,this.video.set_visible(!1)},init2:function(){var t=new uk;t.connect(null),this.netStream=new Cl(t),this.netStream.client={onMetaData:y(this,this.client_onMetaData)},this.netStream.addEventListener("asyncError",y(this,this.netStream_onAsyncError)),t.addEventListener("netStatus",y(this,this.netConnection_onNetStatus)),t.addEventListener("netStatus",y(this,this.onPlay)),t.addEventListener("netStatus",y(this,this.onEnd))},client_onMetaData:function(t){this.video.attachNetStream(this.netStream),this.video.set_width(n.width),this.video.set_height(n.height)},netStream_onAsyncError:function(t){Bb.trace("Error loading video",{fileName:"source/VideoHandler.hx",lineNumber:73,className:"VideoHandler",methodName:"netStream_onAsyncError"})},netConnection_onNetStatus:function(t){Bb.trace(t.info.code,{fileName:"source/VideoHandler.hx",lineNumber:79,className:"VideoHandler",methodName:"netConnection_onNetStatus"})},play:function(){this.ignoreShit=!0,this.netStream.close(),this.init2(),this.netStream.play(this.vidPath),this.ignoreShit=!1,Bb.trace(this.vidPath,{fileName:"source/VideoHandler.hx",lineNumber:91,className:"VideoHandler",methodName:"play"})},stop:function(){this.netStream.close(),this.onStop()},restart:function(){this.play(),this.onRestart()},update:function(t){this.video.set_x(dc.calc(0)),this.video.set_y(dc.calc(1)),this.video.set_width(dc.calc(2)),this.video.set_height(dc.calc(3))},stopped:null,restarted:null,played:null,ended:null,paused:null,pause:function(){this.netStream.pause(),this.paused=!0},resume:function(){this.netStream.resume(),this.paused=!1},togglePause:function(){this.paused?this.resume():this.pause()},clearPause:function(){this.paused=!1},onStop:function(){this.ignoreShit||(this.stopped=!0)},onRestart:function(){this.restarted=!0},onPlay:function(t){"NetStream.Play.Start"==t.info.code&&(this.played=!0)},onEnd:function(t){"NetStream.Play.Complete"==t.info.code&&(this.ended=!0)},alpha:function(){this.video.set_alpha(dc.daAlpha1)},unalpha:function(){this.video.set_alpha(dc.daAlpha2)},hide:function(){this.video.set_visible(!1)},show:function(){this.video.set_visible(!0)},__class__:yq};var tk=function(t,e){this.pauseText="Press P To Pause/Unpause",this.doShit=!1,this.defaultText="",this.videoFrames=0,this.soundMultiplier=this.prevSoundMultiplier=1,this.useSound=!1,this.notDone=!0,this.fuckingVolume=1,this.leSource="",na.call(this),this.leSource=t,this.transClass=e};r.VideoState=tk,tk.__name__="VideoState",tk.__super__=na,tk.prototype=D(na.prototype,{leSource:null,transClass:null,txt:null,fuckingVolume:null,notDone:null,vidSound:null,useSound:null,soundMultiplier:null,prevSoundMultiplier:null,videoFrames:null,defaultText:null,doShit:null,pauseText:null,create:function(){na.prototype.create.call(this),this.doShit=n.autoPause=!1,dc.isWebm&&(this.videoFrames=U.parseInt(ua.getText(Y.replace(this.leSource,".webm",".txt")))),this.fuckingVolume=n.sound.music._volume,n.sound.music.set_volume(0);var t=(new M).makeGraphic(n.width,n.height,-16777216);this.add(t),this.defaultText="If Your On HTML5\nTap Anything...\nThe Bottom Text Indicates If You\nAre Using HTML5...\n\nYou Are Using HTML5!",this.txt=new Vb(0,0,n.width,this.defaultText,32),this.txt.setFormat("VCR OSD Mono",32,-1,"center"),this.txt.screenCenter(),this.add(this.txt),dc.isWebm&&(ua.exists(Y.replace(this.leSource,".webm",".ogg"),"MUSIC")||ua.exists(Y.replace(this.leSource,".webm",".ogg"),"SOUND"))&&(this.useSound=!0,this.vidSound=n.sound.play(Y.replace(this.leSource,".webm",".ogg"))),dc.get().source(this.leSource),dc.get().clearPause(),dc.isWebm&&dc.get().updatePlayer(),dc.get().show(),dc.isWebm?dc.get().restart():dc.get().play(),this.doShit=!0},update:function(t){var e;na.prototype.update.call(this,t),this.useSound&&(e=dc.get().webm.wasHitOnce,this.soundMultiplier=dc.get().webm.renderedCount/this.videoFrames,1<this.soundMultiplier&&(this.soundMultiplier=1),this.soundMultiplier<0&&(this.soundMultiplier=0),this.doShit&&(this.vidSound._time>=this.vidSound._length*this.soundMultiplier+50||this.vidSound._time<=this.vidSound._length*this.soundMultiplier-50)&&this.vidSound.set_time(this.vidSound._length*this.soundMultiplier),e&&(0==this.soundMultiplier?0!=this.prevSoundMultiplier&&(this.vidSound.pause(),this.vidSound.set_time(0)):0==this.prevSoundMultiplier&&(this.vidSound.resume(),this.vidSound.set_time(this.vidSound._length*this.soundMultiplier)),this.prevSoundMultiplier=this.soundMultiplier)),this.notDone&&n.sound.music.set_volume(0),dc.get().update(t),ec.player1.controls._reset.check()&&dc.get().restart(),(t=n.keys.justPressed).keyManager.checkStatus(80,t.status)&&(this.txt.set_text(this.pauseText),Bb.trace("PRESSED PAUSE",{fileName:"source/VideoState.hx",lineNumber:175,className:"VideoState",methodName:"update"}),dc.get().togglePause(),dc.get().paused?dc.get().alpha():(dc.get().unalpha(),this.txt.set_text(this.defaultText))),(ec.player1.controls._accept.check()||dc.get().ended||dc.get().stopped)&&(this.txt.set_visible(!1),dc.get().hide(),dc.get().stop()),(ec.player1.controls._accept.check()||dc.get().ended)&&(this.notDone=!1,n.sound.music.set_volume(this.fuckingVolume),this.txt.set_text(this.pauseText),n.autoPause=!0,t=this.transClass,n.game._state.switchTo(t)&&(n.game._requestedState=t)),(dc.get().played||dc.get().restarted)&&dc.get().show(),dc.get().restarted=!1,dc.get().played=!1,dc.get().stopped=!1,dc.get().ended=!1},__class__:tk});var Es=function(){Bb.trace("THIS IS ANDROID! or some shit...",{fileName:"source/WebmHandler.hx",lineNumber:166,className:"WebmHandler",methodName:"new"})};r.WebmHandler=Es,Es.__name__="WebmHandler",Es.prototype={webm:null,__class__:Es};var Rt=F.WiggleEffectType={__ename__:"WiggleEffectType",__constructs__:["DREAMY","WAVY","HEAT_WAVE_HORIZONTAL","HEAT_WAVE_VERTICAL","FLAG"],DREAMY:{_hx_index:0,__enum__:"WiggleEffectType",toString:v},WAVY:{_hx_index:1,__enum__:"WiggleEffectType",toString:v},HEAT_WAVE_HORIZONTAL:{_hx_index:2,__enum__:"WiggleEffectType",toString:v},HEAT_WAVE_VERTICAL:{_hx_index:3,__enum__:"WiggleEffectType",toString:v},FLAG:{_hx_index:4,__enum__:"WiggleEffectType",toString:v}},Kq=function(){this.waveSpeed=this.waveFrequency=this.waveAmplitude=0,this.effectType=Rt.DREAMY,this.shader=new Bn,this.shader.uTime.value=[0]};r.WiggleEffect=Kq,Kq.__name__="WiggleEffect",Kq.prototype={shader:null,effectType:null,waveSpeed:null,waveFrequency:null,waveAmplitude:null,update:function(t){this.shader.uTime.value[0]+=t},set_effectType:function(t){this.effectType=t;var e=Rt.__constructs__.slice();return this.shader.effectType.value=[e.indexOf(U.string(t))],t},set_waveSpeed:function(t){return this.waveSpeed=t,this.shader.uSpeed.value=[this.waveSpeed],t},set_waveFrequency:function(t){return this.waveFrequency=t,this.shader.uFrequency.value=[this.waveFrequency],t},set_waveAmplitude:function(t){return this.waveAmplitude=t,this.shader.uWaveAmplitude.value=[this.waveAmplitude],t},__class__:Kq,__properties__:{set_waveAmplitude:"set_waveAmplitude",set_waveFrequency:"set_waveFrequency",set_waveSpeed:"set_waveSpeed",set_effectType:"set_effectType"}};var ah=function(t){this.byteCode=t,this.precisionHint=1,this.__glSourceDirty=!0,this.__numPasses=1,this.__data=St._new(t)};r["openfl.display.Shader"]=ah,ah.__name__="openfl.display.Shader",ah.prototype={byteCode:null,glProgram:null,precisionHint:null,program:null,__alpha:null,__bitmap:null,__colorMultiplier:null,__colorOffset:null,__context:null,__data:null,__glFragmentSource:null,__glSourceDirty:null,__glVertexSource:null,__hasColorTransform:null,__inputBitmapData:null,__isGenerated:null,__matrix:null,__numPasses:null,__paramBool:null,__paramFloat:null,__paramInt:null,__position:null,__textureCoord:null,__texture:null,__textureSize:null,__clearUseArray:function(){for(var t=0,e=this.__paramBool;t<e.length;){var n=e[t];++t,n.__useArray=!1}for(t=0,e=this.__paramFloat;t<e.length;)n=e[t],++t,n.__useArray=!1;for(t=0,e=this.__paramInt;t<e.length;)n=e[t],++t,n.__useArray=!1},__createGLShader:function(t,e){var n=this.__context.gl,s=n.createShader(e);return n.shaderSource(s,t),n.compileShader(s),0==n.getShaderParameter(s,n.COMPILE_STATUS)&&(e=e==n.VERTEX_SHADER?"Error compiling vertex shader":"Error compiling fragment shader",e+="\n"+n.getShaderInfoLog(s),Eb.error(e+"\n"+t,{fileName:"openfl/display/Shader.hx",lineNumber:331,className:"openfl.display.Shader",methodName:"__createGLShader"})),s},__createGLProgram:function(t,e){var n=this.__context.gl;t=this.__createGLShader(t,n.VERTEX_SHADER);var s=this.__createGLShader(e,n.FRAGMENT_SHADER);e=n.createProgram();for(var i=0,a=this.__paramFloat;i<a.length;){var r=a[i];if(++i,-1<r.name.indexOf("Position")&&Y.startsWith(r.name,"openfl_")){n.bindAttribLocation(e,0,r.name);break}}return n.attachShader(e,t),n.attachShader(e,s),n.linkProgram(e),0==n.getProgramParameter(e,n.LINK_STATUS)&&(n="Unable to initialize the shader program\n"+n.getProgramInfoLog(e),Eb.error(n,{fileName:"openfl/display/Shader.hx",lineNumber:364,className:"openfl.display.Shader",methodName:"__createGLProgram"})),e},__disable:function(){null!=this.program&&this.__disableGL()},__disableGL:function(){for(var t=this.__context.gl,e=0,n=0,s=this.__inputBitmapData;n<s.length;){var i=s[n];++n,i.__disableGL(this.__context,e),++e}for(n=0,s=this.__paramBool;n<s.length;)e=s[n],++n,e.__disableGL(this.__context);for(n=0,s=this.__paramFloat;n<s.length;)e=s[n],++n,e.__disableGL(this.__context);for(n=0,s=this.__paramInt;n<s.length;)e=s[n],++n,e.__disableGL(this.__context);this.__context.__bindGLArrayBuffer(null),"opengl"==this.__context.__context.type&&t.disable(t.TEXTURE_2D)},__enable:function(){this.__init(),null!=this.program&&this.__enableGL()},__enableGL:function(){for(var t=0,e=this.__context.gl,n=0,s=this.__inputBitmapData;n<s.length;){var i=s[n];++n,e.uniform1i(i.index,t),++t}"opengl"==this.__context.__context.type&&0<t&&e.enable(e.TEXTURE_2D)},__init:function(){null==this.__data&&(this.__data=St._new(null)),null==this.__glFragmentSource||null==this.__glVertexSource||null!=this.program&&!this.__glSourceDirty||this.__initGL()},__initGL:function(){if(!this.__glSourceDirty&&null!=this.__paramBool||(this.__glSourceDirty=!1,this.program=null,this.__inputBitmapData=[],this.__paramBool=[],this.__paramFloat=[],this.__paramInt=[],this.__processGLData(this.get_glVertexSource(),"attribute"),this.__processGLData(this.get_glVertexSource(),"uniform"),this.__processGLData(this.get_glFragmentSource(),"uniform")),null!=this.__context&&null==this.program){var t=this.__context.gl,e="#ifdef GL_ES\n\t\t\t\t"+(1==this.precisionHint?"#ifdef GL_FRAGMENT_PRECISION_HIGH\n\t\t\t\tprecision highp float;\n\t\t\t\t#else\n\t\t\t\tprecision mediump float;\n\t\t\t\t#endif":"precision lowp float;")+"\n\t\t\t\t#endif\n\t\t\t\t",n=e+this.get_glVertexSource(),s=n+(e+=this.get_glFragmentSource());if(Object.prototype.hasOwnProperty.call(this.__context.__programs.h,s)?this.program=this.__context.__programs.h[s]:(this.program=this.__context.createProgram(1),this.program.__glProgram=this.__createGLProgram(n,e),this.__context.__programs.h[s]=this.program),null!=this.program){for(this.glProgram=this.program.__glProgram,n=0,e=this.__inputBitmapData;n<e.length;)s=e[n],++n,s.index=s.__isUniform?t.getUniformLocation(this.glProgram,s.name):t.getAttribLocation(this.glProgram,s.name);for(n=0,e=this.__paramBool;n<e.length;)s=e[n],++n,s.index=s.__isUniform?t.getUniformLocation(this.glProgram,s.name):t.getAttribLocation(this.glProgram,s.name);for(n=0,e=this.__paramFloat;n<e.length;)s=e[n],++n,s.index=s.__isUniform?t.getUniformLocation(this.glProgram,s.name):t.getAttribLocation(this.glProgram,s.name);for(n=0,e=this.__paramInt;n<e.length;)s=e[n],++n,s.index=s.__isUniform?t.getUniformLocation(this.glProgram,s.name):t.getAttribLocation(this.glProgram,s.name)}}},__processGLData:function(t,e){for(var n=0,s=new Mb("uniform"==e?"uniform ([A-Za-z0-9]+) ([A-Za-z0-9_]+)":"attribute ([A-Za-z0-9]+) ([A-Za-z0-9_]+)","");s.matchSub(t,n);){var i=s.matched(1),a=s.matched(2);if(!Y.startsWith(a,"gl_")){if(n="uniform"==e,Y.startsWith(i,"sampler")){switch((i=new Cn).name=a,i.__isUniform=n,this.__inputBitmapData.push(i),a){case"bitmap":this.__bitmap=i;break;case"openfl_Texture":this.__texture=i}this.__data[a]=i,this.__isGenerated&&(this[a]=i)}else if(!Object.prototype.hasOwnProperty.call(this.__data,a)||null==Z.field(this.__data,a)){switch(i){case"bool":var r=0;break;case"bvec2":r=1;break;case"bvec3":r=2;break;case"bvec4":r=3;break;case"dvec2":case"vec2":r=5;break;case"dvec3":case"vec3":r=6;break;case"double":case"float":r=4;break;case"ivec3":case"uvec3":r=10;break;case"ivec4":case"uvec4":r=11;break;case"mat2":case"mat2x2":r=12;break;case"mat2x3":r=13;break;case"mat2x4":r=14;break;case"mat3x2":r=15;break;case"mat3":case"mat3x3":r=16;break;case"mat3x4":r=17;break;case"mat4":case"mat4x4":r=20;break;case"mat4x2":r=18;break;case"mat4x3":r=19;break;case"int":case"uint":r=8;break;case"ivec2":case"uvec2":r=9;break;case"dvec4":case"vec4":r=7;break;default:r=null}switch(r){case 1:case 5:case 9:i=2;break;case 3:case 7:case 11:case 12:i=4;break;case 2:case 6:case 10:i=3;break;case 16:i=9;break;case 20:i=16;break;default:i=1}switch(r){case 12:var l=2;break;case 16:l=3;break;case 20:l=4;break;default:l=1}switch(r){case 0:case 1:case 2:case 3:var o=new vk;o.set_name(a),o.type=r,o.__arrayLength=l,o.__isBool=!0,o.__isUniform=n,o.__length=i,this.__paramBool.push(o),"openfl_HasColorTransform"==a&&(this.__hasColorTransform=o),this.__data[a]=o,this.__isGenerated&&(this[a]=o);break;case 8:case 9:case 10:case 11:(o=new vk).set_name(a),o.type=r,o.__arrayLength=l,o.__isInt=!0,o.__isUniform=n,o.__length=i,this.__paramInt.push(o),this.__data[a]=o,this.__isGenerated&&(this[a]=o);break;default:if((o=new vk).set_name(a),o.type=r,0<(o.__arrayLength=l)&&(r=null!=(r=l*l)?new Float32Array(r):null,o.__uniformMatrix=r),o.__isFloat=!0,o.__isUniform=n,o.__length=i,this.__paramFloat.push(o),Y.startsWith(a,"openfl_"))switch(a){case"openfl_Alpha":this.__alpha=o;break;case"openfl_ColorMultiplier":this.__colorMultiplier=o;break;case"openfl_ColorOffset":this.__colorOffset=o;break;case"openfl_Matrix":this.__matrix=o;break;case"openfl_Position":this.__position=o;break;case"openfl_TextureCoord":this.__textureCoord=o;break;case"openfl_TextureSize":this.__textureSize=o}this.__data[a]=o,this.__isGenerated&&(this[a]=o)}}n=(a=s.matchedPos()).pos+a.len}}},__update:function(){null!=this.program&&this.__updateGL()},__updateFromBuffer:function(t,e){null!=this.program&&this.__updateGLFromBuffer(t,e)},__updateGL:function(){for(var t=0,e=0,n=this.__inputBitmapData;e<n.length;){var s=n[e];++e,s.__updateGL(this.__context,t),++t}for(e=0,n=this.__paramBool;e<n.length;)t=n[e],++e,t.__updateGL(this.__context);for(e=0,n=this.__paramFloat;e<n.length;)t=n[e],++e,t.__updateGL(this.__context);for(e=0,n=this.__paramInt;e<n.length;)t=n[e],++e,t.__updateGL(this.__context)},__updateGLFromBuffer:function(t,e){for(var n,s=0,i=0,a=t.inputCount;i<a;)d=i++,n=t.inputRefs[d],r=t.inputs[d],l=t.inputFilter[d],o=t.inputMipFilter[d],d=t.inputWrap[d],null!=r&&(n.__updateGL(this.__context,s,r,l,o,d),++s);i=this.__context.gl,0<t.paramDataLength?(null==t.paramDataBuffer&&(t.paramDataBuffer=i.createBuffer()),this.__context.__bindGLArrayBuffer(t.paramDataBuffer),Pc.bufferData(i,i.ARRAY_BUFFER,t.paramData,i.DYNAMIC_DRAW)):this.__context.__bindGLArrayBuffer(null);for(var r=n=s=0,l=t.paramBoolCount,o=t.paramFloatCount,h=t.paramData,_=null,u=null,c=null,i=0,a=t.paramCount;i<a;){var d,f=!1;if((d=i++)<l){for(var p=t.paramRefs_Bool[s],m=0,g=t.overrideBoolCount;m<g;){var b=m++;if(p.name==t.overrideBoolNames[b]){_=t.overrideBoolValues[b],f=!0;break}}f?p.__updateGL(this.__context,_):p.__updateGLFromBuffer(this.__context,h,t.paramPositions[d],t.paramLengths[d],e),++s}else if(d<l+o){for(p=t.paramRefs_Float[n],m=0,g=t.overrideFloatCount;m<g;)if(b=m++,p.name==t.overrideFloatNames[b]){u=t.overrideFloatValues[b],f=!0;break}f?p.__updateGL(this.__context,u):p.__updateGLFromBuffer(this.__context,h,t.paramPositions[d],t.paramLengths[d],e),++n}else{for(p=t.paramRefs_Int[r],m=0,g=t.overrideIntCount;m<g;)if(b=m++,p.name==t.overrideIntNames[b]){c=t.overrideIntValues[b],f=!0;break}f?p.__updateGL(this.__context,c):p.__updateGLFromBuffer(this.__context,h,t.paramPositions[d],t.paramLengths[d],e),++r}}},get_data:function(){return!this.__glSourceDirty&&null!=this.__data||this.__init(),this.__data},set_data:function(t){return this.__data=t},get_glFragmentSource:function(){return this.__glFragmentSource},set_glFragmentSource:function(t){return t!=this.__glFragmentSource&&(this.__glSourceDirty=!0),this.__glFragmentSource=t},get_glVertexSource:function(){return this.__glVertexSource},set_glVertexSource:function(t){return t!=this.__glVertexSource&&(this.__glSourceDirty=!0),this.__glVertexSource=t},__class__:ah,__properties__:{set_glVertexSource:"set_glVertexSource",get_glVertexSource:"get_glVertexSource",set_glFragmentSource:"set_glFragmentSource",get_glFragmentSource:"get_glFragmentSource",set_data:"set_data",get_data:"get_data"}};var Ij=function(t){null==this.__glFragmentSource&&(this.__glFragmentSource="varying float openfl_Alphav;\n\t\tvarying vec4 openfl_ColorMultiplierv;\n\t\tvarying vec4 openfl_ColorOffsetv;\n\t\tvarying vec2 openfl_TextureCoordv;\n\n\t\tuniform bool openfl_HasColorTransform;\n\t\tuniform vec2 openfl_TextureSize;\n\t\tuniform sampler2D bitmap;\n\n\t\tvoid main(void) {\n\n\t\t\tvec4 color = texture2D (bitmap, openfl_TextureCoordv);\n\n\t\tif (color.a == 0.0) {\n\n\t\t\tgl_FragColor = vec4 (0.0, 0.0, 0.0, 0.0);\n\n\t\t} else if (openfl_HasColorTransform) {\n\n\t\t\tcolor = vec4 (color.rgb / color.a, color.a);\n\n\t\t\tmat4 colorMultiplier = mat4 (0);\n\t\t\tcolorMultiplier[0][0] = openfl_ColorMultiplierv.x;\n\t\t\tcolorMultiplier[1][1] = openfl_ColorMultiplierv.y;\n\t\t\tcolorMultiplier[2][2] = openfl_ColorMultiplierv.z;\n\t\t\tcolorMultiplier[3][3] = 1.0; // openfl_ColorMultiplierv.w;\n\n\t\t\tcolor = clamp (openfl_ColorOffsetv + (color * colorMultiplier), 0.0, 1.0);\n\n\t\t\tif (color.a > 0.0) {\n\n\t\t\t\tgl_FragColor = vec4 (color.rgb * color.a * openfl_Alphav, color.a * openfl_Alphav);\n\n\t\t\t} else {\n\n\t\t\t\tgl_FragColor = vec4 (0.0, 0.0, 0.0, 0.0);\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tgl_FragColor = color * openfl_Alphav;\n\n\t\t}\n\n\t\t}"),null==this.__glVertexSource&&(this.__glVertexSource="attribute float openfl_Alpha;\n\t\tattribute vec4 openfl_ColorMultiplier;\n\t\tattribute vec4 openfl_ColorOffset;\n\t\tattribute vec4 openfl_Position;\n\t\tattribute vec2 openfl_TextureCoord;\n\n\t\tvarying float openfl_Alphav;\n\t\tvarying vec4 openfl_ColorMultiplierv;\n\t\tvarying vec4 openfl_ColorOffsetv;\n\t\tvarying vec2 openfl_TextureCoordv;\n\n\t\tuniform mat4 openfl_Matrix;\n\t\tuniform bool openfl_HasColorTransform;\n\t\tuniform vec2 openfl_TextureSize;\n\n\t\tvoid main(void) {\n\n\t\t\topenfl_Alphav = openfl_Alpha;\n\t\topenfl_TextureCoordv = openfl_TextureCoord;\n\n\t\tif (openfl_HasColorTransform) {\n\n\t\t\topenfl_ColorMultiplierv = openfl_ColorMultiplier;\n\t\t\topenfl_ColorOffsetv = openfl_ColorOffset / 255.0;\n\n\t\t}\n\n\t\tgl_Position = openfl_Matrix * openfl_Position;\n\n\t\t}"),ah.call(this,t),this.__isGenerated=!0,this.__initGL()};r["openfl.display.GraphicsShader"]=Ij,Ij.__name__="openfl.display.GraphicsShader",Ij.__super__=ah,Ij.prototype=D(ah.prototype,{openfl_Alpha:null,openfl_ColorMultiplier:null,openfl_ColorOffset:null,openfl_Position:null,openfl_TextureCoord:null,openfl_Matrix:null,openfl_HasColorTransform:null,openfl_TextureSize:null,bitmap:null,__class__:Ij});var Jj=function(){null==this.__glFragmentSource&&(this.__glFragmentSource="\n\t\tvarying float openfl_Alphav;\n\t\tvarying vec4 openfl_ColorMultiplierv;\n\t\tvarying vec4 openfl_ColorOffsetv;\n\t\tvarying vec2 openfl_TextureCoordv;\n\n\t\tuniform bool openfl_HasColorTransform;\n\t\tuniform vec2 openfl_TextureSize;\n\t\tuniform sampler2D bitmap;\n\n\t\tuniform bool hasTransform;\n\t\tuniform bool hasColorTransform;\n\n\t\tvec4 flixel_texture2D(sampler2D bitmap, vec2 coord)\n\t\t{\n\t\t\tvec4 color = texture2D(bitmap, coord);\n\t\t\tif (!hasTransform)\n\t\t\t{\n\t\t\t\treturn color;\n\t\t\t}\n\n\t\t\tif (color.a == 0.0)\n\t\t\t{\n\t\t\t\treturn vec4(0.0, 0.0, 0.0, 0.0);\n\t\t\t}\n\n\t\t\tif (!hasColorTransform)\n\t\t\t{\n\t\t\t\treturn color * openfl_Alphav;\n\t\t\t}\n\n\t\t\tcolor = vec4(color.rgb / color.a, color.a);\n\n\t\t\tmat4 colorMultiplier = mat4(0);\n\t\t\tcolorMultiplier[0][0] = openfl_ColorMultiplierv.x;\n\t\t\tcolorMultiplier[1][1] = openfl_ColorMultiplierv.y;\n\t\t\tcolorMultiplier[2][2] = openfl_ColorMultiplierv.z;\n\t\t\tcolorMultiplier[3][3] = openfl_ColorMultiplierv.w;\n\n\t\t\tcolor = clamp(openfl_ColorOffsetv + (color * colorMultiplier), 0.0, 1.0);\n\n\t\t\tif (color.a > 0.0)\n\t\t\t{\n\t\t\t\treturn vec4(color.rgb * color.a * openfl_Alphav, color.a * openfl_Alphav);\n\t\t\t}\n\t\t\treturn vec4(0.0, 0.0, 0.0, 0.0);\n\t\t}\n\t\n\t\t\n\t\tvoid main(void)\n\t\t{\n\t\t\tgl_FragColor = flixel_texture2D(bitmap, openfl_TextureCoordv);\n\t\t}"),null==this.__glVertexSource&&(this.__glVertexSource="\n\t\tattribute float openfl_Alpha;\n\t\tattribute vec4 openfl_ColorMultiplier;\n\t\tattribute vec4 openfl_ColorOffset;\n\t\tattribute vec4 openfl_Position;\n\t\tattribute vec2 openfl_TextureCoord;\n\n\t\tvarying float openfl_Alphav;\n\t\tvarying vec4 openfl_ColorMultiplierv;\n\t\tvarying vec4 openfl_ColorOffsetv;\n\t\tvarying vec2 openfl_TextureCoordv;\n\n\t\tuniform mat4 openfl_Matrix;\n\t\tuniform bool openfl_HasColorTransform;\n\t\tuniform vec2 openfl_TextureSize;\n\n\t\t\n\t\tattribute float alpha;\n\t\tattribute vec4 colorMultiplier;\n\t\tattribute vec4 colorOffset;\n\t\tuniform bool hasColorTransform;\n\t\t\n\t\tvoid main(void)\n\t\t{\n\t\t\topenfl_Alphav = openfl_Alpha;\n\t\topenfl_TextureCoordv = openfl_TextureCoord;\n\n\t\tif (openfl_HasColorTransform) {\n\n\t\t\topenfl_ColorMultiplierv = openfl_ColorMultiplier;\n\t\t\topenfl_ColorOffsetv = openfl_ColorOffset / 255.0;\n\n\t\t}\n\n\t\tgl_Position = openfl_Matrix * openfl_Position;\n\n\t\t\t\n\t\t\topenfl_Alphav = openfl_Alpha * alpha;\n\t\t\t\n\t\t\tif (hasColorTransform)\n\t\t\t{\n\t\t\t\topenfl_ColorOffsetv = colorOffset / 255.0;\n\t\t\t\topenfl_ColorMultiplierv = colorMultiplier;\n\t\t\t}\n\t\t}"),Ij.call(this),this.__isGenerated=!0,this.__initGL()};r["flixel.graphics.tile.FlxGraphicsShader"]=Jj,Jj.__name__="flixel.graphics.tile.FlxGraphicsShader",Jj.__super__=Ij,Jj.prototype=D(Ij.prototype,{alpha:null,colorMultiplier:null,colorOffset:null,hasColorTransform:null,hasTransform:null,__class__:Jj});var Bn=function(){null==this.__glFragmentSource&&(this.__glFragmentSource="\n\t\tvarying float openfl_Alphav;\n\t\tvarying vec4 openfl_ColorMultiplierv;\n\t\tvarying vec4 openfl_ColorOffsetv;\n\t\tvarying vec2 openfl_TextureCoordv;\n\n\t\tuniform bool openfl_HasColorTransform;\n\t\tuniform vec2 openfl_TextureSize;\n\t\tuniform sampler2D bitmap;\n\n\t\tuniform bool hasTransform;\n\t\tuniform bool hasColorTransform;\n\n\t\tvec4 flixel_texture2D(sampler2D bitmap, vec2 coord)\n\t\t{\n\t\t\tvec4 color = texture2D(bitmap, coord);\n\t\t\tif (!hasTransform)\n\t\t\t{\n\t\t\t\treturn color;\n\t\t\t}\n\n\t\t\tif (color.a == 0.0)\n\t\t\t{\n\t\t\t\treturn vec4(0.0, 0.0, 0.0, 0.0);\n\t\t\t}\n\n\t\t\tif (!hasColorTransform)\n\t\t\t{\n\t\t\t\treturn color * openfl_Alphav;\n\t\t\t}\n\n\t\t\tcolor = vec4(color.rgb / color.a, color.a);\n\n\t\t\tmat4 colorMultiplier = mat4(0);\n\t\t\tcolorMultiplier[0][0] = openfl_ColorMultiplierv.x;\n\t\t\tcolorMultiplier[1][1] = openfl_ColorMultiplierv.y;\n\t\t\tcolorMultiplier[2][2] = openfl_ColorMultiplierv.z;\n\t\t\tcolorMultiplier[3][3] = openfl_ColorMultiplierv.w;\n\n\t\t\tcolor = clamp(openfl_ColorOffsetv + (color * colorMultiplier), 0.0, 1.0);\n\n\t\t\tif (color.a > 0.0)\n\t\t\t{\n\t\t\t\treturn vec4(color.rgb * color.a * openfl_Alphav, color.a * openfl_Alphav);\n\t\t\t}\n\t\t\treturn vec4(0.0, 0.0, 0.0, 0.0);\n\t\t}\n\t\n\n\t\t//uniform float tx, ty; // x,y waves phase\n\t\tuniform float uTime;\n\t\t\n\t\tconst int EFFECT_TYPE_DREAMY = 0;\n\t\tconst int EFFECT_TYPE_WAVY = 1;\n\t\tconst int EFFECT_TYPE_HEAT_WAVE_HORIZONTAL = 2;\n\t\tconst int EFFECT_TYPE_HEAT_WAVE_VERTICAL = 3;\n\t\tconst int EFFECT_TYPE_FLAG = 4;\n\t\t\n\t\tuniform int effectType;\n\t\t\n\t\t/**\n\t\t * How fast the waves move over time\n\t\t */\n\t\tuniform float uSpeed;\n\t\t\n\t\t/**\n\t\t * Number of waves over time\n\t\t */\n\t\tuniform float uFrequency;\n\t\t\n\t\t/**\n\t\t * How much the pixels are going to stretch over the waves\n\t\t */\n\t\tuniform float uWaveAmplitude;\n\n\t\tvec2 sineWave(vec2 pt)\n\t\t{\n\t\t\tfloat x = 0.0;\n\t\t\tfloat y = 0.0;\n\t\t\t\n\t\t\tif (effectType == EFFECT_TYPE_DREAMY) \n\t\t\t{\n\t\t\t\tfloat offsetX = sin(pt.y * uFrequency + uTime * uSpeed) * uWaveAmplitude;\n                pt.x += offsetX; // * (pt.y - 1.0); // <- Uncomment to stop bottom part of the screen from moving\n\t\t\t}\n\t\t\telse if (effectType == EFFECT_TYPE_WAVY) \n\t\t\t{\n\t\t\t\tfloat offsetY = sin(pt.x * uFrequency + uTime * uSpeed) * uWaveAmplitude;\n\t\t\t\tpt.y += offsetY; // * (pt.y - 1.0); // <- Uncomment to stop bottom part of the screen from moving\n\t\t\t}\n\t\t\telse if (effectType == EFFECT_TYPE_HEAT_WAVE_HORIZONTAL)\n\t\t\t{\n\t\t\t\tx = sin(pt.x * uFrequency + uTime * uSpeed) * uWaveAmplitude;\n\t\t\t}\n\t\t\telse if (effectType == EFFECT_TYPE_HEAT_WAVE_VERTICAL)\n\t\t\t{\n\t\t\t\ty = sin(pt.y * uFrequency + uTime * uSpeed) * uWaveAmplitude;\n\t\t\t}\n\t\t\telse if (effectType == EFFECT_TYPE_FLAG)\n\t\t\t{\n\t\t\t\ty = sin(pt.y * uFrequency + 10.0 * pt.x + uTime * uSpeed) * uWaveAmplitude;\n\t\t\t\tx = sin(pt.x * uFrequency + 5.0 * pt.y + uTime * uSpeed) * uWaveAmplitude;\n\t\t\t}\n\t\t\t\n\t\t\treturn vec2(pt.x + x, pt.y + y);\n\t\t}\n\n\t\tvoid main()\n\t\t{\n\t\t\tvec2 uv = sineWave(openfl_TextureCoordv);\n\t\t\tgl_FragColor = texture2D(bitmap, uv);\n\t\t}"),null==this.__glVertexSource&&(this.__glVertexSource="\n\t\tattribute float openfl_Alpha;\n\t\tattribute vec4 openfl_ColorMultiplier;\n\t\tattribute vec4 openfl_ColorOffset;\n\t\tattribute vec4 openfl_Position;\n\t\tattribute vec2 openfl_TextureCoord;\n\n\t\tvarying float openfl_Alphav;\n\t\tvarying vec4 openfl_ColorMultiplierv;\n\t\tvarying vec4 openfl_ColorOffsetv;\n\t\tvarying vec2 openfl_TextureCoordv;\n\n\t\tuniform mat4 openfl_Matrix;\n\t\tuniform bool openfl_HasColorTransform;\n\t\tuniform vec2 openfl_TextureSize;\n\n\t\t\n\t\tattribute float alpha;\n\t\tattribute vec4 colorMultiplier;\n\t\tattribute vec4 colorOffset;\n\t\tuniform bool hasColorTransform;\n\t\t\n\t\tvoid main(void)\n\t\t{\n\t\t\topenfl_Alphav = openfl_Alpha;\n\t\topenfl_TextureCoordv = openfl_TextureCoord;\n\n\t\tif (openfl_HasColorTransform) {\n\n\t\t\topenfl_ColorMultiplierv = openfl_ColorMultiplier;\n\t\t\topenfl_ColorOffsetv = openfl_ColorOffset / 255.0;\n\n\t\t}\n\n\t\tgl_Position = openfl_Matrix * openfl_Position;\n\n\t\t\t\n\t\t\topenfl_Alphav = openfl_Alpha * alpha;\n\t\t\t\n\t\t\tif (hasColorTransform)\n\t\t\t{\n\t\t\t\topenfl_ColorOffsetv = colorOffset / 255.0;\n\t\t\t\topenfl_ColorMultiplierv = colorMultiplier;\n\t\t\t}\n\t\t}"),Jj.call(this),this.__isGenerated=!0,this.__initGL()};r.WiggleShader=Bn,Bn.__name__="WiggleShader",Bn.__super__=Jj,Bn.prototype=D(Jj.prototype,{tx:null,uTime:null,effectType:null,uSpeed:null,uFrequency:null,uWaveAmplitude:null,__class__:Bn});var gb={toString:function(t){switch(t){case 0:return"Element";case 1:return"PCData";case 2:return"CData";case 3:return"Comment";case 4:return"DocType";case 5:return"ProcessingInstruction";case 6:return"Document"}}},S=function(t){this.nodeType=t,this.children=[],this.attributeMap=new va};r.Xml=S,S.__name__="Xml",S.parse=function(t){return gj.parse(t)},S.createElement=function(t){var e=new S(S.Element);if(e.nodeType!=S.Element)throw G.thrown("Bad node type, expected Element but found "+(null==e.nodeType?"null":gb.toString(e.nodeType)));return e.nodeName=t,e},S.createPCData=function(t){var e=new S(S.PCData);if(e.nodeType==S.Document||e.nodeType==S.Element)throw G.thrown("Bad node type, unexpected "+(null==e.nodeType?"null":gb.toString(e.nodeType)));return e.nodeValue=t,e},S.createCData=function(t){var e=new S(S.CData);if(e.nodeType==S.Document||e.nodeType==S.Element)throw G.thrown("Bad node type, unexpected "+(null==e.nodeType?"null":gb.toString(e.nodeType)));return e.nodeValue=t,e},S.createComment=function(t){var e=new S(S.Comment);if(e.nodeType==S.Document||e.nodeType==S.Element)throw G.thrown("Bad node type, unexpected "+(null==e.nodeType?"null":gb.toString(e.nodeType)));return e.nodeValue=t,e},S.createDocType=function(t){var e=new S(S.DocType);if(e.nodeType==S.Document||e.nodeType==S.Element)throw G.thrown("Bad node type, unexpected "+(null==e.nodeType?"null":gb.toString(e.nodeType)));return e.nodeValue=t,e},S.createProcessingInstruction=function(t){var e=new S(S.ProcessingInstruction);if(e.nodeType==S.Document||e.nodeType==S.Element)throw G.thrown("Bad node type, unexpected "+(null==e.nodeType?"null":gb.toString(e.nodeType)));return e.nodeValue=t,e},S.createDocument=function(){return new S(S.Document)},S.prototype={nodeType:null,nodeName:null,nodeValue:null,parent:null,children:null,attributeMap:null,get:function(t){if(this.nodeType!=S.Element)throw G.thrown("Bad node type, expected Element but found "+(null==this.nodeType?"null":gb.toString(this.nodeType)));return this.attributeMap.h[t]},set:function(t,e){if(this.nodeType!=S.Element)throw G.thrown("Bad node type, expected Element but found "+(null==this.nodeType?"null":gb.toString(this.nodeType)));this.attributeMap.h[t]=e},exists:function(t){if(this.nodeType!=S.Element)throw G.thrown("Bad node type, expected Element but found "+(null==this.nodeType?"null":gb.toString(this.nodeType)));return Object.prototype.hasOwnProperty.call(this.attributeMap.h,t)},attributes:function(){if(this.nodeType!=S.Element)throw G.thrown("Bad node type, expected Element but found "+(null==this.nodeType?"null":gb.toString(this.nodeType)));return va.keysIterator(this.attributeMap.h)},elements:function(){if(this.nodeType!=S.Document&&this.nodeType!=S.Element)throw G.thrown("Bad node type, expected Element or Document but found "+(null==this.nodeType?"null":gb.toString(this.nodeType)));for(var t=[],e=0,n=this.children;e<n.length;){var s=n[e];++e,s.nodeType==S.Element&&t.push(s)}return new Hf(t)},elementsNamed:function(t){if(this.nodeType!=S.Document&&this.nodeType!=S.Element)throw G.thrown("Bad node type, expected Element or Document but found "+(null==this.nodeType?"null":gb.toString(this.nodeType)));for(var e=[],n=0,s=this.children;n<s.length;){var i=s[n];if(++n,i.nodeType==S.Element){if(i.nodeType!=S.Element)throw G.thrown("Bad node type, expected Element but found "+(null==i.nodeType?"null":gb.toString(i.nodeType)));var a=i.nodeName==t}else a=!1;a&&e.push(i)}return new Hf(e)},firstElement:function(){if(this.nodeType!=S.Document&&this.nodeType!=S.Element)throw G.thrown("Bad node type, expected Element or Document but found "+(null==this.nodeType?"null":gb.toString(this.nodeType)));for(var t=0,e=this.children;t<e.length;){var n=e[t];if(++t,n.nodeType==S.Element)return n}return null},addChild:function(t){if(this.nodeType!=S.Document&&this.nodeType!=S.Element)throw G.thrown("Bad node type, expected Element or Document but found "+(null==this.nodeType?"null":gb.toString(this.nodeType)));null!=t.parent&&t.parent.removeChild(t),this.children.push(t),t.parent=this},removeChild:function(t){if(this.nodeType!=S.Document&&this.nodeType!=S.Element)throw G.thrown("Bad node type, expected Element or Document but found "+(null==this.nodeType?"null":gb.toString(this.nodeType)));return!!oa.remove(this.children,t)&&!(t.parent=null)},insertChild:function(t,e){if(this.nodeType!=S.Document&&this.nodeType!=S.Element)throw G.thrown("Bad node type, expected Element or Document but found "+(null==this.nodeType?"null":gb.toString(this.nodeType)));null!=t.parent&&oa.remove(t.parent.children,t),this.children.splice(e,0,t),t.parent=this},toString:function(){return bh.print(this)},__class__:S};var Dn=function(){};r["flixel.IFlxBasic"]=Dn,Dn.__name__="flixel.IFlxBasic",Dn.__isInterface__=!0,Dn.prototype={set_active:null,set_visible:null,set_alive:null,set_exists:null,ID:null,active:null,visible:null,alive:null,exists:null,draw:null,update:null,destroy:null,kill:null,revive:null,toString:null,__class__:Dn,__properties__:{set_exists:"set_exists",set_alive:"set_alive",set_visible:"set_visible",set_active:"set_active"}};var En=function(t){this._count=0,this._pool=[],this._class=t};r["flixel.util.FlxPool_flixel_math_FlxPoint"]=En,En.__name__="flixel.util.FlxPool_flixel_math_FlxPoint",En.__interfaces__=[ta],En.prototype={_pool:null,_class:null,_count:null,get:function(){return 0==this._count?Cb.createInstance(this._class,[]):this._pool[--this._count]},put:function(t){var e;null==t||(-1==(e=this._pool.indexOf(t))||e>=this._count)&&(t.destroy(),this._pool[this._count++]=t)},putUnsafe:function(t){null!=t&&(t.destroy(),this._pool[this._count++]=t)},preAllocate:function(t){for(;0<t--;)this._pool[this._count++]=Cb.createInstance(this._class,[])},clear:function(){this._count=0;var t=this._pool;return this._pool=[],t},get_length:function(){return this._count},__class__:En,__properties__:{get_length:"get_length"}};var ja=function(t,e){null==e&&(e=0),null==t&&(t=0),this._weak=this._inPool=!1,this.x=this.y=0,this.set(t,e)};r["flixel.math.FlxPoint"]=ja,ja.__name__="flixel.math.FlxPoint",ja.__interfaces__=[ca],ja.__properties__={get_pool:"get_pool"},ja.get=function(t,e){return null==e&&(e=0),null==t&&(t=0),(t=ja._pool.get().set(t,e))._inPool=!1,t},ja.weak=function(t,e){return null==(e=null==e?0:e)&&(e=0),null==(t=null==t?0:t)&&(t=0),(e=ja._pool.get().set(t,e))._inPool=!1,e._weak=!0,e},ja.get_pool=function(){return ja._pool},ja.prototype={x:null,y:null,_weak:null,_inPool:null,put:function(){this._inPool||(this._inPool=!0,this._weak=!1,ja._pool.putUnsafe(this))},putWeak:function(){this._weak&&this.put()},set:function(t,e){return null==e&&(e=0),this.set_x(t=null==t?0:t),this.set_y(e),this},add:function(t,e){null==e&&(e=0);return this.set_x(this.x+(t=null==t?0:t)),this.set_y(this.y+e),this},addPoint:function(t){return this.set_x(this.x+t.x),this.set_y(this.y+t.y),t._weak&&t.put(),this},addPointWeak:function(t){return this.set_x(this.x+t.x),this.set_y(this.y+t.y),this},subtract:function(t,e){null==e&&(e=0);return this.set_x(this.x-(t=null==t?0:t)),this.set_y(this.y-e),this},subtractPoint:function(t){return this.set_x(this.x-t.x),this.set_y(this.y-t.y),t._weak&&t.put(),this},subtractPointWeak:function(t){return this.set_x(this.x-t.x),this.set_y(this.y-t.y),this},scale:function(t){return this.set_x(this.x*t),this.set_y(this.y*t),this},copyFrom:function(t){return this.set_x(t.x),this.set_y(t.y),t._weak&&t.put(),this},copyTo:function(t){return null==t&&((t=ja._pool.get().set(0,0))._inPool=!1),t.set_x(this.x),t.set_y(this.y),t},copyFromFlash:function(t){return this.set_x(t.x),this.set_y(t.y),this},copyToFlash:function(t){return(t=null==t?new tb:t).x=this.x,t.y=this.y,t},addToFlash:function(t){return t.x+=this.x,t.y+=this.y,t},subtractFromFlash:function(t){return t.x-=this.x,t.y-=this.y,t},inCoords:function(t,e,n,s){return Hb.pointInCoordinates(this.x,this.y,t,e,n,s)},inRect:function(t){return Hb.pointInFlxRect(this.x,this.y,t)},distanceTo:function(t){var e=this.x-t.x,n=this.y-t.y;return t._weak&&t.put(),Math.sqrt(e*e+n*n)},floor:function(){return this.set_x(Math.floor(this.x)),this.set_y(Math.floor(this.y)),this},ceil:function(){return this.set_x(Math.ceil(this.x)),this.set_y(Math.ceil(this.y)),this},round:function(){return this.set_x(Math.round(this.x)),this.set_y(Math.round(this.y)),this},rotate:function(t,e){1<(s=.3183098862*(n=Math.PI/180*e))?s-=Math.ceil(s)>>1<<1:s<-1&&(s+=Math.ceil(-s)>>1<<1),e=0<s?s*(3.1+s*(.5+s*(3.6*s-7.2))):s*(3.1-s*(.5+s*(7.2+3.6*s))),1<(s=.3183098862*(1.570796327+n))?s-=Math.ceil(s)>>1<<1:s<-1&&(s+=Math.ceil(-s)>>1<<1);var n=0<s?s*(3.1+s*(.5+s*(3.6*s-7.2))):s*(3.1-s*(.5+s*(7.2+3.6*s))),s=this.x-t.x,i=this.y-t.y;return this.set_x(n*s-e*i+t.x),this.set_y(e*s+n*i+t.y),t._weak&&t.put(),this},angleBetween:function(t){var e,n=t.x-this.x,s=t.y-this.y,i=0;return 0==n&&0==s||(i=.25*Math.PI,e=s<0?-s:s,i=0<=n?i-(n-e)/(n+e)*i:3*i-(n+e)/(e-n)*i,i=90<(i=180/Math.PI*(s<0?-i:i))?i-270:i+90),t._weak&&t.put(),i},toVector:function(){var t=this.x,e=this.y;return null==(e=null==e?0:e)&&(e=0),null==(t=null==t?0:t)&&(t=0),(e=ja._pool.get().set(t,e))._inPool=!1,e},equals:function(t){var e=Math.abs(this.x-t.x)<=1e-7&&Math.abs(this.y-t.y)<=1e-7;return t._weak&&t.put(),e},destroy:function(){},transform:function(t){return this.set(this.x*t.a+this.y*t.c+t.tx,this.x*t.b+this.y*t.d+t.ty)},toString:function(){var t=this.x,e=Lb._pool.get();e.label="x",e.value=t;var t=this.y,n=Lb._pool.get();return n.label="y",n.value=t,Gb.getDebugString([e,n])},set_x:function(t){return this.x=t},set_y:function(t){return this.y=t},__class__:ja,__properties__:{set_y:"set_y",set_x:"set_x"}};var Kj=function(t,e,n,s,i,a){null==a&&(a=0),null==i&&(i=0),null==s&&(s=1),null==n&&(n=0),null==e&&(e=0),this.a=t=null==t?1:t,this.b=e,this.c=n,this.d=s,this.tx=i,this.ty=a};r["lime.math.Matrix3"]=Kj,Kj.__name__="lime.math.Matrix3",Kj.prototype={a:null,b:null,c:null,d:null,tx:null,ty:null,clone:function(){return new Kj(this.a,this.b,this.c,this.d,this.tx,this.ty)},concat:function(t){var e=this.a*t.a+this.b*t.c;this.b=this.a*t.b+this.b*t.d,this.a=e,e=this.c*t.a+this.d*t.c,this.d=this.c*t.b+this.d*t.d,this.c=e,e=this.tx*t.a+this.ty*t.c+t.tx,this.ty=this.tx*t.b+this.ty*t.d+t.ty,this.tx=e},copyColumnFrom:function(t,e){if(2<t)throw G.thrown("Column "+t+" out of bounds (2)");0==t?(this.a=e.x,this.b=e.y):1==t?(this.c=e.x,this.d=e.y):(this.tx=e.x,this.ty=e.y)},copyColumnTo:function(t,e){if(2<t)throw G.thrown("Column "+t+" out of bounds (2)");0==t?(e.x=this.a,e.y=this.b,e.z=0):1==t?(e.x=this.c,e.y=this.d,e.z=0):(e.x=this.tx,e.y=this.ty,e.z=1)},copyFrom:function(t){this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.tx=t.tx,this.ty=t.ty},copyRowFrom:function(t,e){if(2<t)throw G.thrown("Row "+t+" out of bounds (2)");0==t?(this.a=e.x,this.c=e.y,this.tx=e.z):1==t&&(this.b=e.x,this.d=e.y,this.ty=e.z)},copyRowTo:function(t,e){if(2<t)throw G.thrown("Row "+t+" out of bounds (2)");0==t?(e.x=this.a,e.y=this.c,e.z=this.tx):1==t?(e.x=this.b,e.y=this.d,e.z=this.ty):(e.x=0,e.y=0,e.z=1)},createBox:function(t,e,n,s,i){var a;null==i&&(i=0),null==s&&(s=0),0!=(n=null==n?0:n)?(a=Math.cos(n),n=Math.sin(n),this.a=a*t,this.b=n*e,this.c=-n*t,this.d=a*e):(this.a=t,this.c=this.b=0,this.d=e),this.tx=s,this.ty=i},createGradientBox:function(t,e,n,s,i){var a;null==i&&(i=0),null==s&&(s=0),null==n&&(n=0),this.a=t/1638.4,this.d=e/1638.4,0!=n?(a=Math.cos(n),n=Math.sin(n),this.b=n*this.d,this.c=-n*this.a,this.a*=a,this.d*=a):this.c=this.b=0,this.tx=s+t/2,this.ty=i+e/2},equals:function(t){return null!=t&&this.tx==t.tx&&this.ty==t.ty&&this.a==t.a&&this.b==t.b&&this.c==t.c&&this.d==t.d},deltaTransformVector:function(t,e){return(e=null==e?new ue:e).x=t.x*this.a+t.y*this.c,e.y=t.x*this.b+t.y*this.d,e},identity:function(){this.a=1,this.c=this.b=0,this.d=1,this.ty=this.tx=0},invert:function(){var t,e=this.a*this.d-this.b*this.c;return 0==e?(this.a=this.b=this.c=this.d=0,this.tx=-this.tx,this.ty=-this.ty):(t=this.d*(e=1/e),this.d=this.a*e,this.a=t,this.b*=-e,this.c*=-e,e=-this.a*this.tx-this.c*this.ty,this.ty=-this.b*this.tx-this.d*this.ty,this.tx=e),this},rotate:function(t){var e=Math.cos(t);t=Math.sin(t);var n=this.a*e-this.b*t;this.b=this.a*t+this.b*e,this.a=n,n=this.c*e-this.d*t,this.d=this.c*t+this.d*e,this.c=n,n=this.tx*e-this.ty*t,this.ty=this.tx*t+this.ty*e,this.tx=n},scale:function(t,e){this.a*=t,this.b*=e,this.c*=t,this.d*=e,this.tx*=t,this.ty*=e},setRotation:function(t,e){null==e&&(e=1),this.a=Math.cos(t)*e,this.c=Math.sin(t)*e,this.b=-this.c,this.d=this.a},setTo:function(t,e,n,s,i,a){this.a=t,this.b=e,this.c=n,this.d=s,this.tx=i,this.ty=a},to3DString:function(t){return(t=null==t?!1:t)?"matrix3d("+this.a+", "+this.b+", 0, 0, "+this.c+", "+this.d+", 0, 0, 0, 0, 1, 0, "+(0|this.tx)+", "+(0|this.ty)+", 0, 1)":"matrix3d("+this.a+", "+this.b+", 0, 0, "+this.c+", "+this.d+", 0, 0, 0, 0, 1, 0, "+this.tx+", "+this.ty+", 0, 1)"},toString:function(){return"matrix("+this.a+", "+this.b+", "+this.c+", "+this.d+", "+this.tx+", "+this.ty+")"},transformRect:function(t,e){null==e&&(e=new ke);var n=this.a*t.x+this.c*t.y,s=n,i=this.b*t.x+this.d*t.y,a=i,r=this.a*(t.x+t.width)+this.c*t.y,l=this.b*(t.x+t.width)+this.d*t.y;return r<n&&(n=r),l<i&&(i=l),s<r&&(s=r),a<l&&(a=l),(r=this.a*(t.x+t.width)+this.c*(t.y+t.height))<n&&(n=r),(l=this.b*(t.x+t.width)+this.d*(t.y+t.height))<i&&(i=l),s<r&&(s=r),a<l&&(a=l),(r=this.a*t.x+this.c*(t.y+t.height))<n&&(n=r),(l=this.b*t.x+this.d*(t.y+t.height))<i&&(i=l),s<r&&(s=r),a<l&&(a=l),e.setTo(n+r,i+l,s-n,a-i),e},transformVector:function(t,e){return(e=null==e?new ue:e).x=t.x*this.a+t.y*this.c+this.tx,e.y=t.x*this.b+t.y*this.d+this.ty,e},translate:function(t,e){this.tx+=t,this.ty+=e},__class__:Kj};var nb=function(t,e,n,s,i,a){null==a&&(a=0),null==i&&(i=0),null==s&&(s=1),null==n&&(n=0),null==e&&(e=0),this.a=t=null==t?1:t,this.b=e,this.c=n,this.d=s,this.tx=i,this.ty=a};r["openfl.geom.Matrix"]=nb,nb.__name__="openfl.geom.Matrix",nb.prototype={a:null,b:null,c:null,d:null,tx:null,ty:null,__array:null,clone:function(){return new nb(this.a,this.b,this.c,this.d,this.tx,this.ty)},concat:function(t){var e=this.a*t.a+this.b*t.c;this.b=this.a*t.b+this.b*t.d,this.a=e,e=this.c*t.a+this.d*t.c,this.d=this.c*t.b+this.d*t.d,this.c=e,e=this.tx*t.a+this.ty*t.c+t.tx,this.ty=this.tx*t.b+this.ty*t.d+t.ty,this.tx=e},copyColumnFrom:function(t,e){if(2<t)throw G.thrown("Column "+t+" out of bounds (2)");0==t?(this.a=e.x,this.b=e.y):1==t?(this.c=e.x,this.d=e.y):(this.tx=e.x,this.ty=e.y)},copyColumnTo:function(t,e){if(2<t)throw G.thrown("Column "+t+" out of bounds (2)");0==t?(e.x=this.a,e.y=this.b,e.z=0):1==t?(e.x=this.c,e.y=this.d,e.z=0):(e.x=this.tx,e.y=this.ty,e.z=1)},copyFrom:function(t){this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.tx=t.tx,this.ty=t.ty},copyRowFrom:function(t,e){if(2<t)throw G.thrown("Row "+t+" out of bounds (2)");0==t?(this.a=e.x,this.c=e.y,this.tx=e.z):1==t&&(this.b=e.x,this.d=e.y,this.ty=e.z)},copyRowTo:function(t,e){if(2<t)throw G.thrown("Row "+t+" out of bounds (2)");0==t?(e.x=this.a,e.y=this.c,e.z=this.tx):1==t?(e.x=this.b,e.y=this.d,e.z=this.ty):e.setTo(0,0,1)},createBox:function(t,e,n,s,i){var a;null==i&&(i=0),null==s&&(s=0),0!=(n=null==n?0:n)?(a=Math.cos(n),n=Math.sin(n),this.a=a*t,this.b=n*e,this.c=-n*t,this.d=a*e):(this.a=t,this.c=this.b=0,this.d=e),this.tx=s,this.ty=i},createGradientBox:function(t,e,n,s,i){var a;null==i&&(i=0),null==s&&(s=0),null==n&&(n=0),this.a=t/1638.4,this.d=e/1638.4,0!=n?(a=Math.cos(n),n=Math.sin(n),this.b=n*this.d,this.c=-n*this.a,this.a*=a,this.d*=a):this.c=this.b=0,this.tx=s+t/2,this.ty=i+e/2},deltaTransformPoint:function(t){return new tb(t.x*this.a+t.y*this.c,t.x*this.b+t.y*this.d)},equals:function(t){return null!=t&&this.tx==t.tx&&this.ty==t.ty&&this.a==t.a&&this.b==t.b&&this.c==t.c&&this.d==t.d},identity:function(){this.a=1,this.c=this.b=0,this.d=1,this.ty=this.tx=0},invert:function(){var t,e=this.a*this.d-this.b*this.c;return 0==e?(this.a=this.b=this.c=this.d=0,this.tx=-this.tx,this.ty=-this.ty):(t=this.d*(e=1/e),this.d=this.a*e,this.a=t,this.b*=-e,this.c*=-e,e=-this.a*this.tx-this.c*this.ty,this.ty=-this.b*this.tx-this.d*this.ty,this.tx=e),this},rotate:function(t){var e=Math.cos(t);t=Math.sin(t);var n=this.a*e-this.b*t;this.b=this.a*t+this.b*e,this.a=n,n=this.c*e-this.d*t,this.d=this.c*t+this.d*e,this.c=n,n=this.tx*e-this.ty*t,this.ty=this.tx*t+this.ty*e,this.tx=n},scale:function(t,e){this.a*=t,this.b*=e,this.c*=t,this.d*=e,this.tx*=t,this.ty*=e},setRotation:function(t,e){null==e&&(e=1),this.a=Math.cos(t)*e,this.c=Math.sin(t)*e,this.b=-this.c,this.d=this.a},setTo:function(t,e,n,s,i,a){this.a=t,this.b=e,this.c=n,this.d=s,this.tx=i,this.ty=a},to3DString:function(t){return(t=null==t?!1:t)?"matrix3d("+this.a+", "+this.b+", 0, 0, "+this.c+", "+this.d+", 0, 0, 0, 0, 1, 0, "+(0|this.tx)+", "+(0|this.ty)+", 0, 1)":"matrix3d("+this.a+", "+this.b+", 0, 0, "+this.c+", "+this.d+", 0, 0, 0, 0, 1, 0, "+this.tx+", "+this.ty+", 0, 1)"},toMozString:function(){return"matrix("+this.a+", "+this.b+", "+this.c+", "+this.d+", "+this.tx+"px, "+this.ty+"px)"},toString:function(){return"matrix("+this.a+", "+this.b+", "+this.c+", "+this.d+", "+this.tx+", "+this.ty+")"},transformPoint:function(t){return new tb(t.x*this.a+t.y*this.c+this.tx,t.x*this.b+t.y*this.d+this.ty)},translate:function(t,e){this.tx+=t,this.ty+=e},toArray:function(t){return null==t&&(t=!1),null==this.__array&&(this.__array=new Float32Array(9)),t?(this.__array[0]=this.a,this.__array[1]=this.b,this.__array[2]=0,this.__array[3]=this.c,this.__array[4]=this.d,this.__array[5]=0,this.__array[6]=this.tx,this.__array[7]=this.ty):(this.__array[0]=this.a,this.__array[1]=this.c,this.__array[2]=this.tx,this.__array[3]=this.b,this.__array[4]=this.d,this.__array[5]=this.ty,this.__array[6]=0,this.__array[7]=0),this.__array[8]=1,this.__array},__cleanValues:function(){this.a=Math.round(1e3*this.a)/1e3,this.b=Math.round(1e3*this.b)/1e3,this.c=Math.round(1e3*this.c)/1e3,this.d=Math.round(1e3*this.d)/1e3,this.tx=Math.round(10*this.tx)/10,this.ty=Math.round(10*this.ty)/10},__toMatrix3:function(){return nb.__matrix3.setTo(this.a,this.b,this.c,this.d,this.tx,this.ty),nb.__matrix3},__transformInversePoint:function(t){var e,n=this.a*this.d-this.b*this.c;0==n?(t.x=-this.tx,t.y=-this.ty):(e=1/n*(this.c*(this.ty-t.y)+this.d*(t.x-this.tx)),t.y=1/n*(this.a*(t.y-this.ty)+this.b*(this.tx-t.x)),t.x=e)},__transformInverseX:function(t,e){var n=this.a*this.d-this.b*this.c;return 0==n?-this.tx:1/n*(this.c*(this.ty-e)+this.d*(t-this.tx))},__transformInverseY:function(t,e){var n=this.a*this.d-this.b*this.c;return 0==n?-this.ty:1/n*(this.a*(e-this.ty)+this.b*(this.tx-t))},__transformPoint:function(t){var e=t.x,n=t.y;t.x=e*this.a+n*this.c+this.tx,t.y=e*this.b+n*this.d+this.ty},__transformX:function(t,e){return t*this.a+e*this.c+this.tx},__transformY:function(t,e){return t*this.b+e*this.d+this.ty},__translateTransformed:function(t,e){this.tx=t*this.a+e*this.c+this.tx,this.ty=t*this.b+e*this.d+this.ty},__class__:nb};var Ic=function(t,e,n,s,i,a,r,l){null==l&&(l=0),null==r&&(r=0),null==a&&(a=0),null==i&&(i=0),null==s&&(s=1),null==n&&(n=1),null==e&&(e=1),this.r