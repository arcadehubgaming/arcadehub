(function ($hx_exports, $global) { "use strict"; var $hx_script = (function (exports, global) { // Generated by Haxe 4.1.5
(function ($hx_exports, $global) { "use strict";
$hx_exports["lime"] = $hx_exports["lime"] || {};
var $hxClasses = {},$estr = function() { return js_Boot.__string_rec(this,''); },$hxEnums = $hxEnums || {},$_;
function $extend(from, fields) {
	var proto = Object.create(from);
	for (var name in fields) proto[name] = fields[name];
	if( fields.toString !== Object.prototype.toString ) proto.toString = fields.toString;
	return proto;
}
var flixel_util_IFlxDestroyable = function() { };
$hxClasses["flixel.util.IFlxDestroyable"] = flixel_util_IFlxDestroyable;
flixel_util_IFlxDestroyable.__name__ = "flixel.util.IFlxDestroyable";
flixel_util_IFlxDestroyable.__isInterface__ = true;
flixel_util_IFlxDestroyable.prototype = {
	destroy: null
	,__class__: flixel_util_IFlxDestroyable
};
var flixel_FlxBasic = function() {
	this.flixelType = 0;
	this.exists = true;
	this.alive = true;
	this.visible = true;
	this.active = true;
	this.ID = flixel_FlxBasic.idEnumerator++;
};
$hxClasses["flixel.FlxBasic"] = flixel_FlxBasic;
flixel_FlxBasic.__name__ = "flixel.FlxBasic";
flixel_FlxBasic.__interfaces__ = [flixel_util_IFlxDestroyable];
flixel_FlxBasic.prototype = {
	ID: null
	,active: null
	,visible: null
	,alive: null
	,exists: null
	,flixelType: null
	,_cameras: null
	,destroy: function() {
		this.set_exists(false);
		this._cameras = null;
	}
	,kill: function() {
		this.set_alive(false);
		this.set_exists(false);
	}
	,revive: function() {
		this.set_alive(true);
		this.set_exists(true);
	}
	,update: function(elapsed) {
	}
	,draw: function() {
	}
	,toString: function() {
		var value = this.active;
		var _this = flixel_util_LabelValuePair._pool.get();
		_this.label = "active";
		_this.value = value;
		var value = this.visible;
		var _this1 = flixel_util_LabelValuePair._pool.get();
		_this1.label = "visible";
		_this1.value = value;
		var value = this.alive;
		var _this2 = flixel_util_LabelValuePair._pool.get();
		_this2.label = "alive";
		_this2.value = value;
		var value = this.exists;
		var _this3 = flixel_util_LabelValuePair._pool.get();
		_this3.label = "exists";
		_this3.value = value;
		return flixel_util_FlxStringUtil.getDebugString([_this,_this1,_this2,_this3]);
	}
	,set_visible: function(Value) {
		return this.visible = Value;
	}
	,set_active: function(Value) {
		return this.active = Value;
	}
	,set_exists: function(Value) {
		return this.exists = Value;
	}
	,set_alive: function(Value) {
		return this.alive = Value;
	}
	,get_camera: function() {
		if(this._cameras == null || this._cameras.length == 0) {
			return flixel_FlxCamera._defaultCameras[0];
		} else {
			return this._cameras[0];
		}
	}
	,set_camera: function(Value) {
		if(this._cameras == null) {
			this._cameras = [Value];
		} else {
			this._cameras[0] = Value;
		}
		return Value;
	}
	,get_cameras: function() {
		if(this._cameras == null) {
			return flixel_FlxCamera._defaultCameras;
		} else {
			return this._cameras;
		}
	}
	,set_cameras: function(Value) {
		return this._cameras = Value;
	}
	,__class__: flixel_FlxBasic
	,__properties__: {set_cameras:"set_cameras",get_cameras:"get_cameras",set_camera:"set_camera",get_camera:"get_camera",set_exists:"set_exists",set_alive:"set_alive",set_visible:"set_visible",set_active:"set_active"}
};
var flixel_util_IFlxPooled = function() { };
$hxClasses["flixel.util.IFlxPooled"] = flixel_util_IFlxPooled;
flixel_util_IFlxPooled.__name__ = "flixel.util.IFlxPooled";
flixel_util_IFlxPooled.__isInterface__ = true;
flixel_util_IFlxPooled.__interfaces__ = [flixel_util_IFlxDestroyable];
flixel_util_IFlxPooled.prototype = {
	put: null
	,_inPool: null
	,__class__: flixel_util_IFlxPooled
};
var flixel_util_IFlxPool = function() { };
$hxClasses["flixel.util.IFlxPool"] = flixel_util_IFlxPool;
flixel_util_IFlxPool.__name__ = "flixel.util.IFlxPool";
flixel_util_IFlxPool.__isInterface__ = true;
flixel_util_IFlxPool.prototype = {
	preAllocate: null
	,clear: null
	,__class__: flixel_util_IFlxPool
};
var flixel_util_FlxPool_$flixel_$math_$FlxRect = function(classObj) {
	this._count = 0;
	this._pool = [];
	this._class = classObj;
};
$hxClasses["flixel.util.FlxPool_flixel_math_FlxRect"] = flixel_util_FlxPool_$flixel_$math_$FlxRect;
flixel_util_FlxPool_$flixel_$math_$FlxRect.__name__ = "flixel.util.FlxPool_flixel_math_FlxRect";
flixel_util_FlxPool_$flixel_$math_$FlxRect.__interfaces__ = [flixel_util_IFlxPool];
flixel_util_FlxPool_$flixel_$math_$FlxRect.prototype = {
	_pool: null
	,_class: null
	,_count: null
	,get: function() {
		if(this._count == 0) {
			return Type.createInstance(this._class,[]);
		}
		return this._pool[--this._count];
	}
	,put: function(obj) {
		if(obj != null) {
			var i = this._pool.indexOf(obj);
			if(i == -1 || i >= this._count) {
				obj.destroy();
				this._pool[this._count++] = obj;
			}
		}
	}
	,putUnsafe: function(obj) {
		if(obj != null) {
			obj.destroy();
			this._pool[this._count++] = obj;
		}
	}
	,preAllocate: function(numObjects) {
		while(numObjects-- > 0) this._pool[this._count++] = Type.createInstance(this._class,[]);
	}
	,clear: function() {
		this._count = 0;
		var oldPool = this._pool;
		this._pool = [];
		return oldPool;
	}
	,get_length: function() {
		return this._count;
	}
	,__class__: flixel_util_FlxPool_$flixel_$math_$FlxRect
	,__properties__: {get_length:"get_length"}
};
var flixel_math_FlxRect = function(X,Y,Width,Height) {
	if(Height == null) {
		Height = 0;
	}
	if(Width == null) {
		Width = 0;
	}
	if(Y == null) {
		Y = 0;
	}
	if(X == null) {
		X = 0;
	}
	this._inPool = false;
	this._weak = false;
	var X1 = X;
	var Y1 = Y;
	var Width1 = Width;
	var Height1 = Height;
	if(Height1 == null) {
		Height1 = 0;
	}
	if(Width1 == null) {
		Width1 = 0;
	}
	if(Y1 == null) {
		Y1 = 0;
	}
	if(X1 == null) {
		X1 = 0;
	}
	this.x = X1;
	this.y = Y1;
	this.width = Width1;
	this.height = Height1;
};
$hxClasses["flixel.math.FlxRect"] = flixel_math_FlxRect;
flixel_math_FlxRect.__name__ = "flixel.math.FlxRect";
flixel_math_FlxRect.__interfaces__ = [flixel_util_IFlxPooled];
flixel_math_FlxRect.__properties__ = {get_pool:"get_pool"};
flixel_math_FlxRect.get = function(X,Y,Width,Height) {
	if(Height == null) {
		Height = 0;
	}
	if(Width == null) {
		Width = 0;
	}
	if(Y == null) {
		Y = 0;
	}
	if(X == null) {
		X = 0;
	}
	var _this = flixel_math_FlxRect._pool.get();
	var X1 = X;
	var Y1 = Y;
	var Width1 = Width;
	var Height1 = Height;
	if(Height1 == null) {
		Height1 = 0;
	}
	if(Width1 == null) {
		Width1 = 0;
	}
	if(Y1 == null) {
		Y1 = 0;
	}
	if(X1 == null) {
		X1 = 0;
	}
	_this.x = X1;
	_this.y = Y1;
	_this.width = Width1;
	_this.height = Height1;
	var rect = _this;
	rect._inPool = false;
	return rect;
};
flixel_math_FlxRect.weak = function(X,Y,Width,Height) {
	if(Height == null) {
		Height = 0;
	}
	if(Width == null) {
		Width = 0;
	}
	if(Y == null) {
		Y = 0;
	}
	if(X == null) {
		X = 0;
	}
	var X1 = X;
	var Y1 = Y;
	var Width1 = Width;
	var Height1 = Height;
	if(Height1 == null) {
		Height1 = 0;
	}
	if(Width1 == null) {
		Width1 = 0;
	}
	if(Y1 == null) {
		Y1 = 0;
	}
	if(X1 == null) {
		X1 = 0;
	}
	var _this = flixel_math_FlxRect._pool.get();
	var X = X1;
	var Y = Y1;
	var Width = Width1;
	var Height = Height1;
	if(Height == null) {
		Height = 0;
	}
	if(Width == null) {
		Width = 0;
	}
	if(Y == null) {
		Y = 0;
	}
	if(X == null) {
		X = 0;
	}
	_this.x = X;
	_this.y = Y;
	_this.width = Width;
	_this.height = Height;
	var rect = _this;
	rect._inPool = false;
	var rect1 = rect;
	rect1._weak = true;
	return rect1;
};
flixel_math_FlxRect.get_pool = function() {
	return flixel_math_FlxRect._pool;
};
flixel_math_FlxRect.prototype = {
	x: null
	,y: null
	,width: null
	,height: null
	,_weak: null
	,_inPool: null
	,put: function() {
		if(!this._inPool) {
			this._inPool = true;
			this._weak = false;
			flixel_math_FlxRect._pool.putUnsafe(this);
		}
	}
	,putWeak: function() {
		if(this._weak) {
			if(!this._inPool) {
				this._inPool = true;
				this._weak = false;
				flixel_math_FlxRect._pool.putUnsafe(this);
			}
		}
	}
	,setSize: function(Width,Height) {
		this.width = Width;
		this.height = Height;
		return this;
	}
	,setPosition: function(x,y) {
		this.x = x;
		this.y = y;
		return this;
	}
	,set: function(X,Y,Width,Height) {
		if(Height == null) {
			Height = 0;
		}
		if(Width == null) {
			Width = 0;
		}
		if(Y == null) {
			Y = 0;
		}
		if(X == null) {
			X = 0;
		}
		this.x = X;
		this.y = Y;
		this.width = Width;
		this.height = Height;
		return this;
	}
	,copyFrom: function(Rect) {
		this.x = Rect.x;
		this.y = Rect.y;
		this.width = Rect.width;
		this.height = Rect.height;
		if(Rect._weak) {
			if(!Rect._inPool) {
				Rect._inPool = true;
				Rect._weak = false;
				flixel_math_FlxRect._pool.putUnsafe(Rect);
			}
		}
		return this;
	}
	,copyTo: function(Rect) {
		Rect.x = this.x;
		Rect.y = this.y;
		Rect.width = this.width;
		Rect.height = this.height;
		if(Rect._weak) {
			if(!Rect._inPool) {
				Rect._inPool = true;
				Rect._weak = false;
				flixel_math_FlxRect._pool.putUnsafe(Rect);
			}
		}
		return Rect;
	}
	,copyFromFlash: function(FlashRect) {
		this.x = FlashRect.x;
		this.y = FlashRect.y;
		this.width = FlashRect.width;
		this.height = FlashRect.height;
		return this;
	}
	,copyToFlash: function(FlashRect) {
		if(FlashRect == null) {
			FlashRect = new openfl_geom_Rectangle();
		}
		FlashRect.x = this.x;
		FlashRect.y = this.y;
		FlashRect.width = this.width;
		FlashRect.height = this.height;
		return FlashRect;
	}
	,overlaps: function(Rect) {
		var result = Rect.x + Rect.width > this.x && Rect.x < this.x + this.width && Rect.y + Rect.height > this.y && Rect.y < this.y + this.height;
		if(Rect._weak) {
			if(!Rect._inPool) {
				Rect._inPool = true;
				Rect._weak = false;
				flixel_math_FlxRect._pool.putUnsafe(Rect);
			}
		}
		return result;
	}
	,containsPoint: function(Point) {
		var result = flixel_math_FlxMath.pointInFlxRect(Point.x,Point.y,this);
		if(Point._weak) {
			Point.put();
		}
		return result;
	}
	,union: function(Rect) {
		var minX = Math.min(this.x,Rect.x);
		var minY = Math.min(this.y,Rect.y);
		var maxX = Math.max(this.x + this.width,Rect.x + Rect.width);
		var maxY = Math.max(this.y + this.height,Rect.y + Rect.height);
		if(Rect._weak) {
			if(!Rect._inPool) {
				Rect._inPool = true;
				Rect._weak = false;
				flixel_math_FlxRect._pool.putUnsafe(Rect);
			}
		}
		var X = minX;
		var Y = minY;
		var Width = maxX - minX;
		var Height = maxY - minY;
		if(Height == null) {
			Height = 0;
		}
		if(Width == null) {
			Width = 0;
		}
		if(Y == null) {
			Y = 0;
		}
		if(X == null) {
			X = 0;
		}
		this.x = X;
		this.y = Y;
		this.width = Width;
		this.height = Height;
		return this;
	}
	,floor: function() {
		this.x = Math.floor(this.x);
		this.y = Math.floor(this.y);
		this.width = Math.floor(this.width);
		this.height = Math.floor(this.height);
		return this;
	}
	,ceil: function() {
		this.x = Math.ceil(this.x);
		this.y = Math.ceil(this.y);
		this.width = Math.ceil(this.width);
		this.height = Math.ceil(this.height);
		return this;
	}
	,round: function() {
		this.x = Math.round(this.x);
		this.y = Math.round(this.y);
		this.width = Math.round(this.width);
		this.height = Math.round(this.height);
		return this;
	}
	,fromTwoPoints: function(Point1,Point2) {
		var minX = Math.min(Point1.x,Point2.x);
		var minY = Math.min(Point1.y,Point2.y);
		var maxX = Math.max(Point1.x,Point2.x);
		var maxY = Math.max(Point1.y,Point2.y);
		if(Point1._weak) {
			Point1.put();
		}
		if(Point2._weak) {
			Point2.put();
		}
		var X = minX;
		var Y = minY;
		var Width = maxX - minX;
		var Height = maxY - minY;
		if(Height == null) {
			Height = 0;
		}
		if(Width == null) {
			Width = 0;
		}
		if(Y == null) {
			Y = 0;
		}
		if(X == null) {
			X = 0;
		}
		this.x = X;
		this.y = Y;
		this.width = Width;
		this.height = Height;
		return this;
	}
	,unionWithPoint: function(Point) {
		var minX = Math.min(this.x,Point.x);
		var minY = Math.min(this.y,Point.y);
		var maxX = Math.max(this.x + this.width,Point.x);
		var maxY = Math.max(this.y + this.height,Point.y);
		if(Point._weak) {
			Point.put();
		}
		var X = minX;
		var Y = minY;
		var Width = maxX - minX;
		var Height = maxY - minY;
		if(Height == null) {
			Height = 0;
		}
		if(Width == null) {
			Width = 0;
		}
		if(Y == null) {
			Y = 0;
		}
		if(X == null) {
			X = 0;
		}
		this.x = X;
		this.y = Y;
		this.width = Width;
		this.height = Height;
		return this;
	}
	,offset: function(dx,dy) {
		this.x += dx;
		this.y += dy;
		return this;
	}
	,destroy: function() {
	}
	,equals: function(rect) {
		var result = Math.abs(this.x - rect.x) <= 0.0000001 && Math.abs(this.y - rect.y) <= 0.0000001 && Math.abs(this.width - rect.width) <= 0.0000001 && Math.abs(this.height - rect.height) <= 0.0000001;
		if(rect._weak) {
			if(!rect._inPool) {
				rect._inPool = true;
				rect._weak = false;
				flixel_math_FlxRect._pool.putUnsafe(rect);
			}
		}
		return result;
	}
	,intersection: function(rect,result) {
		if(result == null) {
			var _this = flixel_math_FlxRect._pool.get();
			var X = 0;
			var Y = 0;
			var Width = 0;
			var Height = 0;
			if(Height == null) {
				Height = 0;
			}
			if(Width == null) {
				Width = 0;
			}
			if(Y == null) {
				Y = 0;
			}
			if(X == null) {
				X = 0;
			}
			_this.x = X;
			_this.y = Y;
			_this.width = Width;
			_this.height = Height;
			var rect1 = _this;
			rect1._inPool = false;
			result = rect1;
		}
		var x0 = this.x < rect.x ? rect.x : this.x;
		var x1 = this.x + this.width > rect.x + rect.width ? rect.x + rect.width : this.x + this.width;
		if(x1 <= x0) {
			if(rect._weak) {
				if(!rect._inPool) {
					rect._inPool = true;
					rect._weak = false;
					flixel_math_FlxRect._pool.putUnsafe(rect);
				}
			}
			return result;
		}
		var y0 = this.y < rect.y ? rect.y : this.y;
		var y1 = this.y + this.height > rect.y + rect.height ? rect.y + rect.height : this.y + this.height;
		if(y1 <= y0) {
			if(rect._weak) {
				if(!rect._inPool) {
					rect._inPool = true;
					rect._weak = false;
					flixel_math_FlxRect._pool.putUnsafe(rect);
				}
			}
			return result;
		}
		if(rect._weak) {
			if(!rect._inPool) {
				rect._inPool = true;
				rect._weak = false;
				flixel_math_FlxRect._pool.putUnsafe(rect);
			}
		}
		var X = x0;
		var Y = y0;
		var Width = x1 - x0;
		var Height = y1 - y0;
		if(Height == null) {
			Height = 0;
		}
		if(Width == null) {
			Width = 0;
		}
		if(Y == null) {
			Y = 0;
		}
		if(X == null) {
			X = 0;
		}
		result.x = X;
		result.y = Y;
		result.width = Width;
		result.height = Height;
		return result;
	}
	,toString: function() {
		var value = this.x;
		var _this = flixel_util_LabelValuePair._pool.get();
		_this.label = "x";
		_this.value = value;
		var value = this.y;
		var _this1 = flixel_util_LabelValuePair._pool.get();
		_this1.label = "y";
		_this1.value = value;
		var value = this.width;
		var _this2 = flixel_util_LabelValuePair._pool.get();
		_this2.label = "w";
		_this2.value = value;
		var value = this.height;
		var _this3 = flixel_util_LabelValuePair._pool.get();
		_this3.label = "h";
		_this3.value = value;
		return flixel_util_FlxStringUtil.getDebugString([_this,_this1,_this2,_this3]);
	}
	,get_left: function() {
		return this.x;
	}
	,set_left: function(Value) {
		this.width -= Value - this.x;
		return this.x = Value;
	}
	,get_right: function() {
		return this.x + this.width;
	}
	,set_right: function(Value) {
		this.width = Value - this.x;
		return Value;
	}
	,get_top: function() {
		return this.y;
	}
	,set_top: function(Value) {
		this.height -= Value - this.y;
		return this.y = Value;
	}
	,get_bottom: function() {
		return this.y + this.height;
	}
	,set_bottom: function(Value) {
		this.height = Value - this.y;
		return Value;
	}
	,get_isEmpty: function() {
		if(this.width != 0) {
			return this.height == 0;
		} else {
			return true;
		}
	}
	,__class__: flixel_math_FlxRect
	,__properties__: {get_isEmpty:"get_isEmpty",set_bottom:"set_bottom",get_bottom:"get_bottom",set_top:"set_top",get_top:"get_top",set_right:"set_right",get_right:"get_right",set_left:"set_left",get_left:"get_left"}
};
var flixel_FlxObject = function(X,Y,Width,Height) {
	if(Height == null) {
		Height = 0;
	}
	if(Width == null) {
		Width = 0;
	}
	if(Y == null) {
		Y = 0;
	}
	if(X == null) {
		X = 0;
	}
	var _this = flixel_math_FlxRect._pool.get();
	_this.x = 0;
	_this.y = 0;
	_this.width = 0;
	_this.height = 0;
	_this._inPool = false;
	this._rect = _this;
	var point = flixel_math_FlxPoint._pool.get().set(0,0);
	point._inPool = false;
	this._point = point;
	this.path = null;
	this.collisonXDrag = true;
	this.allowCollisions = 4369;
	this.wasTouching = 0;
	this.touching = 0;
	this.health = 1;
	this.maxAngular = 10000;
	this.angularDrag = 0;
	this.angularAcceleration = 0;
	this.angularVelocity = 0;
	this.elasticity = 0;
	this.mass = 1;
	this.immovable = false;
	this.moves = true;
	this.angle = 0;
	this.pixelPerfectPosition = true;
	this.y = 0;
	this.x = 0;
	flixel_FlxBasic.call(this);
	this.set_x(X);
	this.set_y(Y);
	this.set_width(Width);
	this.set_height(Height);
	this.initVars();
};
$hxClasses["flixel.FlxObject"] = flixel_FlxObject;
flixel_FlxObject.__name__ = "flixel.FlxObject";
flixel_FlxObject.separate = function(Object1,Object2) {
	var separatedX = flixel_FlxObject.separateX(Object1,Object2);
	var separatedY = flixel_FlxObject.separateY(Object1,Object2);
	if(!separatedX) {
		return separatedY;
	} else {
		return true;
	}
};
flixel_FlxObject.updateTouchingFlags = function(Object1,Object2) {
	var touchingX = flixel_FlxObject.updateTouchingFlagsX(Object1,Object2);
	var touchingY = flixel_FlxObject.updateTouchingFlagsY(Object1,Object2);
	if(!touchingX) {
		return touchingY;
	} else {
		return true;
	}
};
flixel_FlxObject.computeOverlapX = function(Object1,Object2,checkMaxOverlap) {
	if(checkMaxOverlap == null) {
		checkMaxOverlap = true;
	}
	var overlap = 0;
	var obj1delta = Object1.x - Object1.last.x;
	var obj2delta = Object2.x - Object2.last.x;
	if(obj1delta != obj2delta) {
		var obj1deltaAbs = obj1delta > 0 ? obj1delta : -obj1delta;
		var obj2deltaAbs = obj2delta > 0 ? obj2delta : -obj2delta;
		var _this = flixel_FlxObject._firstSeparateFlxRect;
		var X = Object1.x - (obj1delta > 0 ? obj1delta : 0);
		var Y = Object1.last.y;
		var Width = Object1.get_width() + obj1deltaAbs;
		var Height = Object1.get_height();
		if(Height == null) {
			Height = 0;
		}
		if(Width == null) {
			Width = 0;
		}
		if(Y == null) {
			Y = 0;
		}
		if(X == null) {
			X = 0;
		}
		_this.x = X;
		_this.y = Y;
		_this.width = Width;
		_this.height = Height;
		var obj1rect = _this;
		var _this = flixel_FlxObject._secondSeparateFlxRect;
		var X = Object2.x - (obj2delta > 0 ? obj2delta : 0);
		var Y = Object2.last.y;
		var Width = Object2.get_width() + obj2deltaAbs;
		var Height = Object2.get_height();
		if(Height == null) {
			Height = 0;
		}
		if(Width == null) {
			Width = 0;
		}
		if(Y == null) {
			Y = 0;
		}
		if(X == null) {
			X = 0;
		}
		_this.x = X;
		_this.y = Y;
		_this.width = Width;
		_this.height = Height;
		var obj2rect = _this;
		if(obj1rect.x + obj1rect.width > obj2rect.x && obj1rect.x < obj2rect.x + obj2rect.width && obj1rect.y + obj1rect.height > obj2rect.y && obj1rect.y < obj2rect.y + obj2rect.height) {
			var maxOverlap = checkMaxOverlap ? obj1deltaAbs + obj2deltaAbs + flixel_FlxObject.SEPARATE_BIAS : 0;
			if(obj1delta > obj2delta) {
				overlap = Object1.x + Object1.get_width() - Object2.x;
				if(checkMaxOverlap && overlap > maxOverlap || (Object1.allowCollisions & 16) == 0 || (Object2.allowCollisions & 1) == 0) {
					overlap = 0;
				} else {
					Object1.touching |= 16;
					Object2.touching |= 1;
				}
			} else if(obj1delta < obj2delta) {
				overlap = Object1.x - Object2.get_width() - Object2.x;
				if(checkMaxOverlap && -overlap > maxOverlap || (Object1.allowCollisions & 1) == 0 || (Object2.allowCollisions & 16) == 0) {
					overlap = 0;
				} else {
					Object1.touching |= 1;
					Object2.touching |= 16;
				}
			}
		}
	}
	return overlap;
};
flixel_FlxObject.separateX = function(Object1,Object2) {
	var obj1immovable = Object1.immovable;
	var obj2immovable = Object2.immovable;
	if(obj1immovable && obj2immovable) {
		return false;
	}
	if(Object1.flixelType == 3) {
		var tilemap = Object1;
		return tilemap.overlapsWithCallback(Object2,flixel_FlxObject.separateX);
	}
	if(Object2.flixelType == 3) {
		var tilemap = Object2;
		return tilemap.overlapsWithCallback(Object1,flixel_FlxObject.separateX,true);
	}
	var overlap = flixel_FlxObject.computeOverlapX(Object1,Object2);
	if(overlap != 0) {
		var obj1v = Object1.velocity.x;
		var obj2v = Object2.velocity.x;
		if(!obj1immovable && !obj2immovable) {
			overlap *= 0.5;
			Object1.set_x(Object1.x - overlap);
			var _g = Object2;
			_g.set_x(_g.x + overlap);
			var obj1velocity = Math.sqrt(obj2v * obj2v * Object2.mass / Object1.mass) * (obj2v > 0 ? 1 : -1);
			var obj2velocity = Math.sqrt(obj1v * obj1v * Object1.mass / Object2.mass) * (obj1v > 0 ? 1 : -1);
			var average = (obj1velocity + obj2velocity) * 0.5;
			obj1velocity -= average;
			obj2velocity -= average;
			Object1.velocity.set_x(average + obj1velocity * Object1.elasticity);
			Object2.velocity.set_x(average + obj2velocity * Object2.elasticity);
		} else if(!obj1immovable) {
			Object1.set_x(Object1.x - overlap);
			Object1.velocity.set_x(obj2v - obj1v * Object1.elasticity);
		} else if(!obj2immovable) {
			var _g = Object2;
			_g.set_x(_g.x + overlap);
			Object2.velocity.set_x(obj1v - obj2v * Object2.elasticity);
		}
		return true;
	}
	return false;
};
flixel_FlxObject.updateTouchingFlagsX = function(Object1,Object2) {
	if(Object1.flixelType == 3) {
		var tilemap = Object1;
		return tilemap.overlapsWithCallback(Object2,flixel_FlxObject.updateTouchingFlagsX);
	}
	if(Object2.flixelType == 3) {
		var tilemap = Object2;
		return tilemap.overlapsWithCallback(Object1,flixel_FlxObject.updateTouchingFlagsX,true);
	}
	return flixel_FlxObject.computeOverlapX(Object1,Object2,false) != 0;
};
flixel_FlxObject.computeOverlapY = function(Object1,Object2,checkMaxOverlap) {
	if(checkMaxOverlap == null) {
		checkMaxOverlap = true;
	}
	var overlap = 0;
	var obj1delta = Object1.y - Object1.last.y;
	var obj2delta = Object2.y - Object2.last.y;
	if(obj1delta != obj2delta) {
		var obj1deltaAbs = obj1delta > 0 ? obj1delta : -obj1delta;
		var obj2deltaAbs = obj2delta > 0 ? obj2delta : -obj2delta;
		var _this = flixel_FlxObject._firstSeparateFlxRect;
		var X = Object1.x;
		var Y = Object1.y - (obj1delta > 0 ? obj1delta : 0);
		var Width = Object1.get_width();
		var Height = Object1.get_height() + obj1deltaAbs;
		if(Height == null) {
			Height = 0;
		}
		if(Width == null) {
			Width = 0;
		}
		if(Y == null) {
			Y = 0;
		}
		if(X == null) {
			X = 0;
		}
		_this.x = X;
		_this.y = Y;
		_this.width = Width;
		_this.height = Height;
		var obj1rect = _this;
		var _this = flixel_FlxObject._secondSeparateFlxRect;
		var X = Object2.x;
		var Y = Object2.y - (obj2delta > 0 ? obj2delta : 0);
		var Width = Object2.get_width();
		var Height = Object2.get_height() + obj2deltaAbs;
		if(Height == null) {
			Height = 0;
		}
		if(Width == null) {
			Width = 0;
		}
		if(Y == null) {
			Y = 0;
		}
		if(X == null) {
			X = 0;
		}
		_this.x = X;
		_this.y = Y;
		_this.width = Width;
		_this.height = Height;
		var obj2rect = _this;
		if(obj1rect.x + obj1rect.width > obj2rect.x && obj1rect.x < obj2rect.x + obj2rect.width && obj1rect.y + obj1rect.height > obj2rect.y && obj1rect.y < obj2rect.y + obj2rect.height) {
			var maxOverlap = checkMaxOverlap ? obj1deltaAbs + obj2deltaAbs + flixel_FlxObject.SEPARATE_BIAS : 0;
			if(obj1delta > obj2delta) {
				overlap = Object1.y + Object1.get_height() - Object2.y;
				if(checkMaxOverlap && overlap > maxOverlap || (Object1.allowCollisions & 4096) == 0 || (Object2.allowCollisions & 256) == 0) {
					overlap = 0;
				} else {
					Object1.touching |= 4096;
					Object2.touching |= 256;
				}
			} else if(obj1delta < obj2delta) {
				overlap = Object1.y - Object2.get_height() - Object2.y;
				if(checkMaxOverlap && -overlap > maxOverlap || (Object1.allowCollisions & 256) == 0 || (Object2.allowCollisions & 4096) == 0) {
					overlap = 0;
				} else {
					Object1.touching |= 256;
					Object2.touching |= 4096;
				}
			}
		}
	}
	return overlap;
};
flixel_FlxObject.separateY = function(Object1,Object2) {
	var obj1immovable = Object1.immovable;
	var obj2immovable = Object2.immovable;
	if(obj1immovable && obj2immovable) {
		return false;
	}
	if(Object1.flixelType == 3) {
		var tilemap = Object1;
		return tilemap.overlapsWithCallback(Object2,flixel_FlxObject.separateY);
	}
	if(Object2.flixelType == 3) {
		var tilemap = Object2;
		return tilemap.overlapsWithCallback(Object1,flixel_FlxObject.separateY,true);
	}
	var overlap = flixel_FlxObject.computeOverlapY(Object1,Object2);
	if(overlap != 0) {
		var obj1delta = Object1.y - Object1.last.y;
		var obj2delta = Object2.y - Object2.last.y;
		var obj1v = Object1.velocity.y;
		var obj2v = Object2.velocity.y;
		if(!obj1immovable && !obj2immovable) {
			overlap *= 0.5;
			Object1.set_y(Object1.y - overlap);
			var _g = Object2;
			_g.set_y(_g.y + overlap);
			var obj1velocity = Math.sqrt(obj2v * obj2v * Object2.mass / Object1.mass) * (obj2v > 0 ? 1 : -1);
			var obj2velocity = Math.sqrt(obj1v * obj1v * Object1.mass / Object2.mass) * (obj1v > 0 ? 1 : -1);
			var average = (obj1velocity + obj2velocity) * 0.5;
			obj1velocity -= average;
			obj2velocity -= average;
			Object1.velocity.set_y(average + obj1velocity * Object1.elasticity);
			Object2.velocity.set_y(average + obj2velocity * Object2.elasticity);
		} else if(!obj1immovable) {
			Object1.set_y(Object1.y - overlap);
			Object1.velocity.set_y(obj2v - obj1v * Object1.elasticity);
			if(Object1.collisonXDrag && Object2.active && Object2.moves && obj1delta > obj2delta) {
				var _g = Object1;
				_g.set_x(_g.x + (Object2.x - Object2.last.x));
			}
		} else if(!obj2immovable) {
			var _g = Object2;
			_g.set_y(_g.y + overlap);
			Object2.velocity.set_y(obj1v - obj2v * Object2.elasticity);
			if(Object2.collisonXDrag && Object1.active && Object1.moves && obj1delta < obj2delta) {
				var _g = Object2;
				_g.set_x(_g.x + (Object1.x - Object1.last.x));
			}
		}
		return true;
	}
	return false;
};
flixel_FlxObject.updateTouchingFlagsY = function(Object1,Object2) {
	if(Object1.flixelType == 3) {
		var tilemap = Object1;
		return tilemap.overlapsWithCallback(Object2,flixel_FlxObject.updateTouchingFlagsY);
	}
	if(Object2.flixelType == 3) {
		var tilemap = Object2;
		return tilemap.overlapsWithCallback(Object1,flixel_FlxObject.updateTouchingFlagsY,true);
	}
	return flixel_FlxObject.computeOverlapY(Object1,Object2,false) != 0;
};
flixel_FlxObject.__super__ = flixel_FlxBasic;
flixel_FlxObject.prototype = $extend(flixel_FlxBasic.prototype,{
	x: null
	,y: null
	,width: null
	,height: null
	,pixelPerfectRender: null
	,pixelPerfectPosition: null
	,angle: null
	,moves: null
	,immovable: null
	,scrollFactor: null
	,velocity: null
	,acceleration: null
	,drag: null
	,maxVelocity: null
	,last: null
	,mass: null
	,elasticity: null
	,angularVelocity: null
	,angularAcceleration: null
	,angularDrag: null
	,maxAngular: null
	,health: null
	,touching: null
	,wasTouching: null
	,allowCollisions: null
	,collisonXDrag: null
	,path: null
	,_point: null
	,_rect: null
	,initVars: function() {
		this.flixelType = 1;
		var X = this.x;
		var Y = this.y;
		if(Y == null) {
			Y = 0;
		}
		if(X == null) {
			X = 0;
		}
		var point = flixel_math_FlxPoint._pool.get().set(X,Y);
		point._inPool = false;
		this.last = point;
		var X = 1;
		var Y = 1;
		if(Y == null) {
			Y = 0;
		}
		if(X == null) {
			X = 0;
		}
		var point = flixel_math_FlxPoint._pool.get().set(X,Y);
		point._inPool = false;
		this.scrollFactor = point;
		this.pixelPerfectPosition = flixel_FlxObject.defaultPixelPerfectPosition;
		var point = flixel_math_FlxPoint._pool.get().set(0,0);
		point._inPool = false;
		this.velocity = point;
		var point = flixel_math_FlxPoint._pool.get().set(0,0);
		point._inPool = false;
		this.acceleration = point;
		var point = flixel_math_FlxPoint._pool.get().set(0,0);
		point._inPool = false;
		this.drag = point;
		var X = 10000;
		var Y = 10000;
		if(Y == null) {
			Y = 0;
		}
		if(X == null) {
			X = 0;
		}
		var point = flixel_math_FlxPoint._pool.get().set(X,Y);
		point._inPool = false;
		this.maxVelocity = point;
	}
	,initMotionVars: function() {
		var point = flixel_math_FlxPoint._pool.get().set(0,0);
		point._inPool = false;
		this.velocity = point;
		var point = flixel_math_FlxPoint._pool.get().set(0,0);
		point._inPool = false;
		this.acceleration = point;
		var point = flixel_math_FlxPoint._pool.get().set(0,0);
		point._inPool = false;
		this.drag = point;
		var X = 10000;
		var Y = 10000;
		if(Y == null) {
			Y = 0;
		}
		if(X == null) {
			X = 0;
		}
		var point = flixel_math_FlxPoint._pool.get().set(X,Y);
		point._inPool = false;
		this.maxVelocity = point;
	}
	,destroy: function() {
		flixel_FlxBasic.prototype.destroy.call(this);
		this.velocity = flixel_util_FlxDestroyUtil.put(this.velocity);
		this.acceleration = flixel_util_FlxDestroyUtil.put(this.acceleration);
		this.drag = flixel_util_FlxDestroyUtil.put(this.drag);
		this.maxVelocity = flixel_util_FlxDestroyUtil.put(this.maxVelocity);
		this.scrollFactor = flixel_util_FlxDestroyUtil.put(this.scrollFactor);
		this.last = flixel_util_FlxDestroyUtil.put(this.last);
		this._point = flixel_util_FlxDestroyUtil.put(this._point);
		this._rect = flixel_util_FlxDestroyUtil.put(this._rect);
	}
	,update: function(elapsed) {
		this.last.set(this.x,this.y);
		if(this.path != null && this.path.active) {
			this.path.update(elapsed);
		}
		if(this.moves) {
			this.updateMotion(elapsed);
		}
		this.wasTouching = this.touching;
		this.touching = 0;
	}
	,updateMotion: function(elapsed) {
		var velocityDelta = 0.5 * (flixel_math_FlxVelocity.computeVelocity(this.angularVelocity,this.angularAcceleration,this.angularDrag,this.maxAngular,elapsed) - this.angularVelocity);
		this.angularVelocity += velocityDelta;
		var _g = this;
		_g.set_angle(_g.angle + this.angularVelocity * elapsed);
		this.angularVelocity += velocityDelta;
		velocityDelta = 0.5 * (flixel_math_FlxVelocity.computeVelocity(this.velocity.x,this.acceleration.x,this.drag.x,this.maxVelocity.x,elapsed) - this.velocity.x);
		var _g = this.velocity;
		_g.set_x(_g.x + velocityDelta);
		var delta = this.velocity.x * elapsed;
		var _g = this.velocity;
		_g.set_x(_g.x + velocityDelta);
		var _g = this;
		_g.set_x(_g.x + delta);
		velocityDelta = 0.5 * (flixel_math_FlxVelocity.computeVelocity(this.velocity.y,this.acceleration.y,this.drag.y,this.maxVelocity.y,elapsed) - this.velocity.y);
		var _g = this.velocity;
		_g.set_y(_g.y + velocityDelta);
		delta = this.velocity.y * elapsed;
		var _g = this.velocity;
		_g.set_y(_g.y + velocityDelta);
		var _g = this;
		_g.set_y(_g.y + delta);
	}
	,draw: function() {
	}
	,overlaps: function(ObjectOrGroup,InScreenSpace,Camera) {
		if(InScreenSpace == null) {
			InScreenSpace = false;
		}
		var group = flixel_group_FlxTypedGroup.resolveGroup(ObjectOrGroup);
		if(group != null) {
			return flixel_group_FlxTypedGroup.overlaps($bind(this,this.overlapsCallback),group,0,0,InScreenSpace,Camera);
		}
		if(ObjectOrGroup.flixelType == 3) {
			var tilemap = ObjectOrGroup;
			return tilemap.overlaps(this,InScreenSpace,Camera);
		}
		var object = ObjectOrGroup;
		if(!InScreenSpace) {
			if(object.x + object.get_width() > this.x && object.x < this.x + this.get_width() && object.y + object.get_height() > this.y) {
				return object.y < this.y + this.get_height();
			} else {
				return false;
			}
		}
		if(Camera == null) {
			Camera = flixel_FlxG.camera;
		}
		var objectScreenPos = object.getScreenPosition(null,Camera);
		this.getScreenPosition(this._point,Camera);
		if(objectScreenPos.x + object.get_width() > this._point.x && objectScreenPos.x < this._point.x + this.get_width() && objectScreenPos.y + object.get_height() > this._point.y) {
			return objectScreenPos.y < this._point.y + this.get_height();
		} else {
			return false;
		}
	}
	,overlapsCallback: function(ObjectOrGroup,X,Y,InScreenSpace,Camera) {
		return this.overlaps(ObjectOrGroup,InScreenSpace,Camera);
	}
	,overlapsAt: function(X,Y,ObjectOrGroup,InScreenSpace,Camera) {
		if(InScreenSpace == null) {
			InScreenSpace = false;
		}
		var group = flixel_group_FlxTypedGroup.resolveGroup(ObjectOrGroup);
		if(group != null) {
			return flixel_group_FlxTypedGroup.overlaps($bind(this,this.overlapsAtCallback),group,X,Y,InScreenSpace,Camera);
		}
		if(ObjectOrGroup.flixelType == 3) {
			var tilemap = ObjectOrGroup;
			return tilemap.overlapsAt(tilemap.x - (X - this.x),tilemap.y - (Y - this.y),this,InScreenSpace,Camera);
		}
		var object = ObjectOrGroup;
		if(!InScreenSpace) {
			if(object.x + object.get_width() > X && object.x < X + this.get_width() && object.y + object.get_height() > Y) {
				return object.y < Y + this.get_height();
			} else {
				return false;
			}
		}
		if(Camera == null) {
			Camera = flixel_FlxG.camera;
		}
		var objectScreenPos = object.getScreenPosition(null,Camera);
		this.getScreenPosition(this._point,Camera);
		if(objectScreenPos.x + object.get_width() > this._point.x && objectScreenPos.x < this._point.x + this.get_width() && objectScreenPos.y + object.get_height() > this._point.y) {
			return objectScreenPos.y < this._point.y + this.get_height();
		} else {
			return false;
		}
	}
	,overlapsAtCallback: function(ObjectOrGroup,X,Y,InScreenSpace,Camera) {
		return this.overlapsAt(X,Y,ObjectOrGroup,InScreenSpace,Camera);
	}
	,overlapsPoint: function(point,InScreenSpace,Camera) {
		if(InScreenSpace == null) {
			InScreenSpace = false;
		}
		if(!InScreenSpace) {
			if(point.x >= this.x && point.x < this.x + this.get_width() && point.y >= this.y) {
				return point.y < this.y + this.get_height();
			} else {
				return false;
			}
		}
		if(Camera == null) {
			Camera = flixel_FlxG.camera;
		}
		var xPos = point.x - Camera.scroll.x;
		var yPos = point.y - Camera.scroll.y;
		this.getScreenPosition(this._point,Camera);
		if(point._weak) {
			point.put();
		}
		if(xPos >= this._point.x && xPos < this._point.x + this.get_width() && yPos >= this._point.y) {
			return yPos < this._point.y + this.get_height();
		} else {
			return false;
		}
	}
	,inWorldBounds: function() {
		var tmp;
		if(this.x + this.get_width() > flixel_FlxG.worldBounds.x) {
			var _this = flixel_FlxG.worldBounds;
			tmp = this.x < _this.x + _this.width;
		} else {
			tmp = false;
		}
		if(tmp && this.y + this.get_height() > flixel_FlxG.worldBounds.y) {
			var _this = flixel_FlxG.worldBounds;
			return this.y < _this.y + _this.height;
		} else {
			return false;
		}
	}
	,getScreenPosition: function(point,Camera) {
		if(point == null) {
			var point1 = flixel_math_FlxPoint._pool.get().set(0,0);
			point1._inPool = false;
			point = point1;
		}
		if(Camera == null) {
			Camera = flixel_FlxG.camera;
		}
		point.set(this.x,this.y);
		if(this.pixelPerfectPosition) {
			point.set_x(Math.floor(point.x));
			point.set_y(Math.floor(point.y));
		}
		var X = Camera.scroll.x * this.scrollFactor.x;
		var Y = Camera.scroll.y * this.scrollFactor.y;
		if(Y == null) {
			Y = 0;
		}
		if(X == null) {
			X = 0;
		}
		var _g = point;
		_g.set_x(_g.x - X);
		var _g = point;
		_g.set_y(_g.y - Y);
		return point;
	}
	,getPosition: function(point) {
		if(point == null) {
			var point1 = flixel_math_FlxPoint._pool.get().set(0,0);
			point1._inPool = false;
			point = point1;
		}
		return point.set(this.x,this.y);
	}
	,getMidpoint: function(point) {
		if(point == null) {
			var point1 = flixel_math_FlxPoint._pool.get().set(0,0);
			point1._inPool = false;
			point = point1;
		}
		return point.set(this.x + this.get_width() * 0.5,this.y + this.get_height() * 0.5);
	}
	,getHitbox: function(rect) {
		if(rect == null) {
			var _this = flixel_math_FlxRect._pool.get();
			var X = 0;
			var Y = 0;
			var Width = 0;
			var Height = 0;
			if(Height == null) {
				Height = 0;
			}
			if(Width == null) {
				Width = 0;
			}
			if(Y == null) {
				Y = 0;
			}
			if(X == null) {
				X = 0;
			}
			_this.x = X;
			_this.y = Y;
			_this.width = Width;
			_this.height = Height;
			var rect1 = _this;
			rect1._inPool = false;
			rect = rect1;
		}
		var X = this.x;
		var Y = this.y;
		var Width = this.get_width();
		var Height = this.get_height();
		if(Height == null) {
			Height = 0;
		}
		if(Width == null) {
			Width = 0;
		}
		if(Y == null) {
			Y = 0;
		}
		if(X == null) {
			X = 0;
		}
		rect.x = X;
		rect.y = Y;
		rect.width = Width;
		rect.height = Height;
		return rect;
	}
	,reset: function(X,Y) {
		this.touching = 0;
		this.wasTouching = 0;
		this.setPosition(X,Y);
		this.last.set(this.x,this.y);
		this.velocity.set();
		this.revive();
	}
	,isOnScreen: function(Camera) {
		if(Camera == null) {
			Camera = flixel_FlxG.camera;
		}
		this.getScreenPosition(this._point,Camera);
		var point = this._point;
		var width = this.get_width();
		var height = this.get_height();
		if(height == null) {
			height = 0;
		}
		if(width == null) {
			width = 0;
		}
		if(point.x + width > Camera.viewOffsetX && point.x < Camera.viewOffsetWidth && point.y + height > Camera.viewOffsetY) {
			return point.y < Camera.viewOffsetHeight;
		} else {
			return false;
		}
	}
	,isPixelPerfectRender: function(Camera) {
		if(Camera == null) {
			Camera = flixel_FlxG.camera;
		}
		if(this.pixelPerfectRender == null) {
			return Camera.pixelPerfectRender;
		} else {
			return this.pixelPerfectRender;
		}
	}
	,isTouching: function(Direction) {
		return (this.touching & Direction) > 0;
	}
	,justTouched: function(Direction) {
		if((this.touching & Direction) > 0) {
			return (this.wasTouching & Direction) <= 0;
		} else {
			return false;
		}
	}
	,hurt: function(Damage) {
		this.health -= Damage;
		if(this.health <= 0) {
			this.kill();
		}
	}
	,screenCenter: function(axes) {
		if(axes == null) {
			axes = flixel_util_FlxAxes.XY;
		}
		if(axes != flixel_util_FlxAxes.Y) {
			this.set_x(flixel_FlxG.width / 2 - this.get_width() / 2);
		}
		if(axes != flixel_util_FlxAxes.X) {
			this.set_y(flixel_FlxG.height / 2 - this.get_height() / 2);
		}
		return this;
	}
	,setPosition: function(X,Y) {
		if(Y == null) {
			Y = 0;
		}
		if(X == null) {
			X = 0;
		}
		this.set_x(X);
		this.set_y(Y);
	}
	,setSize: function(Width,Height) {
		this.set_width(Width);
		this.set_height(Height);
	}
	,getBoundingBox: function(camera) {
		this.getScreenPosition(this._point,camera);
		var _this = this._rect;
		var X = this._point.x;
		var Y = this._point.y;
		var Width = this.get_width();
		var Height = this.get_height();
		if(Height == null) {
			Height = 0;
		}
		if(Width == null) {
			Width = 0;
		}
		if(Y == null) {
			Y = 0;
		}
		if(X == null) {
			X = 0;
		}
		_this.x = X;
		_this.y = Y;
		_this.width = Width;
		_this.height = Height;
		this._rect = camera.transformRect(this._rect);
		if(this.isPixelPerfectRender(camera)) {
			var _this = this._rect;
			_this.x = Math.floor(_this.x);
			_this.y = Math.floor(_this.y);
			_this.width = Math.floor(_this.width);
			_this.height = Math.floor(_this.height);
		}
		return this._rect;
	}
	,toString: function() {
		var value = this.x;
		var _this = flixel_util_LabelValuePair._pool.get();
		_this.label = "x";
		_this.value = value;
		var value = this.y;
		var _this1 = flixel_util_LabelValuePair._pool.get();
		_this1.label = "y";
		_this1.value = value;
		var value = this.get_width();
		var _this2 = flixel_util_LabelValuePair._pool.get();
		_this2.label = "w";
		_this2.value = value;
		var value = this.get_height();
		var _this3 = flixel_util_LabelValuePair._pool.get();
		_this3.label = "h";
		_this3.value = value;
		var value = this.visible;
		var _this4 = flixel_util_LabelValuePair._pool.get();
		_this4.label = "visible";
		_this4.value = value;
		var value = this.velocity;
		var _this5 = flixel_util_LabelValuePair._pool.get();
		_this5.label = "velocity";
		_this5.value = value;
		return flixel_util_FlxStringUtil.getDebugString([_this,_this1,_this2,_this3,_this4,_this5]);
	}
	,set_x: function(NewX) {
		return this.x = NewX;
	}
	,set_y: function(NewY) {
		return this.y = NewY;
	}
	,set_width: function(Width) {
		return this.width = Width;
	}
	,set_height: function(Height) {
		return this.height = Height;
	}
	,get_width: function() {
		return this.width;
	}
	,get_height: function() {
		return this.height;
	}
	,get_solid: function() {
		return (this.allowCollisions & 4369) > 0;
	}
	,set_solid: function(Solid) {
		this.set_allowCollisions(Solid ? 4369 : 0);
		return Solid;
	}
	,set_angle: function(Value) {
		return this.angle = Value;
	}
	,set_moves: function(Value) {
		return this.moves = Value;
	}
	,set_immovable: function(Value) {
		return this.immovable = Value;
	}
	,set_pixelPerfectRender: function(Value) {
		return this.pixelPerfectRender = Value;
	}
	,set_allowCollisions: function(Value) {
		return this.allowCollisions = Value;
	}
	,set_path: function(path) {
		if(this.path == path) {
			return path;
		}
		if(this.path != null) {
			this.path.object = null;
		}
		if(path != null) {
			path.object = this;
		}
		return this.path = path;
	}
	,__class__: flixel_FlxObject
	,__properties__: $extend(flixel_FlxBasic.prototype.__properties__,{set_path:"set_path",set_allowCollisions:"set_allowCollisions",set_solid:"set_solid",get_solid:"get_solid",set_immovable:"set_immovable",set_moves:"set_moves",set_angle:"set_angle",set_pixelPerfectRender:"set_pixelPerfectRender",set_height:"set_height",get_height:"get_height",set_width:"set_width",get_width:"get_width",set_y:"set_y",set_x:"set_x"})
});
var flixel_FlxSprite = function(X,Y,SimpleGraphic) {
	if(Y == null) {
		Y = 0;
	}
	if(X == null) {
		X = 0;
	}
	this._facingFlip = new haxe_ds_IntMap();
	this._angleChanged = true;
	this._cosAngle = 1;
	this._sinAngle = 0;
	this._facingVerticalMult = 1;
	this._facingHorizontalMult = 1;
	this.useColorTransform = false;
	this.color = 16777215;
	this.flipY = false;
	this.flipX = false;
	this.facing = 16;
	this.alpha = 1.0;
	this.bakedRotationAngle = 0;
	this.numFrames = 0;
	this.frameHeight = 0;
	this.frameWidth = 0;
	this.dirty = true;
	this.antialiasing = false;
	this.useFramePixels = true;
	flixel_FlxObject.call(this,X,Y);
	this.set_useFramePixels(flixel_FlxG.renderBlit);
	if(SimpleGraphic != null) {
		this.loadGraphic(SimpleGraphic);
	}
};
$hxClasses["flixel.FlxSprite"] = flixel_FlxSprite;
flixel_FlxSprite.__name__ = "flixel.FlxSprite";
flixel_FlxSprite.__super__ = flixel_FlxObject;
flixel_FlxSprite.prototype = $extend(flixel_FlxObject.prototype,{
	animation: null
	,framePixels: null
	,useFramePixels: null
	,antialiasing: null
	,dirty: null
	,frame: null
	,frameWidth: null
	,frameHeight: null
	,numFrames: null
	,frames: null
	,graphic: null
	,bakedRotationAngle: null
	,alpha: null
	,facing: null
	,flipX: null
	,flipY: null
	,origin: null
	,offset: null
	,scale: null
	,blend: null
	,color: null
	,colorTransform: null
	,useColorTransform: null
	,clipRect: null
	,shader: null
	,_frame: null
	,_frameGraphic: null
	,_facingHorizontalMult: null
	,_facingVerticalMult: null
	,_flashPoint: null
	,_flashRect: null
	,_flashRect2: null
	,_flashPointZero: null
	,_matrix: null
	,_halfSize: null
	,_sinAngle: null
	,_cosAngle: null
	,_angleChanged: null
	,_facingFlip: null
	,initVars: function() {
		flixel_FlxObject.prototype.initVars.call(this);
		this.animation = new flixel_animation_FlxAnimationController(this);
		this._flashPoint = new openfl_geom_Point();
		this._flashRect = new openfl_geom_Rectangle();
		this._flashRect2 = new openfl_geom_Rectangle();
		this._flashPointZero = new openfl_geom_Point();
		var point = flixel_math_FlxPoint._pool.get().set(0,0);
		point._inPool = false;
		this.offset = point;
		var point = flixel_math_FlxPoint._pool.get().set(0,0);
		point._inPool = false;
		this.origin = point;
		var X = 1;
		var Y = 1;
		if(Y == null) {
			Y = 0;
		}
		if(X == null) {
			X = 0;
		}
		var point = flixel_math_FlxPoint._pool.get().set(X,Y);
		point._inPool = false;
		this.scale = point;
		var point = flixel_math_FlxPoint._pool.get().set(0,0);
		point._inPool = false;
		this._halfSize = point;
		this._matrix = new flixel_math_FlxMatrix();
		this.colorTransform = new openfl_geom_ColorTransform();
	}
	,destroy: function() {
		flixel_FlxObject.prototype.destroy.call(this);
		this.animation = flixel_util_FlxDestroyUtil.destroy(this.animation);
		this.offset = flixel_util_FlxDestroyUtil.put(this.offset);
		this.origin = flixel_util_FlxDestroyUtil.put(this.origin);
		this.scale = flixel_util_FlxDestroyUtil.put(this.scale);
		this._halfSize = flixel_util_FlxDestroyUtil.put(this._halfSize);
		this.framePixels = flixel_util_FlxDestroyUtil.dispose(this.framePixels);
		this._flashPoint = null;
		this._flashRect = null;
		this._flashRect2 = null;
		this._flashPointZero = null;
		this._matrix = null;
		this.colorTransform = null;
		this.set_blend(null);
		this.set_frames(null);
		this.set_graphic(null);
		this._frame = flixel_util_FlxDestroyUtil.destroy(this._frame);
		this._frameGraphic = flixel_util_FlxDestroyUtil.destroy(this._frameGraphic);
		this.shader = null;
	}
	,clone: function() {
		return new flixel_FlxSprite().loadGraphicFromSprite(this);
	}
	,loadGraphicFromSprite: function(Sprite) {
		this.set_frames(Sprite.frames);
		this.bakedRotationAngle = Sprite.bakedRotationAngle;
		if(this.bakedRotationAngle > 0) {
			this.set_width(Sprite.get_width());
			this.set_height(Sprite.get_height());
			this.centerOffsets();
		}
		this.set_antialiasing(Sprite.antialiasing);
		this.animation.copyFrom(Sprite.animation);
		this.graphicLoaded();
		this.set_clipRect(Sprite.clipRect);
		return this;
	}
	,loadGraphic: function(Graphic,Animated,Width,Height,Unique,Key) {
		if(Unique == null) {
			Unique = false;
		}
		if(Height == null) {
			Height = 0;
		}
		if(Width == null) {
			Width = 0;
		}
		if(Animated == null) {
			Animated = false;
		}
		var graph = flixel_FlxG.bitmap.add(Graphic,Unique,Key);
		if(graph == null) {
			return this;
		}
		if(Width == 0) {
			Width = Animated ? graph.height : graph.width;
			if(Width > graph.width) {
				Width = graph.width;
			}
		}
		if(Height == 0) {
			Height = Animated ? Width : graph.height;
			if(Height > graph.height) {
				Height = graph.height;
			}
		}
		if(Animated) {
			var X = Width;
			var Y = Height;
			if(Y == null) {
				Y = 0;
			}
			if(X == null) {
				X = 0;
			}
			var point = flixel_math_FlxPoint._pool.get().set(X,Y);
			point._inPool = false;
			this.set_frames(flixel_graphics_frames_FlxTileFrames.fromGraphic(graph,point));
		} else {
			this.set_frames(graph.get_imageFrame());
		}
		return this;
	}
	,loadRotatedGraphic: function(Graphic,Rotations,Frame,AntiAliasing,AutoBuffer,Key) {
		if(AutoBuffer == null) {
			AutoBuffer = false;
		}
		if(AntiAliasing == null) {
			AntiAliasing = false;
		}
		if(Frame == null) {
			Frame = -1;
		}
		if(Rotations == null) {
			Rotations = 16;
		}
		var brushGraphic = flixel_FlxG.bitmap.add(Graphic,false,Key);
		if(brushGraphic == null) {
			return this;
		}
		var brush = brushGraphic.bitmap;
		var key = brushGraphic.key;
		if(Frame >= 0) {
			var brushSize = brush.height;
			var framesNum = brush.width / brushSize | 0;
			if(framesNum <= Frame) {
				Frame %= framesNum;
			}
			key += ":" + Frame;
			var full = brush;
			brush = new openfl_display_BitmapData(brushSize,brushSize,true,0);
			this._flashRect.setTo(Frame * brushSize,0,brushSize,brushSize);
			brush.copyPixels(full,this._flashRect,this._flashPointZero);
		}
		key += ":" + Rotations + ":" + (AutoBuffer == null ? "null" : "" + AutoBuffer);
		var tempGraph = flixel_FlxG.bitmap._cache.h[key];
		if(tempGraph == null) {
			var bitmap = flixel_util_FlxBitmapDataUtil.generateRotations(brush,Rotations,AntiAliasing,AutoBuffer);
			tempGraph = flixel_graphics_FlxGraphic.fromBitmapData(bitmap,false,key);
		}
		var max = brush.height > brush.width ? brush.height : brush.width;
		if(AutoBuffer) {
			max = max * 1.5 | 0;
		}
		var X = max;
		var Y = max;
		if(Y == null) {
			Y = 0;
		}
		if(X == null) {
			X = 0;
		}
		var point = flixel_math_FlxPoint._pool.get().set(X,Y);
		point._inPool = false;
		this.set_frames(flixel_graphics_frames_FlxTileFrames.fromGraphic(tempGraph,point));
		if(AutoBuffer) {
			this.set_width(brush.width);
			this.set_height(brush.height);
			this.centerOffsets();
		}
		this.bakedRotationAngle = 360 / Rotations;
		this.animation.createPrerotated();
		return this;
	}
	,loadRotatedFrame: function(Frame,Rotations,AntiAliasing,AutoBuffer) {
		if(AutoBuffer == null) {
			AutoBuffer = false;
		}
		if(AntiAliasing == null) {
			AntiAliasing = false;
		}
		if(Rotations == null) {
			Rotations = 16;
		}
		var key = Frame.parent.key;
		if(Frame.name != null) {
			key += ":" + Frame.name;
		} else {
			var _this = Frame.frame;
			var value = _this.x;
			var _this1 = flixel_util_LabelValuePair._pool.get();
			_this1.label = "x";
			_this1.value = value;
			var value = _this.y;
			var _this2 = flixel_util_LabelValuePair._pool.get();
			_this2.label = "y";
			_this2.value = value;
			var value = _this.width;
			var _this3 = flixel_util_LabelValuePair._pool.get();
			_this3.label = "w";
			_this3.value = value;
			var value = _this.height;
			var _this = flixel_util_LabelValuePair._pool.get();
			_this.label = "h";
			_this.value = value;
			key += ":" + flixel_util_FlxStringUtil.getDebugString([_this1,_this2,_this3,_this]);
		}
		var graphic = flixel_FlxG.bitmap._cache.h[key];
		if(graphic == null) {
			graphic = flixel_graphics_FlxGraphic.fromBitmapData(Frame.paint(),false,key);
		}
		return this.loadRotatedGraphic(graphic,Rotations,-1,AntiAliasing,AutoBuffer);
	}
	,makeGraphic: function(Width,Height,Color,Unique,Key) {
		if(Unique == null) {
			Unique = false;
		}
		if(Color == null) {
			Color = -1;
		}
		var graph = flixel_FlxG.bitmap.create(Width,Height,Color,Unique,Key);
		this.set_frames(graph.get_imageFrame());
		return this;
	}
	,graphicLoaded: function() {
	}
	,resetSize: function() {
		this._flashRect.x = 0;
		this._flashRect.y = 0;
		this._flashRect.width = this.frameWidth;
		this._flashRect.height = this.frameHeight;
	}
	,resetFrameSize: function() {
		if(this.frame != null) {
			this.frameWidth = this.frame.sourceSize.x | 0;
			this.frameHeight = this.frame.sourceSize.y | 0;
		}
		this._halfSize.set(0.5 * this.frameWidth,0.5 * this.frameHeight);
		this._flashRect.x = 0;
		this._flashRect.y = 0;
		this._flashRect.width = this.frameWidth;
		this._flashRect.height = this.frameHeight;
	}
	,resetSizeFromFrame: function() {
		this.set_width(this.frameWidth);
		this.set_height(this.frameHeight);
	}
	,resetFrame: function() {
		this.set_frame(this.frame);
	}
	,setGraphicSize: function(Width,Height) {
		if(Height == null) {
			Height = 0;
		}
		if(Width == null) {
			Width = 0;
		}
		if(Width <= 0 && Height <= 0) {
			return;
		}
		var newScaleX = Width / this.frameWidth;
		var newScaleY = Height / this.frameHeight;
		this.scale.set(newScaleX,newScaleY);
		if(Width <= 0) {
			this.scale.set_x(newScaleY);
		} else if(Height <= 0) {
			this.scale.set_y(newScaleX);
		}
	}
	,updateHitbox: function() {
		this.set_width(Math.abs(this.scale.x) * this.frameWidth);
		this.set_height(Math.abs(this.scale.y) * this.frameHeight);
		this.offset.set(-0.5 * (this.get_width() - this.frameWidth),-0.5 * (this.get_height() - this.frameHeight));
		this.origin.set(this.frameWidth * 0.5,this.frameHeight * 0.5);
	}
	,resetHelpers: function() {
		if(this.frame != null) {
			this.frameWidth = this.frame.sourceSize.x | 0;
			this.frameHeight = this.frame.sourceSize.y | 0;
		}
		this._halfSize.set(0.5 * this.frameWidth,0.5 * this.frameHeight);
		this._flashRect.x = 0;
		this._flashRect.y = 0;
		this._flashRect.width = this.frameWidth;
		this._flashRect.height = this.frameHeight;
		this.set_width(this.frameWidth);
		this.set_height(this.frameHeight);
		this._flashRect2.x = 0;
		this._flashRect2.y = 0;
		if(this.graphic != null) {
			this._flashRect2.width = this.graphic.width;
			this._flashRect2.height = this.graphic.height;
		}
		this.origin.set(this.frameWidth * 0.5,this.frameHeight * 0.5);
		if(flixel_FlxG.renderBlit) {
			this.dirty = true;
			this.updateFramePixels();
		}
	}
	,update: function(elapsed) {
		flixel_FlxObject.prototype.update.call(this,elapsed);
		this.updateAnimation(elapsed);
	}
	,updateAnimation: function(elapsed) {
		this.animation.update(elapsed);
	}
	,checkEmptyFrame: function() {
		if(this._frame == null) {
			this.loadGraphic("flixel/images/logo/default.png");
		}
	}
	,draw: function() {
		this.checkEmptyFrame();
		if(this.alpha == 0 || this._frame.type == 2) {
			return;
		}
		if(this.dirty) {
			this.calcFrame(this.useFramePixels);
		}
		var _g = 0;
		var _g1 = this.get_cameras();
		while(_g < _g1.length) {
			var camera = _g1[_g];
			++_g;
			if(!camera.visible || !camera.exists || !this.isOnScreen(camera)) {
				continue;
			}
			this.getScreenPosition(this._point,camera).subtractPoint(this.offset);
			if(this.isSimpleRender(camera)) {
				this.drawSimple(camera);
			} else {
				this.drawComplex(camera);
			}
		}
	}
	,drawSimple: function(camera) {
		if(this.isPixelPerfectRender(camera)) {
			var _this = this._point;
			_this.set_x(Math.floor(_this.x));
			_this.set_y(Math.floor(_this.y));
		}
		var _this = this._point;
		var FlashPoint = this._flashPoint;
		if(FlashPoint == null) {
			FlashPoint = new openfl_geom_Point();
		}
		FlashPoint.x = _this.x;
		FlashPoint.y = _this.y;
		camera.copyPixels(this._frame,this.framePixels,this._flashRect,this._flashPoint,this.colorTransform,this.blend,this.antialiasing);
	}
	,drawComplex: function(camera) {
		var doFlipX = this.flipX != this._frame.flipX;
		var doFlipY = this.flipY != this._frame.flipY;
		this._frame.prepareMatrix(this._matrix,0,this.animation._curAnim != null ? doFlipX != this.animation._curAnim.flipX : doFlipX,this.animation._curAnim != null ? doFlipY != this.animation._curAnim.flipY : doFlipY);
		this._matrix.translate(-this.origin.x,-this.origin.y);
		this._matrix.scale(this.scale.x,this.scale.y);
		if(this.bakedRotationAngle <= 0) {
			if(this._angleChanged) {
				var radians = this.angle * (Math.PI / 180);
				this._sinAngle = Math.sin(radians);
				this._cosAngle = Math.cos(radians);
				this._angleChanged = false;
			}
			if(this.angle != 0) {
				var _this = this._matrix;
				var cos = this._cosAngle;
				var sin = this._sinAngle;
				var a1 = _this.a * cos - _this.b * sin;
				_this.b = _this.a * sin + _this.b * cos;
				_this.a = a1;
				var c1 = _this.c * cos - _this.d * sin;
				_this.d = _this.c * sin + _this.d * cos;
				_this.c = c1;
				var tx1 = _this.tx * cos - _this.ty * sin;
				_this.ty = _this.tx * sin + _this.ty * cos;
				_this.tx = tx1;
			}
		}
		var _this = this._point;
		var X = this.origin.x;
		var Y = this.origin.y;
		if(Y == null) {
			Y = 0;
		}
		if(X == null) {
			X = 0;
		}
		var _g = _this;
		_g.set_x(_g.x + X);
		var _g = _this;
		_g.set_y(_g.y + Y);
		this._matrix.translate(this._point.x,this._point.y);
		if(this.isPixelPerfectRender(camera)) {
			this._matrix.tx = Math.floor(this._matrix.tx);
			this._matrix.ty = Math.floor(this._matrix.ty);
		}
		camera.drawPixels(this._frame,this.framePixels,this._matrix,this.colorTransform,this.blend,this.antialiasing,this.shader);
	}
	,stamp: function(Brush,X,Y) {
		if(Y == null) {
			Y = 0;
		}
		if(X == null) {
			X = 0;
		}
		Brush.drawFrame();
		if(this.graphic == null || Brush.graphic == null) {
			throw haxe_Exception.thrown("Cannot stamp to or from a FlxSprite with no graphics.");
		}
		var bitmapData = Brush.framePixels;
		if(this.isSimpleRenderBlit()) {
			this._flashPoint.x = X + this.frame.frame.x;
			this._flashPoint.y = Y + this.frame.frame.y;
			this._flashRect2.width = bitmapData.width;
			this._flashRect2.height = bitmapData.height;
			this.graphic.bitmap.copyPixels(bitmapData,this._flashRect2,this._flashPoint,null,null,true);
			this._flashRect2.width = this.graphic.bitmap.width;
			this._flashRect2.height = this.graphic.bitmap.height;
		} else {
			this._matrix.identity();
			this._matrix.translate(-Brush.origin.x,-Brush.origin.y);
			this._matrix.scale(Brush.scale.x,Brush.scale.y);
			if(Brush.angle != 0) {
				this._matrix.rotate(Brush.angle * (Math.PI / 180));
			}
			this._matrix.translate(X + this.frame.frame.x + Brush.origin.x,Y + this.frame.frame.y + Brush.origin.y);
			var brushBlend = Brush.blend;
			this.graphic.bitmap.draw(bitmapData,this._matrix,null,brushBlend,null,Brush.antialiasing);
		}
		if(flixel_FlxG.renderBlit) {
			this.dirty = true;
			this.calcFrame();
		}
	}
	,drawFrame: function(Force) {
		if(Force == null) {
			Force = false;
		}
		if(flixel_FlxG.renderBlit) {
			if(Force || this.dirty) {
				this.dirty = true;
				this.calcFrame();
			}
		} else {
			this.dirty = true;
			this.calcFrame(true);
		}
	}
	,centerOffsets: function(AdjustPosition) {
		if(AdjustPosition == null) {
			AdjustPosition = false;
		}
		this.offset.set_x((this.frameWidth - this.get_width()) * 0.5);
		this.offset.set_y((this.frameHeight - this.get_height()) * 0.5);
		if(AdjustPosition) {
			var _g = this;
			_g.set_x(_g.x + this.offset.x);
			var _g = this;
			_g.set_y(_g.y + this.offset.y);
		}
	}
	,centerOrigin: function() {
		this.origin.set(this.frameWidth * 0.5,this.frameHeight * 0.5);
	}
	,replaceColor: function(Color,NewColor,FetchPositions) {
		if(FetchPositions == null) {
			FetchPositions = false;
		}
		var positions = flixel_util_FlxBitmapDataUtil.replaceColor(this.graphic.bitmap,Color,NewColor,FetchPositions);
		if(positions != null) {
			this.dirty = true;
		}
		return positions;
	}
	,setColorTransform: function(redMultiplier,greenMultiplier,blueMultiplier,alphaMultiplier,redOffset,greenOffset,blueOffset,alphaOffset) {
		if(alphaOffset == null) {
			alphaOffset = 0;
		}
		if(blueOffset == null) {
			blueOffset = 0;
		}
		if(greenOffset == null) {
			greenOffset = 0;
		}
		if(redOffset == null) {
			redOffset = 0;
		}
		if(alphaMultiplier == null) {
			alphaMultiplier = 1.0;
		}
		if(blueMultiplier == null) {
			blueMultiplier = 1.0;
		}
		if(greenMultiplier == null) {
			greenMultiplier = 1.0;
		}
		if(redMultiplier == null) {
			redMultiplier = 1.0;
		}
		var color = flixel_util_FlxColor._new();
		var Alpha = 1;
		if(Alpha == null) {
			Alpha = 1;
		}
		var Value = Math.round(redMultiplier * 255);
		color &= -16711681;
		color |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 16;
		var Value = Math.round(greenMultiplier * 255);
		color &= -65281;
		color |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 8;
		var Value = Math.round(blueMultiplier * 255);
		color &= -256;
		color |= Value > 255 ? 255 : Value < 0 ? 0 : Value;
		var Value = Math.round(Alpha * 255);
		color &= 16777215;
		color |= (Value > 255 ? 255 : Value < 0 ? 0 : Value) << 24;
		this.set_color(color & 16777215);
		this.set_alpha(alphaMultiplier);
		flixel_util_FlxColorTransformUtil.setMultipliers(this.colorTransform,redMultiplier,greenMultiplier,blueMultiplier,alphaMultiplier);
		flixel_util_FlxColorTransformUtil.setOffsets(this.colorTransform,redOffset,greenOffset,blueOffset,alphaOffset);
		this.useColorTransform = this.alpha != 1 || this.color != 16777215 || flixel_util_FlxColorTransformUtil.hasRGBOffsets(this.colorTransform);
		this.dirty = true;
	}
	,updateColorTransform: function() {
		if(this.colorTransform == null) {
			this.colorTransform = new openfl_geom_ColorTransform();
		}
		this.useColorTransform = this.alpha != 1 || this.color != 16777215;
		if(this.useColorTransform) {
			flixel_util_FlxColorTransformUtil.setMultipliers(this.colorTransform,(this.color >> 16 & 255) / 255,(this.color >> 8 & 255) / 255,(this.color & 255) / 255,this.alpha);
		} else {
			flixel_util_FlxColorTransformUtil.setMultipliers(this.colorTransform,1,1,1,1);
		}
		this.dirty = true;
	}
	,pixelsOverlapPoint: function(point,Mask,Camera) {
		if(Mask == null) {
			Mask = 255;
		}
		if(Camera == null) {
			Camera = flixel_FlxG.camera;
		}
		this.getScreenPosition(this._point,Camera);
		this._point.subtractPoint(this.offset);
		this._flashPoint.x = point.x - Camera.scroll.x - this._point.x;
		this._flashPoint.y = point.y - Camera.scroll.y - this._point.y;
		if(point._weak) {
			point.put();
		}
		if(this._flashPoint.x < 0 || this._flashPoint.x > this.frameWidth || this._flashPoint.y < 0 || this._flashPoint.y > this.frameHeight) {
			return false;
		} else {
			var frameData = this.updateFramePixels();
			var pixelColor = frameData.getPixel32(this._flashPoint.x | 0,this._flashPoint.y | 0);
			return (pixelColor >> 24 & 255) * this.alpha >= Mask;
		}
	}
	,calcFrame: function(RunOnCpp) {
		if(RunOnCpp == null) {
			RunOnCpp = false;
		}
		this.checkEmptyFrame();
		if(flixel_FlxG.renderTile && !RunOnCpp) {
			return;
		}
		this.updateFramePixels();
	}
	,updateFramePixels: function() {
		if(this._frame == null || !this.dirty) {
			return this.framePixels;
		}
		if(flixel_FlxG.renderTile && this._frameGraphic != null) {
			this.dirty = false;
			return this.framePixels;
		}
		var doFlipX = this.flipX != this._frame.flipX;
		var doFlipX1 = this.animation._curAnim != null ? doFlipX != this.animation._curAnim.flipX : doFlipX;
		var doFlipY = this.flipY != this._frame.flipY;
		var doFlipY1 = this.animation._curAnim != null ? doFlipY != this.animation._curAnim.flipY : doFlipY;
		if(!doFlipX1 && !doFlipY1 && this._frame.type == 0) {
			this.framePixels = this._frame.paint(this.framePixels,this._flashPointZero,false,true);
		} else {
			this.framePixels = this._frame.paintRotatedAndFlipped(this.framePixels,this._flashPointZero,0,doFlipX1,doFlipY1,false,true);
		}
		if(this.useColorTransform) {
			this.framePixels.colorTransform(this._flashRect,this.colorTransform);
		}
		if(flixel_FlxG.renderTile && this.useFramePixels) {
			this._frameGraphic = flixel_util_FlxDestroyUtil.destroy(this._frameGraphic);
			this._frameGraphic = flixel_graphics_FlxGraphic.fromBitmapData(this.framePixels,false,null,false);
			this._frame = this._frameGraphic.get_imageFrame().get_frame().copyTo(this._frame);
		}
		this.dirty = false;
		return this.framePixels;
	}
	,getGraphicMidpoint: function(point) {
		if(point == null) {
			var point1 = flixel_math_FlxPoint._pool.get().set(0,0);
			point1._inPool = false;
			point = point1;
		}
		return point.set(this.x + this.frameWidth * 0.5,this.y + this.frameHeight * 0.5);
	}
	,isOnScreen: function(Camera) {
		if(Camera == null) {
			Camera = flixel_FlxG.camera;
		}
		var minX = this.x - this.offset.x - Camera.scroll.x * this.scrollFactor.x;
		var minY = this.y - this.offset.y - Camera.scroll.y * this.scrollFactor.y;
		if((this.angle == 0 || this.bakedRotationAngle > 0) && this.scale.x == 1 && this.scale.y == 1) {
			this._point.set(minX,minY);
			var point = this._point;
			var width = this.frameWidth;
			var height = this.frameHeight;
			if(height == null) {
				height = 0;
			}
			if(width == null) {
				width = 0;
			}
			if(point.x + width > Camera.viewOffsetX && point.x < Camera.viewOffsetWidth && point.y + height > Camera.viewOffsetY) {
				return point.y < Camera.viewOffsetHeight;
			} else {
				return false;
			}
		}
		var radiusX = this._halfSize.x;
		var radiusY = this._halfSize.y;
		var ox = this.origin.x;
		if(ox != radiusX) {
			var x1 = Math.abs(ox);
			var x2 = Math.abs(this.frameWidth - ox);
			radiusX = Math.max(x2,x1);
		}
		var oy = this.origin.y;
		if(oy != radiusY) {
			var y1 = Math.abs(oy);
			var y2 = Math.abs(this.frameHeight - oy);
			radiusY = Math.max(y2,y1);
		}
		radiusX *= Math.abs(this.scale.x);
		radiusY *= Math.abs(this.scale.y);
		var radius = Math.max(radiusX,radiusY);
		radius *= 1.41421356237;
		minX += ox - radius;
		minY += oy - radius;
		var doubleRadius = 2 * radius;
		this._point.set(minX,minY);
		var point = this._point;
		var width = doubleRadius;
		var height = doubleRadius;
		if(height == null) {
			height = 0;
		}
		if(width == null) {
			width = 0;
		}
		if(point.x + width > Camera.viewOffsetX && point.x < Camera.viewOffsetWidth && point.y + height > Camera.viewOffsetY) {
			return point.y < Camera.viewOffsetHeight;
		} else {
			return false;
		}
	}
	,isSimpleRender: function(camera) {
		if(flixel_FlxG.renderTile) {
			return false;
		}
		return this.isSimpleRenderBlit(camera);
	}
	,isSimpleRenderBlit: function(camera) {
		var result = (this.angle == 0 || this.bakedRotationAngle > 0) && this.scale.x == 1 && this.scale.y == 1 && this.blend == null;
		result = result && (camera != null ? this.isPixelPerfectRender(camera) : this.pixelPerfectRender);
		return result;
	}
	,setFacingFlip: function(Direction,FlipX,FlipY) {
		this._facingFlip.h[Direction] = { x : FlipX, y : FlipY};
	}
	,setFrames: function(Frames,saveAnimations) {
		if(saveAnimations == null) {
			saveAnimations = true;
		}
		if(saveAnimations) {
			var animations = this.animation._animations;
			var reverse = false;
			var index = 0;
			var frameIndex = this.animation.frameIndex;
			var currName = null;
			if(this.animation._curAnim != null) {
				reverse = this.animation._curAnim.reversed;
				index = this.animation._curAnim.curFrame;
				currName = this.animation._curAnim.name;
			}
			this.animation._animations = null;
			this.set_frames(Frames);
			this.set_frame(this.frames.frames[frameIndex]);
			this.animation._animations = animations;
			if(currName != null) {
				this.animation.play(currName,false,reverse,index);
			}
		} else {
			this.set_frames(Frames);
		}
		return this;
	}
	,get_pixels: function() {
		if(this.graphic == null) {
			return null;
		} else {
			return this.graphic.bitmap;
		}
	}
	,set_pixels: function(Pixels) {
		var key = flixel_FlxG.bitmap.findKeyForBitmap(Pixels);
		if(key == null) {
			key = flixel_FlxG.bitmap.getUniqueKey();
			this.set_graphic(flixel_FlxG.bitmap.add(Pixels,false,key));
		} else {
			this.set_graphic(flixel_FlxG.bitmap._cache.h[key]);
		}
		this.set_frames(this.graphic.get_imageFrame());
		return Pixels;
	}
	,set_frame: function(Value) {
		this.frame = Value;
		if(this.frame != null) {
			if(this.frame != null) {
				this.frameWidth = this.frame.sourceSize.x | 0;
				this.frameHeight = this.frame.sourceSize.y | 0;
			}
			this._halfSize.set(0.5 * this.frameWidth,0.5 * this.frameHeight);
			this._flashRect.x = 0;
			this._flashRect.y = 0;
			this._flashRect.width = this.frameWidth;
			this._flashRect.height = this.frameHeight;
			this.dirty = true;
		} else if(this.frames != null && this.frames.frames != null && this.numFrames > 0) {
			this.frame = this.frames.frames[0];
			this.dirty = true;
		} else {
			return null;
		}
		if(flixel_FlxG.renderTile) {
			this._frameGraphic = flixel_util_FlxDestroyUtil.destroy(this._frameGraphic);
		}
		if(this.clipRect != null) {
			this._frame = this.frame.clipTo(this.clipRect,this._frame);
		} else {
			this._frame = this.frame.copyTo(this._frame);
		}
		return this.frame;
	}
	,set_facing: function(Direction) {
		var flip = this._facingFlip.h[Direction];
		if(flip != null) {
			this.set_flipX(flip.x);
			this.set_flipY(flip.y);
		}
		return this.facing = Direction;
	}
	,set_alpha: function(Alpha) {
		if(this.alpha == Alpha) {
			return Alpha;
		}
		var lowerBound = Alpha < 0 ? 0 : Alpha;
		this.alpha = lowerBound > 1 ? 1 : lowerBound;
		this.updateColorTransform();
		return this.alpha;
	}
	,set_color: function(Color) {
		if(this.color == Color) {
			return Color;
		}
		this.color = Color;
		this.updateColorTransform();
		return this.color;
	}
	,set_angle: function(Value) {
		var newAngle = this.angle != Value;
		var ret = flixel_FlxObject.prototype.set_angle.call(this,Value);
		if(newAngle) {
			this._angleChanged = true;
			this.animation.update(0);
		}
		return ret;
	}
	,updateTrig: function() {
		if(this._angleChanged) {
			var radians = this.angle * (Math.PI / 180);
			this._sinAngle = Math.sin(radians);
			this._cosAngle = Math.cos(radians);
			this._angleChanged = false;
		}
	}
	,set_blend: function(Value) {
		return this.blend = Value;
	}
	,set_graphic: function(Value) {
		var oldGraphic = this.graphic;
		if(this.graphic != Value && Value != null) {
			var _g = Value;
			_g.set_useCount(_g.get_useCount() + 1);
		}
		if(oldGraphic != null && oldGraphic != Value) {
			var _g = oldGraphic;
			_g.set_useCount(_g.get_useCount() - 1);
		}
		return this.graphic = Value;
	}
	,set_clipRect: function(rect) {
		if(rect != null) {
			rect.x = Math.round(rect.x);
			rect.y = Math.round(rect.y);
			rect.width = Math.round(rect.width);
			rect.height = Math.round(rect.height);
			this.clipRect = rect;
		} else {
			this.clipRect = null;
		}
		if(this.frames != null) {
			this.set_frame(this.frames.frames[this.animation.frameIndex]);
		}
		return rect;
	}
	,set_frames: function(Frames) {
		if(this.animation != null) {
			this.animation.destroyAnimations();
		}
		if(Frames != null) {
			this.set_graphic(Frames.parent);
			this.frames = Frames;
			this.set_frame(this.frames.frames[0]);
			this.numFrames = this.frames.frames.length;
			this.resetHelpers();
			this.bakedRotationAngle = 0;
			this.animation.set_frameIndex(0);
			this.graphicLoaded();
		} else {
			this.frames = null;
			this.set_frame(null);
			this.set_graphic(null);
		}
		return Frames;
	}
	,set_flipX: function(Value) {
		if(flixel_FlxG.renderTile) {
			this._facingHorizontalMult = Value ? -1 : 1;
		}
		this.dirty = this.flipX != Value || this.dirty;
		return this.flipX = Value;
	}
	,set_flipY: function(Value) {
		if(flixel_FlxG.renderTile) {
			this._facingVerticalMult = Value ? -1 : 1;
		}
		this.dirty = this.flipY != Value || this.dirty;
		return this.flipY = Value;
	}
	,set_antialiasing: function(value) {
		return this.antialiasing = value;
	}
	,set_useFramePixels: function(value) {
		if(flixel_FlxG.renderTile) {
			if(value != this.useFramePixels) {
				this.useFramePixels = value;
				this.set_frame(this.frame);
				if(value) {
					this.updateFramePixels();
				}
			}
			return value;
		} else {
			this.useFramePixels = true;
			return true;
		}
	}
	,checkFlipX: function() {
		var doFlipX = this.flipX != this._frame.flipX;
		if(this.animation._curAnim != null) {
			return doFlipX != this.animation._curAnim.flipX;
		}
		return doFlipX;
	}
	,checkFlipY: function() {
		var doFlipY = this.flipY != this._frame.flipY;
		if(this.animation._curAnim != null) {
			return doFlipY != this.animation._curAnim.flipY;
		}
		return doFlipY;
	}
	,__class__: flixel_FlxSprite
	,__properties__: $extend(flixel_FlxObject.prototype.__properties__,{set_clipRect:"set_clipRect",set_color:"set_color",set_blend:"set_blend",set_flipY:"set_flipY",set_flipX:"set_flipX",set_facing:"set_facing",set_alpha:"set_alpha",set_graphic:"set_graphic",set_frames:"set_frames",set_frame:"set_frame",set_pixels:"set_pixels",get_pixels:"get_pixels",set_antialiasing:"set_antialiasing",set_useFramePixels:"set_useFramePixels"})
});
var flixel_group_FlxTypedSpriteGroup = function(X,Y,MaxSize) {
	if(MaxSize == null) {
		MaxSize = 0;
	}
	if(Y == null) {
		Y = 0;
	}
	if(X == null) {
		X = 0;
	}
	this._skipTransformChildren = false;
	this.directAlpha = false;
	flixel_FlxSprite.call(this,X,Y);
	this.group = new flixel_group_FlxTypedGroup(MaxSize);
	this._sprites = this.group.members;
};
$hxClasses["flixel.group.FlxTypedSpriteGroup"] = flixel_group_FlxTypedSpriteGroup;
flixel_group_FlxTypedSpriteGroup.__name__ = "flixel.group.FlxTypedSpriteGroup";
flixel_group_FlxTypedSpriteGroup.__super__ = flixel_FlxSprite;
flixel_group_FlxTypedSpriteGroup.prototype = $extend(flixel_FlxSprite.prototype,{
	transformChildren_flixel_math_FlxRect: function(Function1,Value) {
		if(this.group == null) {
			return;
		}
		var _g = 0;
		var _g1 = this._sprites;
		while(_g < _g1.length) {
			var sprite = _g1[_g];
			++_g;
			if(sprite != null) {
				Function1(sprite,Value);
			}
		}
	}
	,transformChildren_flash_display_BlendMode: function(Function1,Value) {
		if(this.group == null) {
			return;
		}
		var _g = 0;
		var _g1 = this._sprites;
		while(_g < _g1.length) {
			var sprite = _g1[_g];
			++_g;
			if(sprite != null) {
				Function1(sprite,Value);
			}
		}
	}
	,transformChildren_flixel_FlxCamera: function(Function1,Value) {
		if(this.group == null) {
			return;
		}
		var _g = 0;
		var _g1 = this._sprites;
		while(_g < _g1.length) {
			var sprite = _g1[_g];
			++_g;
			if(sprite != null) {
				Function1(sprite,Value);
			}
		}
	}
	,multiTransformChildren_Float: function(FunctionArray,ValueArray) {
		if(this.group == null) {
			return;
		}
		var numProps = FunctionArray.length;
		if(numProps > ValueArray.length) {
			return;
		}
		var lambda;
		var _g = 0;
		var _g1 = this._sprites;
		while(_g < _g1.length) {
			var sprite = _g1[_g];
			++_g;
			if(sprite != null && sprite.exists) {
				var _g2 = 0;
				var _g3 = numProps;
				while(_g2 < _g3) {
					var i = _g2++;
					lambda = FunctionArray[i];
					lambda(sprite,ValueArray[i]);
				}
			}
		}
	}
	,transformChildren_flixel_math_FlxPoint: function(Function1,Value) {
		if(this.group == null) {
			return;
		}
		var _g = 0;
		var _g1 = this._sprites;
		while(_g < _g1.length) {
			var sprite = _g1[_g];
			++_g;
			if(sprite != null) {
				Function1(sprite,Value);
			}
		}
	}
	,transformChildren_Int: function(Function1,Value) {
		if(this.group == null) {
			return;
		}
		var _g = 0;
		var _g1 = this._sprites;
		while(_g < _g1.length) {
			var sprite = _g1[_g];
			++_g;
			if(sprite != null) {
				Function1(sprite,Value);
			}
		}
	}
	,transformChildren_Float: function(Function1,Value) {
		if(this.group == null) {
			return;
		}
		var _g = 0;
		var _g1 = this._sprites;
		while(_g < _g1.length) {
			var sprite = _g1[_g];
			++_g;
			if(sprite != null) {
				Function1(sprite,Value);
			}
		}
	}
	,transformChildren_Array_flixel_FlxCamera: function(Function1,Value) {
		if(this.group == null) {
			return;
		}
		var _g = 0;
		var _g1 = this._sprites;
		while(_g < _g1.length) {
			var sprite = _g1[_g];
			++_g;
			if(sprite != null) {
				Function1(sprite,Value);
			}
		}
	}
	,transformChildren_Bool: function(Function1,Value) {
		if(this.group == null) {
			return;
		}
		var _g = 0;
		var _g1 = this._sprites;
		while(_g < _g1.length) {
			var sprite = _g1[_g];
			++_g;
			if(sprite != null) {
				Function1(sprite,Value);
			}
		}
	}
	,group: null
	,directAlpha: null
	,_skipTransformChildren: null
	,_sprites: null
	,initVars: function() {
		this.flixelType = 4;
		this.offset = new flixel_math_FlxCallbackPoint($bind(this,this.offsetCallback));
		this.origin = new flixel_math_FlxCallbackPoint($bind(this,this.originCallback));
		this.scale = new flixel_math_FlxCallbackPoint($bind(this,this.scaleCallback));
		this.scrollFactor = new flixel_math_FlxCallbackPoint($bind(this,this.scrollFactorCallback));
		this.scale.set(1,1);
		this.scrollFactor.set(1,1);
		var point = flixel_math_FlxPoint._pool.get().set(0,0);
		point._inPool = false;
		this.velocity = point;
		var point = flixel_math_FlxPoint._pool.get().set(0,0);
		point._inPool = false;
		this.acceleration = point;
		var point = flixel_math_FlxPoint._pool.get().set(0,0);
		point._inPool = false;
		this.drag = point;
		var X = 10000;
		var Y = 10000;
		if(Y == null) {
			Y = 0;
		}
		if(X == null) {
			X = 0;
		}
		var point = flixel_math_FlxPoint._pool.get().set(X,Y);
		point._inPool = false;
		this.maxVelocity = point;
	}
	,destroy: function() {
		this.offset = flixel_util_FlxDestroyUtil.destroy(this.offset);
		this.origin = flixel_util_FlxDestroyUtil.destroy(this.origin);
		this.scale = flixel_util_FlxDestroyUtil.destroy(this.scale);
		this.scrollFactor = flixel_util_FlxDestroyUtil.destroy(this.scrollFactor);
		this.group = flixel_util_FlxDestroyUtil.destroy(this.group);
		this._sprites = null;
		flixel_FlxSprite.prototype.destroy.call(this);
	}
	,clone: function() {
		var newGroup = new flixel_group_FlxTypedSpriteGroup(this.x,this.y,this.group.maxSize);
		var _g = 0;
		var _g1 = this.group.members;
		while(_g < _g1.length) {
			var sprite = _g1[_g];
			++_g;
			if(sprite != null) {
				newGroup.add(sprite.clone());
			}
		}
		return newGroup;
	}
	,isOnScreen: function(Camera) {
		var _g = 0;
		var _g1 = this._sprites;
		while(_g < _g1.length) {
			var sprite = _g1[_g];
			++_g;
			if(sprite != null && sprite.exists && sprite.visible && sprite.isOnScreen(Camera)) {
				return true;
			}
		}
		return false;
	}
	,overlapsPoint: function(point,InScreenSpace,Camera) {
		if(InScreenSpace == null) {
			InScreenSpace = false;
		}
		var result = false;
		var _g = 0;
		var _g1 = this._sprites;
		while(_g < _g1.length) {
			var sprite = _g1[_g];
			++_g;
			if(sprite != null && sprite.exists && sprite.visible) {
				result = result || sprite.overlapsPoint(point,InScreenSpace,Camera);
			}
		}
		return result;
	}
	,pixelsOverlapPoint: function(point,Mask,Camera) {
		if(Mask == null) {
			Mask = 255;
		}
		var result = false;
		var _g = 0;
		var _g1 = this._sprites;
		while(_g < _g1.length) {
			var sprite = _g1[_g];
			++_g;
			if(sprite != null && sprite.exists && sprite.visible) {
				result = result || sprite.pixelsOverlapPoint(point,Mask,Camera);
			}
		}
		return result;
	}
	,update: function(elapsed) {
		this.group.update(elapsed);
		if(this.moves) {
			this.updateMotion(elapsed);
		}
	}
	,draw: function() {
		this.group.draw();
	}
	,replaceColor: function(Color,NewColor,FetchPositions) {
		if(FetchPositions == null) {
			FetchPositions = false;
		}
		var positions = null;
		if(FetchPositions) {
			positions = [];
		}
		var spritePositions;
		var _g = 0;
		var _g1 = this._sprites;
		while(_g < _g1.length) {
			var sprite = _g1[_g];
			++_g;
			if(sprite != null) {
				spritePositions = sprite.replaceColor(Color,NewColor,FetchPositions);
				if(FetchPositions) {
					positions = positions.concat(spritePositions);
				}
			}
		}
		return positions;
	}
	,add: function(Sprite) {
		this.preAdd(Sprite);
		return this.group.add(Sprite);
	}
	,insert: function(Position,Sprite) {
		this.preAdd(Sprite);
		return this.group.insert(Position,Sprite);
	}
	,preAdd: function(Sprite) {
		var sprite = Sprite;
		var _g = sprite;
		_g.set_x(_g.x + this.x);
		var _g = sprite;
		_g.set_y(_g.y + this.y);
		var _g = sprite;
		_g.set_alpha(_g.alpha * this.alpha);
		var _this = sprite.scrollFactor;
		var point = this.scrollFactor;
		_this.set_x(point.x);
		_this.set_y(point.y);
		if(point._weak) {
			point.put();
		}
		sprite.set_cameras(this._cameras);
		if(this.clipRect != null) {
			var ClipRect = this.clipRect;
			if(ClipRect == null) {
				sprite.set_clipRect(null);
			} else {
				var X = ClipRect.x - sprite.x + this.x;
				var Y = ClipRect.y - sprite.y + this.y;
				var Width = ClipRect.width;
				var Height = ClipRect.height;
				if(Height == null) {
					Height = 0;
				}
				if(Width == null) {
					Width = 0;
				}
				if(Y == null) {
					Y = 0;
				}
				if(X == null) {
					X = 0;
				}
				var _this = flixel_math_FlxRect._pool.get();
				var X1 = X;
				var Y1 = Y;
				var Width1 = Width;
				var Height1 = Height;
				if(Height1 == null) {
					Height1 = 0;
				}
				if(Width1 == null) {
					Width1 = 0;
				}
				if(Y1 == null) {
					Y1 = 0;
				}
				if(X1 == null) {
					X1 = 0;
				}
				_this.x = X1;
				_this.y = Y1;
				_this.width = Width1;
				_this.height = Height1;
				var rect = _this;
				rect._inPool = false;
				sprite.set_clipRect(rect);
			}
		}
	}
	,recycle: function(ObjectClass,ObjectFactory,Force,Revive) {
		if(Revive == null) {
			Revive = true;
		}
		if(Force == null) {
			Force = false;
		}
		return this.group.recycle(ObjectClass,ObjectFactory,Force,Revive);
	}
	,remove: function(Sprite,Splice) {
		if(Splice == null) {
			Splice = false;
		}
		var sprite = Sprite;
		var _g = sprite;
		_g.set_x(_g.x - this.x);
		var _g = sprite;
		_g.set_y(_g.y - this.y);
		sprite.set_cameras(null);
		return this.group.remove(Sprite,Splice);
	}
	,replace: function(OldObject,NewObject) {
		return this.group.replace(OldObject,NewObject);
	}
	,sort: function(Function1,Order) {
		if(Order == null) {
			Order = -1;
		}
		var Order1 = Order;
		if(Order1 == null) {
			Order1 = -1;
		}
		var _g = Function1;
		var a1 = Order1;
		var tmp = function(a2,a3) {
			return _g(a1,a2,a3);
		};
		this.group.members.sort(tmp);
	}
	,getFirstAvailable: function(ObjectClass,Force) {
		if(Force == null) {
			Force = false;
		}
		return this.group.getFirstAvailable(ObjectClass,Force);
	}
	,getFirstNull: function() {
		return this.group.getFirstNull();
	}
	,getFirstExisting: function() {
		return this.group.getFirstExisting();
	}
	,getFirstAlive: function() {
		return this.group.getFirstAlive();
	}
	,getFirstDead: function() {
		return this.group.getFirstDead();
	}
	,countLiving: function() {
		return this.group.countLiving();
	}
	,countDead: function() {
		return this.group.countDead();
	}
	,getRandom: function(StartIndex,Length) {
		if(Length == null) {
			Length = 0;
		}
		if(StartIndex == null) {
			StartIndex = 0;
		}
		return this.group.getRandom(StartIndex,Length);
	}
	,iterator: function(filter) {
		return new flixel_group_FlxTypedGroupIterator(this.group.members,filter);
	}
	,forEach: function(Function1,Recurse) {
		if(Recurse == null) {
			Recurse = false;
		}
		this.group.forEach(Function1,Recurse);
	}
	,forEachAlive: function(Function1,Recurse) {
		if(Recurse == null) {
			Recurse = false;
		}
		this.group.forEachAlive(Function1,Recurse);
	}
	,forEachDead: function(Function1,Recurse) {
		if(Recurse == null) {
			Recurse = false;
		}
		this.group.forEachDead(Function1,Recurse);
	}
	,forEachExists: function(Function1,Recurse) {
		if(Recurse == null) {
			Recurse = false;
		}
		this.group.forEachExists(Function1,Recurse);
	}
	,forEachOfType: function(ObjectClass,Function1,Recurse) {
		if(Recurse == null) {
			Recurse = false;
		}
		this.group.forEachOfType(ObjectClass,Function1,Recurse);
	}
	,clear: function() {
		this.group.clear();
	}
	,kill: function() {
		flixel_FlxSprite.prototype.kill.call(this);
		this.group.kill();
	}
	,revive: function() {
		flixel_FlxSprite.prototype.revive.call(this);
		this.group.revive();
	}
	,reset: function(X,Y) {
		this.revive();
		this.setPosition(X,Y);
		var _g = 0;
		var _g1 = this._sprites;
		while(_g < _g1.length) {
			var sprite = _g1[_g];
			++_g;
			if(sprite != null) {
				sprite.reset(X,Y);
			}
		}
	}
	,setPosition: function(X,Y) {
		if(Y == null) {
			Y = 0;
		}
		if(X == null) {
			X = 0;
		}
		var dx = X - this.x;
		var dy = Y - this.y;
		this.multiTransformChildren_Float([$bind(this,this.xTransform),$bind(this,this.yTransform)],[dx,dy]);
		this._skipTransformChildren = true;
		this.set_x(X);
		this.set_y(Y);
		this._skipTransformChildren = false;
	}
	,set_camera: function(Value) {
		if(this.get_camera() != Value) {
			this.transformChildren_flixel_FlxCamera($bind(this,this.cameraTransform),Value);
		}
		return flixel_FlxSprite.prototype.set_camera.call(this,Value);
	}
	,set_cameras: function(Value) {
		if(this.get_cameras() != Value) {
			this.transformChildren_Array_flixel_FlxCamera($bind(this,this.camerasTransform),Value);
		}
		return flixel_FlxSprite.prototype.set_cameras.call(this,Value);
	}
	,set_exists: function(Value) {
		if(this.exists != Value) {
			this.transformChildren_Bool($bind(this,this.existsTransform),Value);
		}
		return flixel_FlxSprite.prototype.set_exists.call(this,Value);
	}
	,set_visible: function(Value) {
		if(this.exists && this.visible != Value) {
			this.transformChildren_Bool($bind(this,this.visibleTransform),Value);
		}
		return flixel_FlxSprite.prototype.set_visible.call(this,Value);
	}
	,set_active: function(Value) {
		if(this.exists && this.active != Value) {
			this.transformChildren_Bool($bind(this,this.activeTransform),Value);
		}
		return flixel_FlxSprite.prototype.set_active.call(this,Value);
	}
	,set_alive: function(Value) {
		if(this.alive != Value) {
			this.transformChildren_Bool($bind(this,this.aliveTransform),Value);
		}
		return flixel_FlxSprite.prototype.set_alive.call(this,Value);
	}
	,set_x: function(Value) {
		if(!this._skipTransformChildren && this.exists && this.x != Value) {
			var offset = Value - this.x;
			this.transformChildren_Float($bind(this,this.xTransform),offset);
		}
		return this.x = Value;
	}
	,set_y: function(Value) {
		if(!this._skipTransformChildren && this.exists && this.y != Value) {
			var offset = Value - this.y;
			this.transformChildren_Float($bind(this,this.yTransform),offset);
		}
		return this.y = Value;
	}
	,set_angle: function(Value) {
		if(this.exists && this.angle != Value) {
			var offset = Value - this.angle;
			this.transformChildren_Float($bind(this,this.angleTransform),offset);
		}
		return this.angle = Value;
	}
	,set_alpha: function(Value) {
		var lowerBound = Value < 0 ? 0 : Value;
		Value = lowerBound > 1 ? 1 : lowerBound;
		if(this.exists && this.alpha != Value) {
			var factor = this.alpha > 0 ? Value / this.alpha : 0;
			if(!this.directAlpha && this.alpha != 0) {
				this.transformChildren_Float($bind(this,this.alphaTransform),factor);
			} else {
				this.transformChildren_Float($bind(this,this.directAlphaTransform),Value);
			}
		}
		return this.alpha = Value;
	}
	,set_facing: function(Value) {
		if(this.exists && this.facing != Value) {
			this.transformChildren_Int($bind(this,this.facingTransform),Value);
		}
		return this.facing = Value;
	}
	,set_flipX: function(Value) {
		if(this.exists && this.flipX != Value) {
			this.transformChildren_Bool($bind(this,this.flipXTransform),Value);
		}
		return this.flipX = Value;
	}
	,set_flipY: function(Value) {
		if(this.exists && this.flipY != Value) {
			this.transformChildren_Bool($bind(this,this.flipYTransform),Value);
		}
		return this.flipY = Value;
	}
	,set_moves: function(Value) {
		if(this.exists && this.moves != Value) {
			this.transformChildren_Bool($bind(this,this.movesTransform),Value);
		}
		return this.moves = Value;
	}
	,set_immovable: function(Value) {
		if(this.exists && this.immovable != Value) {
			this.transformChildren_Bool($bind(this,this.immovableTransform),Value);
		}
		return this.immovable = Value;
	}
	,set_solid: function(Value) {
		if(this.exists && (this.allowCollisions & 4369) > 0 != Value) {
			this.transformChildren_Bool($bind(this,this.solidTransform),Value);
		}
		return flixel_FlxSprite.prototype.set_solid.call(this,Value);
	}
	,set_color: function(Value) {
		if(this.exists && this.color != Value) {
			this.transformChildren_Int($bind(this,this.gColorTransform),Value);
		}
		return this.color = Value;
	}
	,set_blend: function(Value) {
		if(this.exists && this.blend != Value) {
			this.transformChildren_flash_display_BlendMode($bind(this,this.blendTransform),Value);
		}
		return this.blend = Value;
	}
	,set_clipRect: function(rect) {
		if(this.exists) {
			this.transformChildren_flixel_math_FlxRect($bind(this,this.clipRectTransform),rect);
		}
		return flixel_FlxSprite.prototype.set_clipRect.call(this,rect);
	}
	,set_pixelPerfectRender: function(Value) {
		if(this.exists && this.pixelPerfectRender != Value) {
			this.transformChildren_Bool($bind(this,this.pixelPerfectTransform),Value);
		}
		return flixel_FlxSprite.prototype.set_pixelPerfectRender.call(this,Value);
	}
	,set_width: function(Value) {
		return Value;
	}
	,get_width: function() {
		if(this.group.length == 0) {
			return 0;
		}
		var minX = Infinity;
		var maxX = -Infinity;
		var _g = 0;
		var _g1 = this._sprites;
		while(_g < _g1.length) {
			var member = _g1[_g];
			++_g;
			if(member == null) {
				continue;
			}
			var minMemberX = member.x;
			var maxMemberX = minMemberX + member.get_width();
			if(maxMemberX > maxX) {
				maxX = maxMemberX;
			}
			if(minMemberX < minX) {
				minX = minMemberX;
			}
		}
		return maxX - minX;
	}
	,set_height: function(Value) {
		return Value;
	}
	,get_height: function() {
		if(this.group.length == 0) {
			return 0;
		}
		var minY = Infinity;
		var maxY = -Infinity;
		var _g = 0;
		var _g1 = this._sprites;
		while(_g < _g1.length) {
			var member = _g1[_g];
			++_g;
			if(member == null) {
				continue;
			}
			var minMemberY = member.y;
			var maxMemberY = minMemberY + member.get_height();
			if(maxMemberY > maxY) {
				maxY = maxMemberY;
			}
			if(minMemberY < minY) {
				minY = minMemberY;
			}
		}
		return maxY - minY;
	}
	,get_length: function() {
		return this.group.length;
	}
	,get_maxSize: function() {
		return this.group.maxSize;
	}
	,set_maxSize: function(Size) {
		return this.group.set_maxSize(Size);
	}
	,get_members: function() {
		return this.group.members;
	}
	,xTransform: function(Sprite,X) {
		var _g = Sprite;
		_g.set_x(_g.x + X);
	}
	,yTransform: function(Sprite,Y) {
		var _g = Sprite;
		_g.set_y(_g.y + Y);
	}
	,angleTransform: function(Sprite,Angle) {
		var _g = Sprite;
		_g.set_angle(_g.angle + Angle);
	}
	,alphaTransform: function(Sprite,Alpha) {
		if(Sprite.alpha != 0 || Alpha == 0) {
			var _g = Sprite;
			_g.set_alpha(_g.alpha * Alpha);
		} else {
			Sprite.set_alpha(1 / Alpha);
		}
	}
	,directAlphaTransform: function(Sprite,Alpha) {
		Sprite.set_alpha(Alpha);
	}
	,facingTransform: function(Sprite,Facing) {
		Sprite.set_facing(Facing);
	}
	,flipXTransform: function(Sprite,FlipX) {
		Sprite.set_flipX(FlipX);
	}
	,flipYTransform: function(Sprite,FlipY) {
		Sprite.set_flipY(FlipY);
	}
	,movesTransform: function(Sprite,Moves) {
		Sprite.set_moves(Moves);
	}
	,pixelPerfectTransform: function(Sprite,PixelPerfect) {
		Sprite.set_pixelPerfectRender(PixelPerfect);
	}
	,gColorTransform: function(Sprite,Color) {
		Sprite.set_color(Color);
	}
	,blendTransform: function(Sprite,Blend) {
		Sprite.set_blend(Blend);
	}
	,immovableTransform: function(Sprite,Immovable) {
		Sprite.set_immovable(Immovable);
	}
	,visibleTransform: function(Sprite,Visible) {
		Sprite.set_visible(Visible);
	}
	,activeTransform: function(Sprite,Active) {
		Sprite.set_active(Active);
	}
	,solidTransform: function(Sprite,Solid) {
		Sprite.set_solid(Solid);
	}
	,aliveTransform: function(Sprite,Alive) {
		Sprite.set_alive(Alive);
	}
	,existsTransform: function(Sprite,Exists) {
		Sprite.set_exists(Exists);
	}
	,cameraTransform: function(Sprite,Camera) {
		Sprite.set_camera(Camera);
	}
	,camerasTransform: function(Sprite,Cameras) {
		Sprite.set_cameras(Cameras);
	}
	,offsetTransform: function(Sprite,Offset) {
		var _this = Sprite.offset;
		_this.set_x(Offset.x);
		_this.set_y(Offset.y);
		if(Offset._weak) {
			Offset.put();
		}
	}
	,originTransform: function(Sprite,Origin) {
		var _this = Sprite.origin;
		_this.set_x(Origin.x);
		_this.set_y(Origin.y);
		if(Origin._weak) {
			Origin.put();
		}
	}
	,scaleTransform: function(Sprite,Scale) {
		var _this = Sprite.scale;
		_this.set_x(Scale.x);
		_this.set_y(Scale.y);
		if(Scale._weak) {
			Scale.put();
		}
	}
	,scrollFactorTransform: function(Sprite,ScrollFactor) {
		var _this = Sprite.scrollFactor;
		_this.set_x(ScrollFactor.x);
		_this.set_y(ScrollFactor.y);
		if(ScrollFactor._weak) {
			ScrollFactor.put();
		}
	}
	,clipRectTransform: function(Sprite,ClipRect) {
		if(ClipRect == null) {
			Sprite.set_clipRect(null);
		} else {
			var X = ClipRect.x - Sprite.x + this.x;
			var Y = ClipRect.y - Sprite.y + this.y;
			var Width = ClipRect.width;
			var Height = ClipRect.height;
			if(Height == null) {
				Height = 0;
			}
			if(Width == null) {
				Width = 0;
			}
			if(Y == null) {
				Y = 0;
			}
			if(X == null) {
				X = 0;
			}
			var _this = flixel_math_FlxRect._pool.get();
			var X1 = X;
			var Y1 = Y;
			var Width1 = Width;
			var Height1 = Height;
			if(Height1 == null) {
				Height1 = 0;
			}
			if(Width1 == null) {
				Width1 = 0;
			}
			if(Y1 == null) {
				Y1 = 0;
			}
			if(X1 == null) {
				X1 = 0;
			}
			_this.x = X1;
			_this.y = Y1;
			_this.width = Width1;
			_this.height = Height1;
			var rect = _this;
			rect._inPool = false;
			Sprite.set_clipRect(rect);
		}
	}
	,offsetCallback: function(Offset) {
		this.transformChildren_flixel_math_FlxPoint($bind(this,this.offsetTransform),Offset);
	}
	,originCallback: function(Origin) {
		this.transformChildren_flixel_math_FlxPoint($bind(this,this.originTransform),Origin);
	}
	,scaleCallback: function(Scale) {
		this.transformChildren_flixel_math_FlxPoint($bind(this,this.scaleTransform),Scale);
	}
	,scrollFactorCallback: function(ScrollFactor) {
		this.transformChildren_flixel_math_FlxPoint($bind(this,this.scrollFactorTransform),ScrollFactor);
	}
	,loadGraphicFromSprite: function(Sprite) {
		return this;
	}
	,loadGraphic: function(Graphic,Animated,Width,Height,Unique,Key) {
		if(Unique == null) {
			Unique = false;
		}
		if(Height == null) {
			Height = 0;
		}
		if(Width == null) {
			Width = 0;
		}
		if(Animated == null) {
			Animated = false;
		}
		return this;
	}
	,loadRotatedGraphic: function(Graphic,Rotations,Frame,AntiAliasing,AutoBuffer,Key) {
		if(AutoBuffer == null) {
			AutoBuffer = false;
		}
		if(AntiAliasing == null) {
			AntiAliasing = false;
		}
		if(Frame == null) {
			Frame = -1;
		}
		if(Rotations == null) {
			Rotations = 16;
		}
		return this;
	}
	,makeGraphic: function(Width,Height,Color,Unique,Key) {
		if(Unique == null) {
			Unique = false;
		}
		if(Color == null) {
			Color = -1;
		}
		return this;
	}
	,set_pixels: function(Value) {
		return Value;
	}
	,set_frame: function(Value) {
		return Value;
	}
	,get_pixels: function() {
		return null;
	}
	,calcFrame: function(RunOnCpp) {
		if(RunOnCpp == null) {
			RunOnCpp = false;
		}
	}
	,resetHelpers: function() {
	}
	,stamp: function(Brush,X,Y) {
		if(Y == null) {
			Y = 0;
		}
		if(X == null) {
			X = 0;
		}
	}
	,set_frames: function(Frames) {
		return Frames;
	}
	,updateColorTransform: function() {
	}
	,__class__: flixel_group_FlxTypedSpriteGroup
	,__properties__: $extend(flixel_FlxSprite.prototype.__properties__,{set_maxSize:"set_maxSize",get_maxSize:"get_maxSize",get_length:"get_length",get_members:"get_members"})
});
var Alphabet = function(x,y,text,bold,typed,shouldMove) {
	if(shouldMove == null) {
		shouldMove = false;
	}
	if(typed == null) {
		typed = false;
	}
	if(bold == null) {
		bold = false;
	}
	if(text == null) {
		text = "";
	}
	this.personTalking = "gf";
	this.pastY = 0;
	this.pastX = 0;
	this.isBold = false;
	this.splitWords = [];
	this.listOAlphabets = new haxe_ds_List();
	this.lastWasSpace = false;
	this.xPosResetted = false;
	this.yMulti = 1;
	this.widthOfWords = flixel_FlxG.width;
	this._curText = "";
	this._finalText = "";
	this.text = "";
	this.isMenuItem = false;
	this.targetY = 0;
	this.paused = false;
	this.delay = 0.05;
	this.pastX = x;
	this.pastY = y;
	flixel_group_FlxTypedSpriteGroup.call(this,x,y);
	this._finalText = text;
	this.text = text;
	this.isBold = bold;
	if(text != "") {
		if(typed) {
			this.startTypedText();
		} else {
			this.addText();
		}
	}
};
$hxClasses["Alphabet"] = Alphabet;
Alphabet.__name__ = "Alphabet";
Alphabet.__super__ = flixel_group_FlxTypedSpriteGroup;
Alphabet.prototype = $extend(flixel_group_FlxTypedSpriteGroup.prototype,{
	delay: null
	,paused: null
	,targetY: null
	,isMenuItem: null
	,text: null
	,_finalText: null
	,_curText: null
	,widthOfWords: null
	,yMulti: null
	,lastSprite: null
	,xPosResetted: null
	,lastWasSpace: null
	,listOAlphabets: null
	,splitWords: null
	,isBold: null
	,pastX: null
	,pastY: null
	,reType: function(text) {
		var _g_head = this.listOAlphabets.h;
		while(_g_head != null) {
			var val = _g_head.item;
			_g_head = _g_head.next;
			var i = val;
			this.remove(i);
		}
		this._finalText = text;
		this.text = text;
		this.lastSprite = null;
		this.updateHitbox();
		this.listOAlphabets.clear();
		this.set_x(this.pastX);
		this.set_y(this.pastY);
		this.addText();
	}
	,addText: function() {
		this.doSplitWords();
		var xPos = 0;
		var _g = 0;
		var _g1 = this.splitWords;
		while(_g < _g1.length) {
			var character = _g1[_g];
			++_g;
			if(character == " " || character == "-") {
				this.lastWasSpace = true;
			}
			if(AlphaCharacter.alphabet.indexOf(character.toLowerCase()) != -1) {
				if(this.lastSprite != null) {
					xPos = this.lastSprite.x + this.lastSprite.get_width();
				}
				if(this.lastWasSpace) {
					xPos += 40;
					this.lastWasSpace = false;
				}
				var letter = new AlphaCharacter(xPos,0);
				this.listOAlphabets.add(letter);
				if(this.isBold) {
					letter.createBold(character);
				} else {
					letter.createLetter(character);
				}
				this.add(letter);
				this.lastSprite = letter;
			}
		}
	}
	,doSplitWords: function() {
		this.splitWords = this._finalText.split("");
	}
	,personTalking: null
	,startTypedText: function() {
		var _gthis = this;
		this._finalText = this.text;
		this.doSplitWords();
		var loopNum = 0;
		var xPos = 0;
		var curRow = 0;
		new flixel_util_FlxTimer().start(0.05,function(tmr) {
			if(_gthis._finalText.charCodeAt(loopNum) == 10) {
				_gthis.yMulti += 1;
				_gthis.xPosResetted = true;
				xPos = 0;
				curRow += 1;
			}
			if(_gthis.splitWords[loopNum] == " ") {
				_gthis.lastWasSpace = true;
			}
			var isNumber = AlphaCharacter.numbers.indexOf(_gthis.splitWords[loopNum]) != -1;
			var isSymbol = AlphaCharacter.symbols.indexOf(_gthis.splitWords[loopNum]) != -1;
			if(AlphaCharacter.alphabet.indexOf(_gthis.splitWords[loopNum].toLowerCase()) != -1 || isNumber || isSymbol) {
				if(_gthis.lastSprite != null && !_gthis.xPosResetted) {
					_gthis.lastSprite.updateHitbox();
					xPos += _gthis.lastSprite.get_width() + 3;
				} else {
					_gthis.xPosResetted = false;
				}
				if(_gthis.lastWasSpace) {
					xPos += 20;
					_gthis.lastWasSpace = false;
				}
				var letter = new AlphaCharacter(xPos,55 * _gthis.yMulti);
				_gthis.listOAlphabets.add(letter);
				letter.row = curRow;
				if(_gthis.isBold) {
					letter.createBold(_gthis.splitWords[loopNum]);
				} else {
					if(isNumber) {
						letter.createNumber(_gthis.splitWords[loopNum]);
					} else if(isSymbol) {
						letter.createSymbol(_gthis.splitWords[loopNum]);
					} else {
						letter.createLetter(_gthis.splitWords[loopNum]);
					}
					var _g = letter;
					_g.set_x(_g.x + 90);
				}
				var Chance = 40;
				if(Chance == null) {
					Chance = 50;
				}
				if(flixel_FlxG.random.float(0,100) < Chance) {
					var daSound = "GF_";
					flixel_FlxG.sound.play(Paths.sound(daSound + flixel_FlxG.random.int(1,4),null));
				}
				_gthis.add(letter);
				_gthis.lastSprite = letter;
			}
			loopNum += 1;
			tmr.time = flixel_FlxG.random.float(0.04,0.09);
		},this.splitWords.length);
	}
	,update: function(elapsed) {
		if(this.isMenuItem) {
			var scaledY = flixel_math_FlxMath.remapToRange(this.targetY,0,1,0,1.3);
			var a = this.y;
			this.set_y(a + 0.30 * (scaledY * 120 + flixel_FlxG.height * 0.48 - a));
			var a = this.x;
			this.set_x(a + 0.30 * (this.targetY * 20 + 90 - a));
		}
		flixel_group_FlxTypedSpriteGroup.prototype.update.call(this,elapsed);
	}
	,__class__: Alphabet
});
var AlphaCharacter = function(x,y) {
	this.row = 0;
	flixel_FlxSprite.call(this,x,y);
	var library = null;
	var usecahce = flixel_FlxG.save.data.cacheImages;
	usecahce = false;
	var tex = flixel_graphics_frames_FlxAtlasFrames.fromSparrow(Paths.getPath("images/" + "alphabet" + ".png","IMAGE",library),Paths.getPath("images/" + "alphabet" + ".xml","TEXT",library));
	this.set_frames(tex);
	if(flixel_FlxG.save.data.antialiasing) {
		this.set_antialiasing(true);
	}
};
$hxClasses["AlphaCharacter"] = AlphaCharacter;
AlphaCharacter.__name__ = "AlphaCharacter";
AlphaCharacter.__super__ = flixel_FlxSprite;
AlphaCharacter.prototype = $extend(flixel_FlxSprite.prototype,{
	row: null
	,createBold: function(letter) {
		this.animation.addByPrefix(letter,letter.toUpperCase() + " bold",24);
		this.animation.play(letter);
		this.updateHitbox();
	}
	,createLetter: function(letter) {
		var letterCase = "lowercase";
		if(letter.toLowerCase() != letter) {
			letterCase = "capital";
		}
		this.animation.addByPrefix(letter,letter + " " + letterCase,24);
		this.animation.play(letter);
		this.updateHitbox();
		this.set_y(110 - this.get_height());
		var _g = this;
		_g.set_y(_g.y + this.row * 60);
	}
	,createNumber: function(letter) {
		this.animation.addByPrefix(letter,letter,24);
		this.animation.play(letter);
		this.updateHitbox();
	}
	,createSymbol: function(letter) {
		switch(letter) {
		case " ":
			this.animation.addByPrefix(letter,"space",24);
			this.animation.play(letter);
			break;
		case "!":
			this.animation.addByPrefix(letter,"exclamation point",24);
			this.animation.play(letter);
			break;
		case "\"":
			this.animation.addByPrefix(letter,"\"",24);
			this.animation.play(letter);
			var _g = this;
			_g.set_y(_g.y);
			break;
		case "#":
			this.animation.addByPrefix(letter,"#",24);
			this.animation.play(letter);
			break;
		case "$":
			this.animation.addByPrefix(letter,"$",24);
			this.animation.play(letter);
			break;
		case "%":
			this.animation.addByPrefix(letter,"%",24);
			this.animation.play(letter);
			break;
		case "&":
			this.animation.addByPrefix(letter,"&",24);
			this.animation.play(letter);
			break;
		case "'":
			this.animation.addByPrefix(letter,"apostraphie",24);
			this.animation.play(letter);
			var _g = this;
			_g.set_y(_g.y);
			break;
		case "(":
			this.animation.addByPrefix(letter,"(",24);
			this.animation.play(letter);
			break;
		case ")":
			this.animation.addByPrefix(letter,")",24);
			this.animation.play(letter);
			break;
		case "+":
			this.animation.addByPrefix(letter,"+",24);
			this.animation.play(letter);
			break;
		case "-":
			this.animation.addByPrefix(letter,"-",24);
			this.animation.play(letter);
			break;
		case ".":
			this.animation.addByPrefix(letter,"period",24);
			this.animation.play(letter);
			var _g = this;
			_g.set_y(_g.y + 50);
			break;
		case "?":
			this.animation.addByPrefix(letter,"question mark",24);
			this.animation.play(letter);
			break;
		case "@":
			this.animation.addByPrefix(letter,"@",24);
			this.animation.play(letter);
			break;
		case "^":
			this.animation.addByPrefix(letter,"^",24);
			this.animation.play(letter);
			var _g = this;
			_g.set_y(_g.y);
			break;
		case "_":
			this.animation.addByPrefix(letter,"_",24);
			this.animation.play(letter);
			var _g = this;
			_g.set_y(_g.y + 50);
			break;
		}
		this.updateHitbox();
	}
	,__class__: AlphaCharacter
});
var lime_app_IModule = function() { };
$hxClasses["lime.app.IModule"] = lime_app_IModule;
lime_app_IModule.__name__ = "lime.app.IModule";
lime_app_IModule.__isInterface__ = true;
lime_app_IModule.prototype = {
	__registerLimeModule: null
	,__unregisterLimeModule: null
	,__class__: lime_app_IModule
};
var lime_app_Module = function() {
	this.onExit = new lime_app__$Event_$Int_$Void();
};
$hxClasses["lime.app.Module"] = lime_app_Module;
lime_app_Module.__name__ = "lime.app.Module";
lime_app_Module.__interfaces__ = [lime_app_IModule];
lime_app_Module.prototype = {
	onExit: null
	,__registerLimeModule: function(application) {
	}
	,__unregisterLimeModule: function(application) {
	}
	,__class__: lime_app_Module
};
var lime__$internal_backend_html5_HTML5Application = function(parent) {
	this.gameDeviceCache = new haxe_ds_IntMap();
	this.parent = parent;
	this.currentUpdate = 0;
	this.lastUpdate = 0;
	this.nextUpdate = 0;
	this.framePeriod = -1;
	lime_media_AudioManager.init();
	this.accelerometer = lime_system_Sensor.registerSensor(lime_system_SensorType.ACCELEROMETER,0);
};
$hxClasses["lime._internal.backend.html5.HTML5Application"] = lime__$internal_backend_html5_HTML5Application;
lime__$internal_backend_html5_HTML5Application.__name__ = "lime._internal.backend.html5.HTML5Application";
lime__$internal_backend_html5_HTML5Application.prototype = {
	accelerometer: null
	,currentUpdate: null
	,deltaTime: null
	,framePeriod: null
	,gameDeviceCache: null
	,hidden: null
	,lastUpdate: null
	,nextUpdate: null
	,parent: null
	,convertKeyCode: function(keyCode) {
		if(keyCode >= 65 && keyCode <= 90) {
			return keyCode + 32;
		}
		switch(keyCode) {
		case 12:
			return 1073741980;
		case 16:
			return 1073742049;
		case 17:
			return 1073742048;
		case 18:
			return 1073742050;
		case 19:
			return 1073741896;
		case 20:
			return 1073741881;
		case 33:
			return 1073741899;
		case 34:
			return 1073741902;
		case 35:
			return 1073741901;
		case 36:
			return 1073741898;
		case 37:
			return 1073741904;
		case 38:
			return 1073741906;
		case 39:
			return 1073741903;
		case 40:
			return 1073741905;
		case 41:
			return 1073741943;
		case 43:
			return 1073741940;
		case 44:
			return 1073741894;
		case 45:
			return 1073741897;
		case 46:
			return 127;
		case 91:
			return 1073742051;
		case 92:
			return 1073742055;
		case 93:
			return 1073742055;
		case 95:
			return 1073742106;
		case 96:
			return 1073741922;
		case 97:
			return 1073741913;
		case 98:
			return 1073741914;
		case 99:
			return 1073741915;
		case 100:
			return 1073741916;
		case 101:
			return 1073741917;
		case 102:
			return 1073741918;
		case 103:
			return 1073741919;
		case 104:
			return 1073741920;
		case 105:
			return 1073741921;
		case 106:
			return 1073741909;
		case 107:
			return 1073741911;
		case 108:
			return 1073741923;
		case 109:
			return 1073741910;
		case 110:
			return 1073741923;
		case 111:
			return 1073741908;
		case 112:
			return 1073741882;
		case 113:
			return 1073741883;
		case 114:
			return 1073741884;
		case 115:
			return 1073741885;
		case 116:
			return 1073741886;
		case 117:
			return 1073741887;
		case 118:
			return 1073741888;
		case 119:
			return 1073741889;
		case 120:
			return 1073741890;
		case 121:
			return 1073741891;
		case 122:
			return 1073741892;
		case 123:
			return 1073741893;
		case 124:
			return 1073741928;
		case 125:
			return 1073741929;
		case 126:
			return 1073741930;
		case 127:
			return 1073741931;
		case 128:
			return 1073741932;
		case 129:
			return 1073741933;
		case 130:
			return 1073741934;
		case 131:
			return 1073741935;
		case 132:
			return 1073741936;
		case 133:
			return 1073741937;
		case 134:
			return 1073741938;
		case 135:
			return 1073741939;
		case 144:
			return 1073741907;
		case 145:
			return 1073741895;
		case 160:
			return 94;
		case 161:
			return 33;
		case 163:
			return 35;
		case 164:
			return 36;
		case 166:
			return 1073742094;
		case 167:
			return 1073742095;
		case 168:
			return 1073742097;
		case 169:
			return 41;
		case 170:
			return 42;
		case 171:
			return 96;
		case 172:
			return 1073741898;
		case 173:
			return 45;
		case 174:
			return 1073741953;
		case 175:
			return 1073741952;
		case 176:
			return 1073742082;
		case 177:
			return 1073742083;
		case 178:
			return 1073742084;
		case 179:
			return 1073742085;
		case 180:
			return 1073742089;
		case 181:
			return 1073742086;
		case 182:
			return 1073741953;
		case 183:
			return 1073741952;
		case 186:
			return 59;
		case 187:
			return 61;
		case 188:
			return 44;
		case 189:
			return 45;
		case 190:
			return 46;
		case 191:
			return 47;
		case 192:
			return 96;
		case 193:
			return 63;
		case 194:
			return 1073741923;
		case 219:
			return 91;
		case 220:
			return 92;
		case 221:
			return 93;
		case 222:
			return 39;
		case 223:
			return 96;
		case 224:
			return 1073742051;
		case 226:
			return 92;
		}
		return keyCode;
	}
	,exec: function() {
		window.addEventListener("keydown",$bind(this,this.handleKeyEvent),false);
		window.addEventListener("keyup",$bind(this,this.handleKeyEvent),false);
		window.addEventListener("focus",$bind(this,this.handleWindowEvent),false);
		window.addEventListener("blur",$bind(this,this.handleWindowEvent),false);
		window.addEventListener("resize",$bind(this,this.handleWindowEvent),false);
		window.addEventListener("beforeunload",$bind(this,this.handleWindowEvent),false);
		window.addEventListener("devicemotion",$bind(this,this.handleSensorEvent),false);
		
			if (!CanvasRenderingContext2D.prototype.isPointInStroke) {
				CanvasRenderingContext2D.prototype.isPointInStroke = function (path, x, y) {
					return false;
				};
			}
			if (!CanvasRenderingContext2D.prototype.isPointInPath) {
				CanvasRenderingContext2D.prototype.isPointInPath = function (path, x, y) {
					return false;
				};
			}

			if ('performance' in window == false) {
				window.performance = {};
			}

			if ('now' in window.performance == false) {
				var offset = Date.now();
				if (performance.timing && performance.timing.navigationStart) {
					offset = performance.timing.navigationStart
				}
				window.performance.now = function now() {
					return Date.now() - offset;
				}
			}

			var lastTime = 0;
			var vendors = ['ms', 'moz', 'webkit', 'o'];
			for (var x = 0; x < vendors.length && !window.requestAnimationFrame; ++x) {
				window.requestAnimationFrame = window[vendors[x]+'RequestAnimationFrame'];
				window.cancelAnimationFrame = window[vendors[x]+'CancelAnimationFrame'] || window[vendors[x]+'CancelRequestAnimationFrame'];
			}

			if (!window.requestAnimationFrame)
				window.requestAnimationFrame = function(callback, element) {
					var currTime = new Date().getTime();
					var timeToCall = Math.max(0, 16 - (currTime - lastTime));
					var id = window.setTimeout(function() { callback(currTime + timeToCall); },
					  timeToCall);
					lastTime = currTime + timeToCall;
					return id;
				};

			if (!window.cancelAnimationFrame)
				window.cancelAnimationFrame = function(id) {
					clearTimeout(id);
				};

			window.requestAnimFrame = window.requestAnimationFrame;
		;
		this.lastUpdate = new Date().getTime();
		this.handleApplicationEvent();
		return 0;
	}
	,exit: function() {
	}
	,handleApplicationEvent: function(__) {
		var _g = 0;
		var _g1 = this.parent.__windows;
		while(_g < _g1.length) {
			var $window = _g1[_g];
			++_g;
			$window.__backend.updateSize();
		}
		this.updateGameDevices();
		this.currentUpdate = new Date().getTime();
		if(this.currentUpdate >= this.nextUpdate) {
			this.deltaTime = this.currentUpdate - this.lastUpdate;
			var _g = 0;
			var _g1 = this.parent.__windows;
			while(_g < _g1.length) {
				var $window = _g1[_g];
				++_g;
				this.parent.onUpdate.dispatch(this.deltaTime | 0);
				if($window.context != null) {
					$window.onRender.dispatch($window.context);
				}
			}
			if(this.framePeriod < 0) {
				this.nextUpdate = this.currentUpdate;
			} else {
				this.nextUpdate = this.currentUpdate - this.currentUpdate % this.framePeriod + this.framePeriod;
			}
			this.lastUpdate = this.currentUpdate;
		}
		window.requestAnimationFrame($bind(this,this.handleApplicationEvent));
	}
	,handleKeyEvent: function(event) {
		if(this.parent.__window != null) {
			var keyCode = this.convertKeyCode(event.keyCode != null ? event.keyCode : event.which);
			var modifier = (event.shiftKey ? 3 : 0) | (event.ctrlKey ? 192 : 0) | (event.altKey ? 768 : 0) | (event.metaKey ? 3072 : 0);
			if(event.type == "keydown") {
				this.parent.__window.onKeyDown.dispatch(keyCode,modifier);
				if(this.parent.__window.onKeyDown.canceled && event.cancelable) {
					event.preventDefault();
				}
			} else {
				this.parent.__window.onKeyUp.dispatch(keyCode,modifier);
				if(this.parent.__window.onKeyUp.canceled && event.cancelable) {
					event.preventDefault();
				}
			}
		}
	}
	,handleSensorEvent: function(event) {
		this.accelerometer.onUpdate.dispatch(event.accelerationIncludingGravity.x,event.accelerationIncludingGravity.y,event.accelerationIncludingGravity.z);
	}
	,handleWindowEvent: function(event) {
		if(this.parent.__window != null) {
			switch(event.type) {
			case "beforeunload":
				break;
			case "blur":
				if(!this.hidden) {
					this.parent.__window.onFocusOut.dispatch();
					this.parent.__window.onDeactivate.dispatch();
					this.hidden = true;
				}
				break;
			case "focus":
				if(this.hidden) {
					this.parent.__window.onFocusIn.dispatch();
					this.parent.__window.onActivate.dispatch();
					this.hidden = false;
				}
				break;
			case "resize":
				this.parent.__window.__backend.handleResizeEvent(event);
				break;
			case "visibilitychange":
				if(window.document.hidden) {
					if(!this.hidden) {
						this.parent.__window.onFocusOut.dispatch();
						this.parent.__window.onDeactivate.dispatch();
						this.hidden = true;
					}
				} else if(this.hidden) {
					this.parent.__window.onFocusIn.dispatch();
					this.parent.__window.onActivate.dispatch();
					this.hidden = false;
				}
				break;
			}
		}
	}
	,updateGameDevices: function() {
		var devices = lime_ui_Joystick.__getDeviceData();
		if(devices == null) {
			return;
		}
		var id;
		var gamepad;
		var joystick;
		var data;
		var cache;
		var _g = 0;
		var _g1 = devices.length;
		while(_g < _g1) {
			var i = _g++;
			id = i;
			data = devices[id];
			if(data == null) {
				continue;
			}
			if(!this.gameDeviceCache.h.hasOwnProperty(id)) {
				cache = new lime__$internal_backend_html5_GameDeviceData();
				cache.id = id;
				cache.connected = data.connected;
				var _g2 = 0;
				var _g3 = data.buttons.length;
				while(_g2 < _g3) {
					var i1 = _g2++;
					cache.buttons.push(data.buttons[i1].value);
				}
				var _g4 = 0;
				var _g5 = data.axes.length;
				while(_g4 < _g5) {
					var i2 = _g4++;
					cache.axes.push(data.axes[i2]);
				}
				if(data.mapping == "standard") {
					cache.isGamepad = true;
				}
				this.gameDeviceCache.h[id] = cache;
				if(data.connected) {
					lime_ui_Joystick.__connect(id);
					if(cache.isGamepad) {
						lime_ui_Gamepad.__connect(id);
					}
				}
			}
			cache = this.gameDeviceCache.h[id];
			joystick = lime_ui_Joystick.devices.h[id];
			gamepad = lime_ui_Gamepad.devices.h[id];
			if(data.connected) {
				var button;
				var value;
				var _g6 = 0;
				var _g7 = data.buttons.length;
				while(_g6 < _g7) {
					var i3 = _g6++;
					value = data.buttons[i3].value;
					if(value != cache.buttons[i3]) {
						if(i3 == 6) {
							joystick.onAxisMove.dispatch(data.axes.length,value);
							if(gamepad != null) {
								gamepad.onAxisMove.dispatch(4,value);
							}
						} else if(i3 == 7) {
							joystick.onAxisMove.dispatch(data.axes.length + 1,value);
							if(gamepad != null) {
								gamepad.onAxisMove.dispatch(5,value);
							}
						} else {
							if(value > 0) {
								joystick.onButtonDown.dispatch(i3);
							} else {
								joystick.onButtonUp.dispatch(i3);
							}
							if(gamepad != null) {
								switch(i3) {
								case 0:
									button = 0;
									break;
								case 1:
									button = 1;
									break;
								case 2:
									button = 2;
									break;
								case 3:
									button = 3;
									break;
								case 4:
									button = 9;
									break;
								case 5:
									button = 10;
									break;
								case 8:
									button = 4;
									break;
								case 9:
									button = 6;
									break;
								case 10:
									button = 7;
									break;
								case 11:
									button = 8;
									break;
								case 12:
									button = 11;
									break;
								case 13:
									button = 12;
									break;
								case 14:
									button = 13;
									break;
								case 15:
									button = 14;
									break;
								case 16:
									button = 5;
									break;
								default:
									continue;
								}
								if(value > 0) {
									gamepad.onButtonDown.dispatch(button);
								} else {
									gamepad.onButtonUp.dispatch(button);
								}
							}
						}
						cache.buttons[i3] = value;
					}
				}
				var _g8 = 0;
				var _g9 = data.axes.length;
				while(_g8 < _g9) {
					var i4 = _g8++;
					if(data.axes[i4] != cache.axes[i4]) {
						joystick.onAxisMove.dispatch(i4,data.axes[i4]);
						if(gamepad != null) {
							gamepad.onAxisMove.dispatch(i4,data.axes[i4]);
						}
						cache.axes[i4] = data.axes[i4];
					}
				}
			} else if(cache.connected) {
				cache.connected = false;
				lime_ui_Joystick.__disconnect(id);
				lime_ui_Gamepad.__disconnect(id);
			}
		}
	}
	,__class__: lime__$internal_backend_html5_HTML5Application
};
var lime_app_Application = function() {
	this.onCreateWindow = new lime_app__$Event_$lime_$ui_$Window_$Void();
	this.onUpdate = new lime_app__$Event_$Int_$Void();
	lime_app_Module.call(this);
	if(lime_app_Application.current == null) {
		lime_app_Application.current = this;
	}
	this.meta = new haxe_ds_StringMap();
	this.modules = [];
	this.__windowByID = new haxe_ds_IntMap();
	this.__windows = [];
	this.__backend = new lime__$internal_backend_html5_HTML5Application(this);
	this.__registerLimeModule(this);
	this.__preloader = new lime_utils_Preloader();
	this.__preloader.onProgress.add($bind(this,this.onPreloadProgress));
	this.__preloader.onComplete.add($bind(this,this.onPreloadComplete));
};
$hxClasses["lime.app.Application"] = lime_app_Application;
lime_app_Application.__name__ = "lime.app.Application";
lime_app_Application.current = null;
lime_app_Application.__super__ = lime_app_Module;
lime_app_Application.prototype = $extend(lime_app_Module.prototype,{
	meta: null
	,modules: null
	,onUpdate: null
	,onCreateWindow: null
	,preloader: null
	,window: null
	,windows: null
	,__backend: null
	,__preloader: null
	,__window: null
	,__windowByID: null
	,__windows: null
	,addModule: function(module) {
		module.__registerLimeModule(this);
		this.modules.push(module);
	}
	,createWindow: function(attributes) {
		var $window = this.__createWindow(attributes);
		this.__addWindow($window);
		return $window;
	}
	,exec: function() {
		lime_app_Application.current = this;
		return this.__backend.exec();
	}
	,onGamepadAxisMove: function(gamepad,axis,value) {
	}
	,onGamepadButtonDown: function(gamepad,button) {
	}
	,onGamepadButtonUp: function(gamepad,button) {
	}
	,onGamepadConnect: function(gamepad) {
	}
	,onGamepadDisconnect: function(gamepad) {
	}
	,onJoystickAxisMove: function(joystick,axis,value) {
	}
	,onJoystickButtonDown: function(joystick,button) {
	}
	,onJoystickButtonUp: function(joystick,button) {
	}
	,onJoystickConnect: function(joystick) {
	}
	,onJoystickDisconnect: function(joystick) {
	}
	,onJoystickHatMove: function(joystick,hat,position) {
	}
	,onJoystickTrackballMove: function(joystick,trackball,x,y) {
	}
	,onKeyDown: function(keyCode,modifier) {
	}
	,onKeyUp: function(keyCode,modifier) {
	}
	,onModuleExit: function(code) {
	}
	,onMouseDown: function(x,y,button) {
	}
	,onMouseMove: function(x,y) {
	}
	,onMouseMoveRelative: function(x,y) {
	}
	,onMouseUp: function(x,y,button) {
	}
	,onMouseWheel: function(deltaX,deltaY,deltaMode) {
	}
	,onPreloadComplete: function() {
	}
	,onPreloadProgress: function(loaded,total) {
	}
	,onRenderContextLost: function() {
	}
	,onRenderContextRestored: function(context) {
	}
	,onTextEdit: function(text,start,length) {
	}
	,onTextInput: function(text) {
	}
	,onTouchCancel: function(touch) {
	}
	,onTouchEnd: function(touch) {
	}
	,onTouchMove: function(touch) {
	}
	,onTouchStart: function(touch) {
	}
	,onWindowActivate: function() {
	}
	,onWindowClose: function() {
	}
	,onWindowCreate: function() {
	}
	,onWindowDeactivate: function() {
	}
	,onWindowDropFile: function(file) {
	}
	,onWindowEnter: function() {
	}
	,onWindowExpose: function() {
	}
	,onWindowFocusIn: function() {
	}
	,onWindowFocusOut: function() {
	}
	,onWindowFullscreen: function() {
	}
	,onWindowLeave: function() {
	}
	,onWindowMove: function(x,y) {
	}
	,onWindowMinimize: function() {
	}
	,onWindowResize: function(width,height) {
	}
	,onWindowRestore: function() {
	}
	,removeModule: function(module) {
		if(module != null) {
			module.__unregisterLimeModule(this);
			HxOverrides.remove(this.modules,module);
		}
	}
	,render: function(context) {
	}
	,update: function(deltaTime) {
	}
	,__addWindow: function($window) {
		if($window != null) {
			this.__windows.push($window);
			this.__windowByID.h[$window.id] = $window;
			var _g = $bind(this,this.__onWindowClose);
			var window1 = $window;
			var tmp = function() {
				_g(window1);
			};
			$window.onClose.add(tmp,false,-10000);
			if(this.__window == null) {
				this.__window = $window;
				$window.onActivate.add($bind(this,this.onWindowActivate));
				$window.onRenderContextLost.add($bind(this,this.onRenderContextLost));
				$window.onRenderContextRestored.add($bind(this,this.onRenderContextRestored));
				$window.onDeactivate.add($bind(this,this.onWindowDeactivate));
				$window.onDropFile.add($bind(this,this.onWindowDropFile));
				$window.onEnter.add($bind(this,this.onWindowEnter));
				$window.onExpose.add($bind(this,this.onWindowExpose));
				$window.onFocusIn.add($bind(this,this.onWindowFocusIn));
				$window.onFocusOut.add($bind(this,this.onWindowFocusOut));
				$window.onFullscreen.add($bind(this,this.onWindowFullscreen));
				$window.onKeyDown.add($bind(this,this.onKeyDown));
				$window.onKeyUp.add($bind(this,this.onKeyUp));
				$window.onLeave.add($bind(this,this.onWindowLeave));
				$window.onMinimize.add($bind(this,this.onWindowMinimize));
				$window.onMouseDown.add($bind(this,this.onMouseDown));
				$window.onMouseMove.add($bind(this,this.onMouseMove));
				$window.onMouseMoveRelative.add($bind(this,this.onMouseMoveRelative));
				$window.onMouseUp.add($bind(this,this.onMouseUp));
				$window.onMouseWheel.add($bind(this,this.onMouseWheel));
				$window.onMove.add($bind(this,this.onWindowMove));
				$window.onRender.add($bind(this,this.render));
				$window.onResize.add($bind(this,this.onWindowResize));
				$window.onRestore.add($bind(this,this.onWindowRestore));
				$window.onTextEdit.add($bind(this,this.onTextEdit));
				$window.onTextInput.add($bind(this,this.onTextInput));
				this.onWindowCreate();
			}
			this.onCreateWindow.dispatch($window);
		}
	}
	,__createWindow: function(attributes) {
		var $window = new lime_ui_Window(this,attributes);
		if($window.id == -1) {
			return null;
		}
		return $window;
	}
	,__registerLimeModule: function(application) {
		application.onUpdate.add($bind(this,this.update));
		application.onExit.add($bind(this,this.onModuleExit),false,0);
		application.onExit.add($bind(this,this.__onModuleExit),false,0);
		var gamepad = lime_ui_Gamepad.devices.iterator();
		while(gamepad.hasNext()) {
			var gamepad1 = gamepad.next();
			this.__onGamepadConnect(gamepad1);
		}
		lime_ui_Gamepad.onConnect.add($bind(this,this.__onGamepadConnect));
		var joystick = lime_ui_Joystick.devices.iterator();
		while(joystick.hasNext()) {
			var joystick1 = joystick.next();
			this.__onJoystickConnect(joystick1);
		}
		lime_ui_Joystick.onConnect.add($bind(this,this.__onJoystickConnect));
		lime_ui_Touch.onCancel.add($bind(this,this.onTouchCancel));
		lime_ui_Touch.onStart.add($bind(this,this.onTouchStart));
		lime_ui_Touch.onMove.add($bind(this,this.onTouchMove));
		lime_ui_Touch.onEnd.add($bind(this,this.onTouchEnd));
	}
	,__removeWindow: function($window) {
		if($window != null && this.__windowByID.h.hasOwnProperty($window.id)) {
			if(this.__window == $window) {
				this.__window = null;
			}
			HxOverrides.remove(this.__windows,$window);
			this.__windowByID.remove($window.id);
			$window.close();
			if(this.__windows.length == 0) {
				lime_system_System.exit(0);
			}
		}
	}
	,__onGamepadConnect: function(gamepad) {
		this.onGamepadConnect(gamepad);
		var _g = $bind(this,this.onGamepadAxisMove);
		var gamepad1 = gamepad;
		var tmp = function(axis,value) {
			_g(gamepad1,axis,value);
		};
		gamepad.onAxisMove.add(tmp);
		var _g1 = $bind(this,this.onGamepadButtonDown);
		var gamepad2 = gamepad;
		var tmp = function(button) {
			_g1(gamepad2,button);
		};
		gamepad.onButtonDown.add(tmp);
		var _g2 = $bind(this,this.onGamepadButtonUp);
		var gamepad3 = gamepad;
		var tmp = function(button) {
			_g2(gamepad3,button);
		};
		gamepad.onButtonUp.add(tmp);
		var _g3 = $bind(this,this.onGamepadDisconnect);
		var gamepad4 = gamepad;
		var tmp = function() {
			_g3(gamepad4);
		};
		gamepad.onDisconnect.add(tmp);
	}
	,__onJoystickConnect: function(joystick) {
		this.onJoystickConnect(joystick);
		var _g = $bind(this,this.onJoystickAxisMove);
		var joystick1 = joystick;
		var tmp = function(axis,value) {
			_g(joystick1,axis,value);
		};
		joystick.onAxisMove.add(tmp);
		var _g1 = $bind(this,this.onJoystickButtonDown);
		var joystick2 = joystick;
		var tmp = function(button) {
			_g1(joystick2,button);
		};
		joystick.onButtonDown.add(tmp);
		var _g2 = $bind(this,this.onJoystickButtonUp);
		var joystick3 = joystick;
		var tmp = function(button) {
			_g2(joystick3,button);
		};
		joystick.onButtonUp.add(tmp);
		var _g3 = $bind(this,this.onJoystickDisconnect);
		var joystick4 = joystick;
		var tmp = function() {
			_g3(joystick4);
		};
		joystick.onDisconnect.add(tmp);
		var _g4 = $bind(this,this.onJoystickHatMove);
		var joystick5 = joystick;
		var tmp = function(hat,position) {
			_g4(joystick5,hat,position);
		};
		joystick.onHatMove.add(tmp);
		var _g5 = $bind(this,this.onJoystickTrackballMove);
		var joystick6 = joystick;
		var tmp = function(trackball,x,y) {
			_g5(joystick6,trackball,x,y);
		};
		joystick.onTrackballMove.add(tmp);
	}
	,__onModuleExit: function(code) {
		this.__backend.exit();
	}
	,__onWindowClose: function($window) {
		if(this.__window == $window) {
			this.onWindowClose();
		}
		this.__removeWindow($window);
	}
	,__unregisterLimeModule: function(application) {
		application.onUpdate.remove($bind(this,this.update));
		application.onExit.remove($bind(this,this.__onModuleExit));
		application.onExit.remove($bind(this,this.onModuleExit));
		lime_ui_Gamepad.onConnect.remove($bind(this,this.__onGamepadConnect));
		lime_ui_Joystick.onConnect.remove($bind(this,this.__onJoystickConnect));
		lime_ui_Touch.onCancel.remove($bind(this,this.onTouchCancel));
		lime_ui_Touch.onStart.remove($bind(this,this.onTouchStart));
		lime_ui_Touch.onMove.remove($bind(this,this.onTouchMove));
		lime_ui_Touch.onEnd.remove($bind(this,this.onTouchEnd));
		this.onModuleExit(0);
	}
	,get_preloader: function() {
		return this.__preloader;
	}
	,get_window: function() {
		return this.__window;
	}
	,get_windows: function() {
		return this.__windows;
	}
	,__class__: lime_app_Application
	,__properties__: {get_windows:"get_windows",get_window:"get_window",get_preloader:"get_preloader"}
});
var ApplicationMain = function() { };
$hxClasses["ApplicationMain"] = ApplicationMain;
ApplicationMain.__name__ = "ApplicationMain";
ApplicationMain.main = function() {
	lime_system_System.__registerEntryPoint("Kade Engine",ApplicationMain.create);
};
ApplicationMain.create = function(config) {
	var app = new openfl_display_Application();
	ManifestResources.init(config);
	app.meta.h["build"] = "1";
	app.meta.h["company"] = "kadedev";
	app.meta.h["file"] = "Kade Engine";
	app.meta.h["name"] = "Friday Night Funkin': Vs Void Mod";
	app.meta.h["packageName"] = "com.kadedev.kadeengine";
	app.meta.h["version"] = "0.2.7.1";
	var attributes = { allowHighDPI : false, alwaysOnTop : false, borderless : false, element : null, frameRate : null, height : 720, hidden : false, maximized : false, minimized : false, parameters : { }, resizable : true, title : "Friday Night Funkin': Vs Void Mod", width : 1280, x : null, y : null};
	attributes.context = { antialiasing : 0, background : 0, colorDepth : 32, depth : true, hardware : true, stencil : true, type : null, vsync : false};
	if(app.__window == null) {
		if(config != null) {
			var _g = 0;
			var _g1 = Reflect.fields(config);
			while(_g < _g1.length) {
				var field = _g1[_g];
				++_g;
				if(Object.prototype.hasOwnProperty.call(attributes,field)) {
					attributes[field] = Reflect.field(config,field);
				} else if(Object.prototype.hasOwnProperty.call(attributes.context,field)) {
					attributes.context[field] = Reflect.field(config,field);
				}
			}
		}
	}
	app.createWindow(attributes);
	var preloader = new openfl_display_Preloader(new flixel_system_FlxPreloader());
	app.__preloader.onProgress.add(function(loaded,total) {
		preloader.update(loaded,total);
	});
	app.__preloader.onComplete.add(function() {
		preloader.start();
	});
	var stage = app.__window.stage;
	var tmp = function() {
		ApplicationMain.start(stage);
	};
	preloader.onComplete.add(tmp);
	var _g = 0;
	var _g1 = ManifestResources.preloadLibraries;
	while(_g < _g1.length) {
		var library = _g1[_g];
		++_g;
		app.__preloader.addLibrary(library);
	}
	var _g = 0;
	var _g1 = ManifestResources.preloadLibraryNames;
	while(_g < _g1.length) {
		var name = _g1[_g];
		++_g;
		app.__preloader.addLibraryName(name);
	}
	app.__preloader.load();
	var result = app.exec();
};
ApplicationMain.start = function(stage) {
	try {
		Main.main();
		stage.dispatchEvent(new openfl_events_Event("resize",false,false));
		if(stage.window.__fullscreen) {
			stage.dispatchEvent(new openfl_events_FullScreenEvent("fullScreen",false,false,true,true));
		}
	} catch( _g ) {
		haxe_NativeStackTrace.lastError = _g;
		var e = haxe_Exception.caught(_g).unwrap();
		stage.__handleError(e);
	}
};
var openfl_events_IEventDispatcher = function() { };
$hxClasses["openfl.events.IEventDispatcher"] = openfl_events_IEventDispatcher;
openfl_events_IEventDispatcher.__name__ = "openfl.events.IEventDispatcher";
openfl_events_IEventDispatcher.__isInterface__ = true;
openfl_events_IEventDispatcher.prototype = {
	addEventListener: null
	,dispatchEvent: null
	,hasEventListener: null
	,removeEventListener: null
	,willTrigger: null
	,__class__: openfl_events_IEventDispatcher
};
var openfl_events_EventDispatcher = function(target) {
	if(target != null) {
		this.__targetDispatcher = target;
	}
};
$hxClasses["openfl.events.EventDispatcher"] = openfl_events_EventDispatcher;
openfl_events_EventDispatcher.__name__ = "openfl.events.EventDispatcher";
openfl_events_EventDispatcher.__interfaces__ = [openfl_events_IEventDispatcher];
openfl_events_EventDispatcher.prototype = {
	__eventMap: null
	,__iterators: null
	,__targetDispatcher: null
	,addEventListener: function(type,listener,useCapture,priority,useWeakReference) {
		if(useWeakReference == null) {
			useWeakReference = false;
		}
		if(priority == null) {
			priority = 0;
		}
		if(useCapture == null) {
			useCapture = false;
		}
		if(listener == null) {
			return;
		}
		if(this.__eventMap == null) {
			this.__eventMap = new haxe_ds_StringMap();
			this.__iterators = new haxe_ds_StringMap();
		}
		if(!Object.prototype.hasOwnProperty.call(this.__eventMap.h,type)) {
			var list = [];
			list.push(new openfl_events__$EventDispatcher_Listener(listener,useCapture,priority));
			var iterator = new openfl_events__$EventDispatcher_DispatchIterator(list);
			this.__eventMap.h[type] = list;
			this.__iterators.h[type] = [iterator];
		} else {
			var list = this.__eventMap.h[type];
			var _g = 0;
			var _g1 = list.length;
			while(_g < _g1) {
				var i = _g++;
				if(list[i].match(listener,useCapture)) {
					return;
				}
			}
			var iterators = this.__iterators.h[type];
			var _g = 0;
			while(_g < iterators.length) {
				var iterator = iterators[_g];
				++_g;
				if(iterator.active) {
					iterator.copy();
				}
			}
			this.__addListenerByPriority(list,new openfl_events__$EventDispatcher_Listener(listener,useCapture,priority));
		}
	}
	,dispatchEvent: function(event) {
		if(this.__targetDispatcher != null) {
			event.target = this.__targetDispatcher;
		} else {
			event.target = this;
		}
		return this.__dispatchEvent(event);
	}
	,hasEventListener: function(type) {
		if(this.__eventMap == null) {
			return false;
		}
		return Object.prototype.hasOwnProperty.call(this.__eventMap.h,type);
	}
	,removeEventListener: function(type,listener,useCapture) {
		if(useCapture == null) {
			useCapture = false;
		}
		if(this.__eventMap == null || listener == null) {
			return;
		}
		var list = this.__eventMap.h[type];
		if(list == null) {
			return;
		}
		var iterators = this.__iterators.h[type];
		var _g = 0;
		var _g1 = list.length;
		while(_g < _g1) {
			var i = _g++;
			if(list[i].match(listener,useCapture)) {
				var _g2 = 0;
				while(_g2 < iterators.length) {
					var iterator = iterators[_g2];
					++_g2;
					iterator.remove(list[i],i);
				}
				list.splice(i,1);
				break;
			}
		}
		if(list.length == 0) {
			var _this = this.__eventMap;
			if(Object.prototype.hasOwnProperty.call(_this.h,type)) {
				delete(_this.h[type]);
			}
			var _this = this.__iterators;
			if(Object.prototype.hasOwnProperty.call(_this.h,type)) {
				delete(_this.h[type]);
			}
		}
		if(!haxe_ds_StringMap.valueIterator(this.__eventMap.h).hasNext()) {
			this.__eventMap = null;
			this.__iterators = null;
		}
	}
	,toString: function() {
		var c = js_Boot.getClass(this);
		var full = c.__name__;
		var short = full.split(".").pop();
		return "[object " + short + "]";
	}
	,willTrigger: function(type) {
		return this.hasEventListener(type);
	}
	,__dispatchEvent: function(event) {
		if(this.__eventMap == null || event == null) {
			return true;
		}
		var type = event.type;
		var list = this.__eventMap.h[type];
		if(list == null) {
			return true;
		}
		if(event.target == null) {
			if(this.__targetDispatcher != null) {
				event.target = this.__targetDispatcher;
			} else {
				event.target = this;
			}
		}
		event.currentTarget = this;
		var capture = event.eventPhase == 1;
		var iterators = this.__iterators.h[type];
		var iterator = iterators[0];
		if(iterator.active) {
			iterator = new openfl_events__$EventDispatcher_DispatchIterator(list);
			iterators.push(iterator);
		}
		iterator.start();
		var listener = iterator;
		while(listener.hasNext()) {
			var listener1 = listener.next();
			if(listener1 == null) {
				continue;
			}
			if(listener1.useCapture == capture) {
				listener1.callback(event);
				if(event.__isCanceledNow) {
					break;
				}
			}
		}
		iterator.stop();
		if(iterator != iterators[0]) {
			HxOverrides.remove(iterators,iterator);
		} else {
			iterator.reset(list);
		}
		return !event.isDefaultPrevented();
	}
	,__removeAllListeners: function() {
		this.__eventMap = null;
		this.__iterators = null;
	}
	,__addListenerByPriority: function(list,listener) {
		var numElements = list.length;
		var addAtPosition = numElements;
		var _g = 0;
		var _g1 = numElements;
		while(_g < _g1) {
			var i = _g++;
			if(list[i].priority < listener.priority) {
				addAtPosition = i;
				break;
			}
		}
		list.splice(addAtPosition,0,listener);
	}
	,__class__: openfl_events_EventDispatcher
};
var openfl_display_IBitmapDrawable = function() { };
$hxClasses["openfl.display.IBitmapDrawable"] = openfl_display_IBitmapDrawable;
openfl_display_IBitmapDrawable.__name__ = "openfl.display.IBitmapDrawable";
openfl_display_IBitmapDrawable.__isInterface__ = true;
openfl_display_IBitmapDrawable.prototype = {
	__blendMode: null
	,__drawableType: null
	,__isMask: null
	,__renderable: null
	,__renderTransform: null
	,__transform: null
	,__worldAlpha: null
	,__worldColorTransform: null
	,__worldTransform: null
	,__getBounds: null
	,__update: null
	,__updateTransforms: null
	,__mask: null
	,__scrollRect: null
	,__class__: openfl_display_IBitmapDrawable
};
var openfl_Vector = {};
openfl_Vector.__properties__ = {set_length:"set_length",get_length:"get_length",set_fixed:"set_fixed",get_fixed:"get_fixed"};
openfl_Vector.ofArray_Float = function(array) {
	var vector = openfl_Vector.toFloatVector(null);
	var _g = 0;
	var _g1 = array.length;
	while(_g < _g1) {
		var i = _g++;
		vector.set(i,array[i]);
	}
	return vector;
};
openfl_Vector.ofArray_Int = function(array) {
	var vector = openfl_Vector.toIntVector(null);
	var _g = 0;
	var _g1 = array.length;
	while(_g < _g1) {
		var i = _g++;
		vector.set(i,array[i]);
	}
	return vector;
};
openfl_Vector.concat = function(this1,vec) {
	return this1.concat(vec);
};
openfl_Vector.copy = function(this1) {
	return this1.copy();
};
openfl_Vector.filter = function(this1,callback) {
	return this1.filter(callback);
};
openfl_Vector.get = function(this1,index) {
	return this1.get(index);
};
openfl_Vector.indexOf = function(this1,searchElement,fromIndex) {
	if(fromIndex == null) {
		fromIndex = 0;
	}
	return this1.indexOf(searchElement,fromIndex);
};
openfl_Vector.insertAt = function(this1,index,element) {
	this1.insertAt(index,element);
};
openfl_Vector.iterator = function(this1) {
	return this1.iterator();
};
openfl_Vector.join = function(this1,sep) {
	if(sep == null) {
		sep = ",";
	}
	return this1.join(sep);
};
openfl_Vector.lastIndexOf = function(this1,searchElement,fromIndex) {
	return this1.lastIndexOf(searchElement,fromIndex);
};
openfl_Vector.pop = function(this1) {
	return this1.pop();
};
openfl_Vector.push = function(this1,value) {
	return this1.push(value);
};
openfl_Vector.removeAt = function(this1,index) {
	return this1.removeAt(index);
};
openfl_Vector.reverse = function(this1) {
	return this1.reverse();
};
openfl_Vector.set = function(this1,index,value) {
	return this1.set(index,value);
};
openfl_Vector.shift = function(this1) {
	return this1.shift();
};
openfl_Vector.slice = function(this1,startIndex,endIndex) {
	if(startIndex == null) {
		startIndex = 0;
	}
	return this1.slice(startIndex,endIndex);
};
openfl_Vector.sort = function(this1,sortBehavior) {
	this1.sort(sortBehavior);
};
openfl_Vector.splice = function(this1,startIndex,deleteCount) {
	return this1.splice(startIndex,deleteCount);
};
openfl_Vector.toString = function(this1) {
	if(this1 != null) {
		return this1.toString();
	} else {
		return null;
	}
};
openfl_Vector.unshift = function(this1,value) {
	this1.unshift(value);
};
openfl_Vector.convert = function(vec) {
	return vec;
};
openfl_Vector.toBoolVector = function(t,length,fixed,array) {
	return new openfl__$Vector_BoolVector(length,fixed,array);
};
openfl_Vector.toIntVector = function(t,length,fixed,array) {
	return new openfl__$Vector_IntVector(length,fixed,array);
};
openfl_Vector.toFloatVector = function(t,length,fixed,array) {
	return new openfl__$Vector_FloatVector(length,fixed,array,true);
};
openfl_Vector.toFunctionVector = function(t,length,fixed,array) {
	return new openfl__$Vector_FunctionVector(length,fixed,array);
};
openfl_Vector.toObjectVector = function(t,length,fixed,array) {
	return new openfl__$Vector_ObjectVector(length,fixed,array,true);
};
openfl_Vector.toNullVector = function(t,length,fixed,array) {
	return new openfl__$Vector_ObjectVector(length,fixed,array,true);
};
openfl_Vector.fromBoolVector = function(vector) {
	return vector;
};
openfl_Vector.fromIntVector = function(vector) {
	return vector;
};
openfl_Vector.fromFloatVector = function(vector) {
	return vector;
};
openfl_Vector.fromFunctionVector = function(vector) {
	return vector;
};
openfl_Vector.fromObjectVector = function(vector) {
	return vector;
};
openfl_Vector.get_fixed = function(this1) {
	return this1.fixed;
};
openfl_Vector.set_fixed = function(this1,value) {
	return this1.fixed = value;
};
openfl_Vector.get_length = function(this1) {
	return this1.get_length();
};
openfl_Vector.set_length = function(this1,value) {
	return this1.set_length(value);
};
var lime_utils_ObjectPool = function(create,clean,size) {
	this.__pool = new haxe_ds_ObjectMap();
	this.activeObjects = 0;
	this.inactiveObjects = 0;
	this.__inactiveObject0 = null;
	this.__inactiveObject1 = null;
	this.__inactiveObjectList = new haxe_ds_List();
	if(create != null) {
		this.create = create;
	}
	if(clean != null) {
		this.clean = clean;
	}
	if(size != null) {
		this.set_size(size);
	}
};
$hxClasses["lime.utils.ObjectPool"] = lime_utils_ObjectPool;
lime_utils_ObjectPool.__name__ = "lime.utils.ObjectPool";
lime_utils_ObjectPool.prototype = {
	activeObjects: null
	,inactiveObjects: null
	,__inactiveObject0: null
	,__inactiveObject1: null
	,__inactiveObjectList: null
	,__pool: null
	,__size: null
	,add: function(object) {
		if(!this.__pool.exists(object)) {
			this.__pool.set(object,false);
			this.clean(object);
			if(this.__inactiveObject0 == null) {
				this.__inactiveObject0 = object;
			} else if(this.__inactiveObject1 == null) {
				this.__inactiveObject1 = object;
			} else {
				this.__inactiveObjectList.add(object);
			}
			this.inactiveObjects++;
		}
	}
	,clean: function(object) {
	}
	,clear: function() {
		this.__pool = new haxe_ds_ObjectMap();
		this.activeObjects = 0;
		this.inactiveObjects = 0;
		this.__inactiveObject0 = null;
		this.__inactiveObject1 = null;
		this.__inactiveObjectList.clear();
	}
	,create: function() {
		return null;
	}
	,get: function() {
		var object = null;
		if(this.inactiveObjects > 0) {
			var object1 = null;
			if(this.__inactiveObject0 != null) {
				object1 = this.__inactiveObject0;
				this.__inactiveObject0 = null;
			} else if(this.__inactiveObject1 != null) {
				object1 = this.__inactiveObject1;
				this.__inactiveObject1 = null;
			} else {
				object1 = this.__inactiveObjectList.pop();
				if(this.__inactiveObjectList.length > 0) {
					this.__inactiveObject0 = this.__inactiveObjectList.pop();
				}
				if(this.__inactiveObjectList.length > 0) {
					this.__inactiveObject1 = this.__inactiveObjectList.pop();
				}
			}
			this.inactiveObjects--;
			this.activeObjects++;
			object = object1;
		} else if(this.__size == null || this.activeObjects < this.__size) {
			object = this.create();
			if(object != null) {
				this.__pool.set(object,true);
				this.activeObjects++;
			}
		}
		return object;
	}
	,release: function(object) {
		this.activeObjects--;
		if(this.__size == null || this.activeObjects + this.inactiveObjects < this.__size) {
			this.clean(object);
			if(this.__inactiveObject0 == null) {
				this.__inactiveObject0 = object;
			} else if(this.__inactiveObject1 == null) {
				this.__inactiveObject1 = object;
			} else {
				this.__inactiveObjectList.add(object);
			}
			this.inactiveObjects++;
		} else {
			this.__pool.remove(object);
		}
	}
	,remove: function(object) {
		if(this.__pool.exists(object)) {
			this.__pool.remove(object);
			if(this.__inactiveObject0 == object) {
				this.__inactiveObject0 = null;
				this.inactiveObjects--;
			} else if(this.__inactiveObject1 == object) {
				this.__inactiveObject1 = null;
				this.inactiveObjects--;
			} else if(this.__inactiveObjectList.remove(object)) {
				this.inactiveObjects--;
			} else {
				this.activeObjects--;
			}
		}
	}
	,__addInactive: function(object) {
		if(this.__inactiveObject0 == null) {
			this.__inactiveObject0 = object;
		} else if(this.__inactiveObject1 == null) {
			this.__inactiveObject1 = object;
		} else {
			this.__inactiveObjectList.add(object);
		}
		this.inactiveObjects++;
	}
	,__getInactive: function() {
		var object = null;
		if(this.__inactiveObject0 != null) {
			object = this.__inactiveObject0;
			this.__inactiveObject0 = null;
		} else if(this.__inactiveObject1 != null) {
			object = this.__inactiveObject1;
			this.__inactiveObject1 = null;
		} else {
			object = this.__inactiveObjectList.pop();
			if(this.__inactiveObjectList.length > 0) {
				this.__inactiveObject0 = this.__inactiveObjectList.pop();
			}
			if(this.__inactiveObjectList.length > 0) {
				this.__inactiveObject1 = this.__inactiveObjectList.pop();
			}
		}
		this.inactiveObjects--;
		this.activeObjects++;
		return object;
	}
	,__removeInactive: function(count) {
		if(count <= 0 || this.inactiveObjects == 0) {
			return;
		}
		if(this.__inactiveObject0 != null) {
			this.__pool.remove(this.__inactiveObject0);
			this.__inactiveObject0 = null;
			this.inactiveObjects--;
			--count;
		}
		if(count == 0 || this.inactiveObjects == 0) {
			return;
		}
		if(this.__inactiveObject1 != null) {
			this.__pool.remove(this.__inactiveObject1);
			this.__inactiveObject1 = null;
			this.inactiveObjects--;
			--count;
		}
		if(count == 0 || this.inactiveObjects == 0) {
			return;
		}
		var _g_head = this.__inactiveObjectList.h;
		while(_g_head != null) {
			var val = _g_head.item;
			_g_head = _g_head.next;
			var object = val;
			this.__pool.remove(object);
			this.__inactiveObjectList.remove(object);
			this.inactiveObjects--;
			--count;
			if(count == 0 || this.inactiveObjects == 0) {
				return;
			}
		}
	}
	,get_size: function() {
		return this.__size;
	}
	,set_size: function(value) {
		if(value == null) {
			this.__size = null;
		} else {
			var current = this.inactiveObjects + this.activeObjects;
			this.__size = value;
			if(current > value) {
				this.__removeInactive(current - value);
			} else if(value > current) {
				var object;
				var _g = 0;
				var _g1 = value - current;
				while(_g < _g1) {
					var i = _g++;
					object = this.create();
					if(object != null) {
						this.__pool.set(object,false);
						this.__inactiveObjectList.add(object);
						this.inactiveObjects++;
					} else {
						break;
					}
				}
			}
		}
		return value;
	}
	,__class__: lime_utils_ObjectPool
	,__properties__: {set_size:"set_size",get_size:"get_size"}
};
var haxe_IMap = function() { };
$hxClasses["haxe.IMap"] = haxe_IMap;
haxe_IMap.__name__ = "haxe.IMap";
haxe_IMap.__isInterface__ = true;
haxe_IMap.prototype = {
	get: null
	,set: null
	,exists: null
	,remove: null
	,keys: null
	,iterator: null
	,keyValueIterator: null
	,__class__: haxe_IMap
};
var haxe_ds_ObjectMap = function() {
	this.h = { __keys__ : { }};
};
$hxClasses["haxe.ds.ObjectMap"] = haxe_ds_ObjectMap;
haxe_ds_ObjectMap.__name__ = "haxe.ds.ObjectMap";
haxe_ds_ObjectMap.__interfaces__ = [haxe_IMap];
haxe_ds_ObjectMap.count = null;
haxe_ds_ObjectMap.prototype = {
	h: null
	,set: function(key,value) {
		var id = key.__id__;
		if(id == null) {
			id = (key.__id__ = $global.$haxeUID++);
		}
		this.h[id] = value;
		this.h.__keys__[id] = key;
	}
	,get: function(key) {
		return this.h[key.__id__];
	}
	,exists: function(key) {
		return this.h.__keys__[key.__id__] != null;
	}
	,remove: function(key) {
		var id = key.__id__;
		if(this.h.__keys__[id] == null) {
			return false;
		}
		delete(this.h[id]);
		delete(this.h.__keys__[id]);
		return true;
	}
	,keys: function() {
		var a = [];
		for( var key in this.h.__keys__ ) {
		if(this.h.hasOwnProperty(key)) {
			a.push(this.h.__keys__[key]);
		}
		}
		return new haxe_iterators_ArrayIterator(a);
	}
	,iterator: function() {
		return { ref : this.h, it : this.keys(), hasNext : function() {
			return this.it.hasNext();
		}, next : function() {
			var i = this.it.next();
			return this.ref[i.__id__];
		}};
	}
	,keyValueIterator: function() {
		return new haxe_iterators_MapKeyValueIterator(this);
	}
	,toString: function() {
		var s_b = "";
		s_b += "{";
		var it = this.keys();
		var i = it;
		while(i.hasNext()) {
			var i1 = i.next();
			s_b += Std.string(Std.string(i1));
			s_b += " => ";
			s_b += Std.string(Std.string(this.h[i1.__id__]));
			if(it.hasNext()) {
				s_b += ", ";
			}
		}
		s_b += "}";
		return s_b;
	}
	,__class__: haxe_ds_ObjectMap
};
var haxe_ds_List = function() {
	this.length = 0;
};
$hxClasses["haxe.ds.List"] = haxe_ds_List;
haxe_ds_List.__name__ = "haxe.ds.List";
haxe_ds_List.prototype = {
	h: null
	,q: null
	,length: null
	,add: function(item) {
		var x = new haxe_ds__$List_ListNode(item,null);
		if(this.h == null) {
			this.h = x;
		} else {
			this.q.next = x;
		}
		this.q = x;
		this.length++;
	}
	,push: function(item) {
		var x = new haxe_ds__$List_ListNode(item,this.h);
		this.h = x;
		if(this.q == null) {
			this.q = x;
		}
		this.length++;
	}
	,pop: function() {
		if(this.h == null) {
			return null;
		}
		var x = this.h.item;
		this.h = this.h.next;
		if(this.h == null) {
			this.q = null;
		}
		this.length--;
		return x;
	}
	,clear: function() {
		this.h = null;
		this.q = null;
		this.length = 0;
	}
	,remove: function(v) {
		var prev = null;
		var l = this.h;
		while(l != null) {
			if(l.item == v) {
				if(prev == null) {
					this.h = l.next;
				} else {
					prev.next = l.next;
				}
				if(this.q == l) {
					this.q = prev;
				}
				this.length--;
				return true;
			}
			prev = l;
			l = l.next;
		}
		return false;
	}
	,iterator: function() {
		return new haxe_ds__$List_ListIterator(this.h);
	}
	,__class__: haxe_ds_List
};
var openfl_display_DisplayObject = function() {
	openfl_events_EventDispatcher.call(this);
	this.__drawableType = 1;
	this.__alpha = 1;
	this.__blendMode = 10;
	this.__cacheAsBitmap = false;
	this.__transform = new openfl_geom_Matrix();
	this.__visible = true;
	this.__rotation = 0;
	this.__rotationSine = 0;
	this.__rotationCosine = 1;
	this.__scaleX = 1;
	this.__scaleY = 1;
	this.__worldAlpha = 1;
	this.__worldBlendMode = 10;
	this.__worldTransform = new openfl_geom_Matrix();
	this.__worldColorTransform = new openfl_geom_ColorTransform();
	this.__renderTransform = new openfl_geom_Matrix();
	this.__worldVisible = true;
	this.set_name("instance" + ++openfl_display_DisplayObject.__instanceCount);
	if(openfl_display_DisplayObject.__initStage != null) {
		this.stage = openfl_display_DisplayObject.__initStage;
		openfl_display_DisplayObject.__initStage = null;
		this.stage.addChild(this);
	}
};
$hxClasses["openfl.display.DisplayObject"] = openfl_display_DisplayObject;
openfl_display_DisplayObject.__name__ = "openfl.display.DisplayObject";
openfl_display_DisplayObject.__interfaces__ = [openfl_display_IBitmapDrawable];
openfl_display_DisplayObject.__initStage = null;
openfl_display_DisplayObject.__supportDOM = null;
openfl_display_DisplayObject.__calculateAbsoluteTransform = function(local,parentTransform,target) {
	target.a = local.a * parentTransform.a + local.b * parentTransform.c;
	target.b = local.a * parentTransform.b + local.b * parentTransform.d;
	target.c = local.c * parentTransform.a + local.d * parentTransform.c;
	target.d = local.c * parentTransform.b + local.d * parentTransform.d;
	target.tx = local.tx * parentTransform.a + local.ty * parentTransform.c + parentTransform.tx;
	target.ty = local.tx * parentTransform.b + local.ty * parentTransform.d + parentTransform.ty;
};
openfl_display_DisplayObject.__super__ = openfl_events_EventDispatcher;
openfl_display_DisplayObject.prototype = $extend(openfl_events_EventDispatcher.prototype,{
	opaqueBackground: null
	,parent: null
	,stage: null
	,__alpha: null
	,__blendMode: null
	,__cacheAsBitmap: null
	,__cacheAsBitmapMatrix: null
	,__cacheBitmap: null
	,__cacheBitmapBackground: null
	,__cacheBitmapColorTransform: null
	,__cacheBitmapData: null
	,__cacheBitmapData2: null
	,__cacheBitmapData3: null
	,__cacheBitmapMatrix: null
	,__cacheBitmapRenderer: null
	,__cairo: null
	,__children: null
	,__customRenderClear: null
	,__customRenderEvent: null
	,__drawableType: null
	,__filters: null
	,__graphics: null
	,__interactive: null
	,__isCacheBitmapRender: null
	,__isMask: null
	,__loaderInfo: null
	,__mask: null
	,__maskTarget: null
	,__name: null
	,__objectTransform: null
	,__renderable: null
	,__renderDirty: null
	,__renderParent: null
	,__renderTransform: null
	,__renderTransformCache: null
	,__renderTransformChanged: null
	,__rotation: null
	,__rotationCosine: null
	,__rotationSine: null
	,__scale9Grid: null
	,__scaleX: null
	,__scaleY: null
	,__scrollRect: null
	,__shader: null
	,__tempPoint: null
	,__transform: null
	,__transformDirty: null
	,__visible: null
	,__worldAlpha: null
	,__worldAlphaChanged: null
	,__worldBlendMode: null
	,__worldClip: null
	,__worldClipChanged: null
	,__worldColorTransform: null
	,__worldShader: null
	,__worldScale9Grid: null
	,__worldTransform: null
	,__worldVisible: null
	,__worldVisibleChanged: null
	,__worldTransformInvalid: null
	,__worldZ: null
	,__canvas: null
	,__context: null
	,__style: null
	,addEventListener: function(type,listener,useCapture,priority,useWeakReference) {
		if(useWeakReference == null) {
			useWeakReference = false;
		}
		if(priority == null) {
			priority = 0;
		}
		if(useCapture == null) {
			useCapture = false;
		}
		switch(type) {
		case "activate":case "deactivate":case "enterFrame":case "exitFrame":case "frameConstructed":case "render":
			if(!Object.prototype.hasOwnProperty.call(openfl_display_DisplayObject.__broadcastEvents.h,type)) {
				openfl_display_DisplayObject.__broadcastEvents.h[type] = [];
			}
			var dispatchers = openfl_display_DisplayObject.__broadcastEvents.h[type];
			if(dispatchers.indexOf(this) == -1) {
				dispatchers.push(this);
			}
			break;
		case "clearDOM":case "renderCairo":case "renderCanvas":case "renderDOM":case "renderOpenGL":
			if(this.__customRenderEvent == null) {
				this.__customRenderEvent = new openfl_events_RenderEvent(null);
				this.__customRenderEvent.objectColorTransform = new openfl_geom_ColorTransform();
				this.__customRenderEvent.objectMatrix = new openfl_geom_Matrix();
				this.__customRenderClear = true;
			}
			break;
		default:
		}
		openfl_events_EventDispatcher.prototype.addEventListener.call(this,type,listener,useCapture,priority,useWeakReference);
	}
	,dispatchEvent: function(event) {
		if(((event) instanceof openfl_events_MouseEvent)) {
			var mouseEvent = event;
			var _this = this.__getRenderTransform();
			mouseEvent.stageX = mouseEvent.localX * _this.a + mouseEvent.localY * _this.c + _this.tx;
			var _this = this.__getRenderTransform();
			mouseEvent.stageY = mouseEvent.localX * _this.b + mouseEvent.localY * _this.d + _this.ty;
		} else if(((event) instanceof openfl_events_TouchEvent)) {
			var touchEvent = event;
			var _this = this.__getRenderTransform();
			touchEvent.stageX = touchEvent.localX * _this.a + touchEvent.localY * _this.c + _this.tx;
			var _this = this.__getRenderTransform();
			touchEvent.stageY = touchEvent.localX * _this.b + touchEvent.localY * _this.d + _this.ty;
		}
		event.target = this;
		return this.__dispatchWithCapture(event);
	}
	,getBounds: function(targetCoordinateSpace) {
		var matrix = openfl_geom_Matrix.__pool.get();
		if(targetCoordinateSpace != null && targetCoordinateSpace != this) {
			matrix.copyFrom(this.__getWorldTransform());
			var targetMatrix = openfl_geom_Matrix.__pool.get();
			targetMatrix.copyFrom(targetCoordinateSpace.__getWorldTransform());
			targetMatrix.invert();
			matrix.concat(targetMatrix);
			openfl_geom_Matrix.__pool.release(targetMatrix);
		} else {
			matrix.identity();
		}
		var bounds = new openfl_geom_Rectangle();
		this.__getBounds(bounds,matrix);
		openfl_geom_Matrix.__pool.release(matrix);
		return bounds;
	}
	,getRect: function(targetCoordinateSpace) {
		return this.getBounds(targetCoordinateSpace);
	}
	,globalToLocal: function(pos) {
		return this.__globalToLocal(pos,new openfl_geom_Point());
	}
	,hitTestObject: function(obj) {
		if(obj != null && obj.parent != null && this.parent != null) {
			var currentBounds = this.getBounds(this);
			var targetBounds = obj.getBounds(this);
			return currentBounds.intersects(targetBounds);
		}
		return false;
	}
	,hitTestPoint: function(x,y,shapeFlag) {
		if(shapeFlag == null) {
			shapeFlag = false;
		}
		if(this.stage != null) {
			return this.__hitTest(x,y,shapeFlag,null,false,this);
		} else {
			return false;
		}
	}
	,invalidate: function() {
		if(!this.__renderDirty) {
			this.__renderDirty = true;
			this.__setParentRenderDirty();
		}
	}
	,localToGlobal: function(point) {
		return this.__getRenderTransform().transformPoint(point);
	}
	,removeEventListener: function(type,listener,useCapture) {
		if(useCapture == null) {
			useCapture = false;
		}
		openfl_events_EventDispatcher.prototype.removeEventListener.call(this,type,listener,useCapture);
		switch(type) {
		case "activate":case "deactivate":case "enterFrame":case "exitFrame":case "frameConstructed":case "render":
			if(!this.hasEventListener(type)) {
				if(Object.prototype.hasOwnProperty.call(openfl_display_DisplayObject.__broadcastEvents.h,type)) {
					HxOverrides.remove(openfl_display_DisplayObject.__broadcastEvents.h[type],this);
				}
			}
			break;
		case "clearDOM":case "renderCairo":case "renderCanvas":case "renderDOM":case "renderOpenGL":
			if(!this.hasEventListener("clearDOM") && !this.hasEventListener("renderCairo") && !this.hasEventListener("renderCanvas") && !this.hasEventListener("renderDOM") && !this.hasEventListener("renderOpenGL")) {
				this.__customRenderEvent = null;
			}
			break;
		default:
		}
	}
	,__cleanup: function() {
		this.__cairo = null;
		this.__canvas = null;
		this.__context = null;
		if(this.__graphics != null) {
			this.__graphics.__cleanup();
		}
		if(this.__cacheBitmap != null) {
			this.__cacheBitmap.__cleanup();
			this.__cacheBitmap = null;
		}
		if(this.__cacheBitmapData != null) {
			this.__cacheBitmapData.dispose();
			this.__cacheBitmapData = null;
		}
	}
	,__dispatch: function(event) {
		if(this.__eventMap != null && this.hasEventListener(event.type)) {
			var result = openfl_events_EventDispatcher.prototype.__dispatchEvent.call(this,event);
			if(event.__isCanceled) {
				return true;
			}
			return result;
		}
		return true;
	}
	,__dispatchChildren: function(event) {
	}
	,__dispatchEvent: function(event) {
		var parent = event.bubbles ? this.parent : null;
		var result = openfl_events_EventDispatcher.prototype.__dispatchEvent.call(this,event);
		if(event.__isCanceled) {
			return true;
		}
		if(parent != null && parent != this) {
			event.eventPhase = 3;
			if(event.target == null) {
				event.target = this;
			}
			parent.__dispatchEvent(event);
		}
		return result;
	}
	,__dispatchWithCapture: function(event) {
		if(event.target == null) {
			event.target = this;
		}
		if(this.parent != null) {
			event.eventPhase = 1;
			if(this.parent == this.stage) {
				this.parent.__dispatch(event);
			} else {
				var stack = openfl_display_DisplayObject.__tempStack.get();
				var parent = this.parent;
				var i = 0;
				while(parent != null) {
					stack.set(i,parent);
					parent = parent.parent;
					++i;
				}
				var _g = 0;
				var _g1 = i;
				while(_g < _g1) {
					var j = _g++;
					stack.get(i - j - 1).__dispatch(event);
				}
				openfl_display_DisplayObject.__tempStack.release(stack);
			}
		}
		event.eventPhase = 2;
		return this.__dispatchEvent(event);
	}
	,__enterFrame: function(deltaTime) {
	}
	,__getBounds: function(rect,matrix) {
		if(this.__graphics != null) {
			this.__graphics.__getBounds(rect,matrix);
		}
	}
	,__getCursor: function() {
		return null;
	}
	,__getFilterBounds: function(rect,matrix) {
		this.__getRenderBounds(rect,matrix);
		if(this.__filters != null) {
			var extension = openfl_geom_Rectangle.__pool.get();
			var _g = 0;
			var _g1 = this.__filters;
			while(_g < _g1.length) {
				var filter = _g1[_g];
				++_g;
				extension.__expand(-filter.__leftExtension,-filter.__topExtension,filter.__leftExtension + filter.__rightExtension,filter.__topExtension + filter.__bottomExtension);
			}
			rect.width += extension.width;
			rect.height += extension.height;
			rect.x += extension.x;
			rect.y += extension.y;
			openfl_geom_Rectangle.__pool.release(extension);
		}
	}
	,__getInteractive: function(stack) {
		return false;
	}
	,__getLocalBounds: function(rect) {
		this.__getBounds(rect,this.__transform);
		rect.x -= this.__transform.tx;
		rect.y -= this.__transform.ty;
	}
	,__getRenderBounds: function(rect,matrix) {
		if(this.__scrollRect == null) {
			this.__getBounds(rect,matrix);
		} else {
			var r = openfl_geom_Rectangle.__pool.get();
			r.copyFrom(this.__scrollRect);
			r.__transform(r,matrix);
			rect.__expand(r.x,r.y,r.width,r.height);
			openfl_geom_Rectangle.__pool.release(r);
		}
	}
	,__getRenderTransform: function() {
		this.__getWorldTransform();
		return this.__renderTransform;
	}
	,__getWorldTransform: function() {
		var transformDirty = this.__transformDirty || this.__worldTransformInvalid;
		if(transformDirty) {
			var list = [];
			var current = this;
			if(this.parent == null) {
				this.__update(true,false);
			} else {
				while(current != this.stage) {
					list.push(current);
					current = current.parent;
					if(current == null) {
						break;
					}
				}
			}
			var i = list.length;
			while(--i >= 0) {
				current = list[i];
				current.__update(true,false);
			}
		}
		return this.__worldTransform;
	}
	,__globalToLocal: function(global,local) {
		this.__getRenderTransform();
		if(global == local) {
			var _this = this.__renderTransform;
			var norm = _this.a * _this.d - _this.b * _this.c;
			if(norm == 0) {
				global.x = -_this.tx;
				global.y = -_this.ty;
			} else {
				var px = 1.0 / norm * (_this.c * (_this.ty - global.y) + _this.d * (global.x - _this.tx));
				global.y = 1.0 / norm * (_this.a * (global.y - _this.ty) + _this.b * (_this.tx - global.x));
				global.x = px;
			}
		} else {
			var _this = this.__renderTransform;
			var norm = _this.a * _this.d - _this.b * _this.c;
			local.x = norm == 0 ? -_this.tx : 1.0 / norm * (_this.c * (_this.ty - global.y) + _this.d * (global.x - _this.tx));
			var _this = this.__renderTransform;
			var norm = _this.a * _this.d - _this.b * _this.c;
			local.y = norm == 0 ? -_this.ty : 1.0 / norm * (_this.a * (global.y - _this.ty) + _this.b * (_this.tx - global.x));
		}
		return local;
	}
	,__hitTest: function(x,y,shapeFlag,stack,interactiveOnly,hitObject) {
		if(this.__graphics != null) {
			if(!hitObject.__visible || this.__isMask) {
				return false;
			}
			if(this.get_mask() != null && !this.get_mask().__hitTestMask(x,y)) {
				return false;
			}
			if(this.__graphics.__hitTest(x,y,shapeFlag,this.__getRenderTransform())) {
				if(stack != null && !interactiveOnly) {
					stack.push(hitObject);
				}
				return true;
			}
		}
		return false;
	}
	,__hitTestMask: function(x,y) {
		if(this.__graphics != null) {
			if(this.__graphics.__hitTest(x,y,true,this.__getRenderTransform())) {
				return true;
			}
		}
		return false;
	}
	,__readGraphicsData: function(graphicsData,recurse) {
		if(this.__graphics != null) {
			this.__graphics.__readGraphicsData(graphicsData);
		}
	}
	,__setParentRenderDirty: function() {
		var renderParent = this.__renderParent != null ? this.__renderParent : this.parent;
		if(renderParent != null && !renderParent.__renderDirty) {
			renderParent.__renderDirty = true;
			renderParent.__setParentRenderDirty();
		}
	}
	,__setRenderDirty: function() {
		if(!this.__renderDirty) {
			this.__renderDirty = true;
			this.__setParentRenderDirty();
		}
	}
	,__setStageReference: function(stage) {
		this.stage = stage;
	}
	,__setTransformDirty: function() {
		if(!this.__transformDirty) {
			this.__transformDirty = true;
			this.__setWorldTransformInvalid();
			this.__setParentRenderDirty();
		}
	}
	,__setWorldTransformInvalid: function() {
		this.__worldTransformInvalid = true;
	}
	,__stopAllMovieClips: function() {
	}
	,__update: function(transformOnly,updateChildren) {
		var renderParent = this.__renderParent != null ? this.__renderParent : this.parent;
		if(this.__isMask && renderParent == null) {
			renderParent = this.__maskTarget;
		}
		this.__renderable = this.__visible && this.__scaleX != 0 && this.__scaleY != 0 && !this.__isMask && (renderParent == null || !renderParent.__isMask);
		this.__updateTransforms();
		this.__transformDirty = false;
		this.__worldTransformInvalid = false;
		if(!transformOnly) {
			if(openfl_display_DisplayObject.__supportDOM) {
				this.__renderTransformChanged = !this.__renderTransform.equals(this.__renderTransformCache);
				if(this.__renderTransformCache == null) {
					this.__renderTransformCache = this.__renderTransform.clone();
				} else {
					this.__renderTransformCache.copyFrom(this.__renderTransform);
				}
			}
			if(renderParent != null) {
				if(openfl_display_DisplayObject.__supportDOM) {
					var worldVisible = renderParent.__worldVisible && this.__visible;
					this.__worldVisibleChanged = this.__worldVisible != worldVisible;
					this.__worldVisible = worldVisible;
					var worldAlpha = this.get_alpha() * renderParent.__worldAlpha;
					this.__worldAlphaChanged = this.__worldAlpha != worldAlpha;
					this.__worldAlpha = worldAlpha;
				} else {
					this.__worldAlpha = this.get_alpha() * renderParent.__worldAlpha;
				}
				if(this.__objectTransform != null) {
					this.__worldColorTransform.__copyFrom(this.__objectTransform.__colorTransform);
					this.__worldColorTransform.__combine(renderParent.__worldColorTransform);
				} else {
					this.__worldColorTransform.__copyFrom(renderParent.__worldColorTransform);
				}
				if(this.__blendMode == null || this.__blendMode == 10) {
					this.__worldBlendMode = renderParent.__worldBlendMode;
				} else {
					this.__worldBlendMode = this.__blendMode;
				}
				if(this.__shader == null) {
					this.__worldShader = renderParent.__shader;
				} else {
					this.__worldShader = this.__shader;
				}
				if(this.__scale9Grid == null) {
					this.__worldScale9Grid = renderParent.__scale9Grid;
				} else {
					this.__worldScale9Grid = this.__scale9Grid;
				}
			} else {
				this.__worldAlpha = this.get_alpha();
				if(openfl_display_DisplayObject.__supportDOM) {
					this.__worldVisibleChanged = this.__worldVisible != this.__visible;
					this.__worldVisible = this.__visible;
					this.__worldAlphaChanged = this.__worldAlpha != this.get_alpha();
				}
				if(this.__objectTransform != null) {
					this.__worldColorTransform.__copyFrom(this.__objectTransform.__colorTransform);
				} else {
					this.__worldColorTransform.__identity();
				}
				this.__worldBlendMode = this.__blendMode;
				this.__worldShader = this.__shader;
				this.__worldScale9Grid = this.__scale9Grid;
			}
		}
		if(updateChildren && this.get_mask() != null) {
			this.get_mask().__update(transformOnly,true);
		}
	}
	,__updateTransforms: function(overrideTransform) {
		var overrided = overrideTransform != null;
		var local = overrided ? overrideTransform : this.__transform;
		if(this.__worldTransform == null) {
			this.__worldTransform = new openfl_geom_Matrix();
		}
		if(this.__renderTransform == null) {
			this.__renderTransform = new openfl_geom_Matrix();
		}
		var renderParent = this.__renderParent != null ? this.__renderParent : this.parent;
		if(!overrided && this.parent != null) {
			var parentTransform = this.parent.__worldTransform;
			var target = this.__worldTransform;
			target.a = local.a * parentTransform.a + local.b * parentTransform.c;
			target.b = local.a * parentTransform.b + local.b * parentTransform.d;
			target.c = local.c * parentTransform.a + local.d * parentTransform.c;
			target.d = local.c * parentTransform.b + local.d * parentTransform.d;
			target.tx = local.tx * parentTransform.a + local.ty * parentTransform.c + parentTransform.tx;
			target.ty = local.tx * parentTransform.b + local.ty * parentTransform.d + parentTransform.ty;
		} else {
			this.__worldTransform.copyFrom(local);
		}
		if(!overrided && renderParent != null) {
			var parentTransform = renderParent.__renderTransform;
			var target = this.__renderTransform;
			target.a = local.a * parentTransform.a + local.b * parentTransform.c;
			target.b = local.a * parentTransform.b + local.b * parentTransform.d;
			target.c = local.c * parentTransform.a + local.d * parentTransform.c;
			target.d = local.c * parentTransform.b + local.d * parentTransform.d;
			target.tx = local.tx * parentTransform.a + local.ty * parentTransform.c + parentTransform.tx;
			target.ty = local.tx * parentTransform.b + local.ty * parentTransform.d + parentTransform.ty;
		} else {
			this.__renderTransform.copyFrom(local);
		}
		if(this.__scrollRect != null) {
			var _this = this.__renderTransform;
			var px = -this.__scrollRect.x;
			var py = -this.__scrollRect.y;
			_this.tx = px * _this.a + py * _this.c + _this.tx;
			_this.ty = px * _this.b + py * _this.d + _this.ty;
		}
	}
	,get_alpha: function() {
		return this.__alpha;
	}
	,set_alpha: function(value) {
		if(value > 1.0) {
			value = 1.0;
		}
		if(value < 0.0) {
			value = 0.0;
		}
		if(value != this.__alpha && !this.get_cacheAsBitmap()) {
			if(!this.__renderDirty) {
				this.__renderDirty = true;
				this.__setParentRenderDirty();
			}
		}
		return this.__alpha = value;
	}
	,get_blendMode: function() {
		return this.__blendMode;
	}
	,set_blendMode: function(value) {
		if(value == null) {
			value = 10;
		}
		if(value != this.__blendMode) {
			if(!this.__renderDirty) {
				this.__renderDirty = true;
				this.__setParentRenderDirty();
			}
		}
		return this.__blendMode = value;
	}
	,get_cacheAsBitmap: function() {
		if(this.__filters == null) {
			return this.__cacheAsBitmap;
		} else {
			return true;
		}
	}
	,set_cacheAsBitmap: function(value) {
		if(value != this.__cacheAsBitmap) {
			if(!this.__renderDirty) {
				this.__renderDirty = true;
				this.__setParentRenderDirty();
			}
		}
		return this.__cacheAsBitmap = value;
	}
	,get_cacheAsBitmapMatrix: function() {
		return this.__cacheAsBitmapMatrix;
	}
	,set_cacheAsBitmapMatrix: function(value) {
		if(!this.__renderDirty) {
			this.__renderDirty = true;
			this.__setParentRenderDirty();
		}
		return this.__cacheAsBitmapMatrix = value != null ? value.clone() : value;
	}
	,get_filters: function() {
		if(this.__filters == null) {
			return [];
		} else {
			return this.__filters.slice();
		}
	}
	,set_filters: function(value) {
		if(value != null && value.length > 0) {
			this.__filters = value;
			if(!this.__renderDirty) {
				this.__renderDirty = true;
				this.__setParentRenderDirty();
			}
		} else if(this.__filters != null) {
			this.__filters = null;
			if(!this.__renderDirty) {
				this.__renderDirty = true;
				this.__setParentRenderDirty();
			}
		}
		return value;
	}
	,get_height: function() {
		var rect = openfl_geom_Rectangle.__pool.get();
		this.__getLocalBounds(rect);
		var height = rect.height;
		openfl_geom_Rectangle.__pool.release(rect);
		return height;
	}
	,set_height: function(value) {
		var rect = openfl_geom_Rectangle.__pool.get();
		var matrix = openfl_geom_Matrix.__pool.get();
		matrix.identity();
		this.__getBounds(rect,matrix);
		if(value != rect.height) {
			this.set_scaleY(value / rect.height);
		} else {
			this.set_scaleY(1);
		}
		openfl_geom_Rectangle.__pool.release(rect);
		openfl_geom_Matrix.__pool.release(matrix);
		return value;
	}
	,get_loaderInfo: function() {
		if(this.stage != null) {
			return openfl_utils__$internal_Lib.current.__loaderInfo;
		}
		return null;
	}
	,get_mask: function() {
		return this.__mask;
	}
	,set_mask: function(value) {
		if(value == this.__mask) {
			return value;
		}
		if(value != this.__mask) {
			this.__setTransformDirty();
			if(!this.__renderDirty) {
				this.__renderDirty = true;
				this.__setParentRenderDirty();
			}
		}
		if(this.__mask != null) {
			this.__mask.__isMask = false;
			this.__mask.__maskTarget = null;
			this.__mask.__setTransformDirty();
			var _this = this.__mask;
			if(!_this.__renderDirty) {
				_this.__renderDirty = true;
				_this.__setParentRenderDirty();
			}
		}
		if(value != null) {
			value.__isMask = true;
			value.__maskTarget = this;
			value.__setWorldTransformInvalid();
		}
		if(this.__cacheBitmap != null && this.__cacheBitmap.get_mask() != value) {
			this.__cacheBitmap.set_mask(value);
		}
		return this.__mask = value;
	}
	,get_mouseX: function() {
		var mouseX = this.stage != null ? this.stage.__mouseX : openfl_utils__$internal_Lib.current.stage.__mouseX;
		var mouseY = this.stage != null ? this.stage.__mouseY : openfl_utils__$internal_Lib.current.stage.__mouseY;
		var _this = this.__getRenderTransform();
		var norm = _this.a * _this.d - _this.b * _this.c;
		if(norm == 0) {
			return -_this.tx;
		} else {
			return 1.0 / norm * (_this.c * (_this.ty - mouseY) + _this.d * (mouseX - _this.tx));
		}
	}
	,get_mouseY: function() {
		var mouseX = this.stage != null ? this.stage.__mouseX : openfl_utils__$internal_Lib.current.stage.__mouseX;
		var mouseY = this.stage != null ? this.stage.__mouseY : openfl_utils__$internal_Lib.current.stage.__mouseY;
		var _this = this.__getRenderTransform();
		var norm = _this.a * _this.d - _this.b * _this.c;
		if(norm == 0) {
			return -_this.ty;
		} else {
			return 1.0 / norm * (_this.a * (mouseY - _this.ty) + _this.b * (_this.tx - mouseX));
		}
	}
	,get_name: function() {
		return this.__name;
	}
	,set_name: function(value) {
		return this.__name = value;
	}
	,get_root: function() {
		if(this.stage != null) {
			return openfl_utils__$internal_Lib.current;
		}
		return null;
	}
	,get_rotation: function() {
		return this.__rotation;
	}
	,set_rotation: function(value) {
		if(value != this.__rotation) {
			this.__rotation = value;
			var radians = this.__rotation * (Math.PI / 180);
			this.__rotationSine = Math.sin(radians);
			this.__rotationCosine = Math.cos(radians);
			this.__transform.a = this.__rotationCosine * this.__scaleX;
			this.__transform.b = this.__rotationSine * this.__scaleX;
			this.__transform.c = -this.__rotationSine * this.__scaleY;
			this.__transform.d = this.__rotationCosine * this.__scaleY;
			this.__setTransformDirty();
		}
		return value;
	}
	,get_scale9Grid: function() {
		if(this.__scale9Grid == null) {
			return null;
		}
		return this.__scale9Grid.clone();
	}
	,set_scale9Grid: function(value) {
		if(value == null && this.__scale9Grid == null) {
			return value;
		}
		if(value != null && this.__scale9Grid != null && this.__scale9Grid.equals(value)) {
			return value;
		}
		if(value != null) {
			if(this.__scale9Grid == null) {
				this.__scale9Grid = new openfl_geom_Rectangle();
			}
			this.__scale9Grid.copyFrom(value);
		} else {
			this.__scale9Grid = null;
		}
		if(!this.__renderDirty) {
			this.__renderDirty = true;
			this.__setParentRenderDirty();
		}
		return value;
	}
	,get_scaleX: function() {
		return this.__scaleX;
	}
	,set_scaleX: function(value) {
		if(value != this.__scaleX) {
			this.__scaleX = value;
			if(this.__transform.b == 0) {
				if(value != this.__transform.a) {
					this.__setTransformDirty();
				}
				this.__transform.a = value;
			} else {
				var a = this.__rotationCosine * value;
				var b = this.__rotationSine * value;
				if(this.__transform.a != a || this.__transform.b != b) {
					this.__setTransformDirty();
				}
				this.__transform.a = a;
				this.__transform.b = b;
			}
		}
		return value;
	}
	,get_scaleY: function() {
		return this.__scaleY;
	}
	,set_scaleY: function(value) {
		if(value != this.__scaleY) {
			this.__scaleY = value;
			if(this.__transform.c == 0) {
				if(value != this.__transform.d) {
					this.__setTransformDirty();
				}
				this.__transform.d = value;
			} else {
				var c = -this.__rotationSine * value;
				var d = this.__rotationCosine * value;
				if(this.__transform.d != d || this.__transform.c != c) {
					this.__setTransformDirty();
				}
				this.__transform.c = c;
				this.__transform.d = d;
			}
		}
		return value;
	}
	,get_scrollRect: function() {
		if(this.__scrollRect == null) {
			return null;
		}
		return this.__scrollRect.clone();
	}
	,set_scrollRect: function(value) {
		if(value == null && this.__scrollRect == null) {
			return value;
		}
		if(value != null && this.__scrollRect != null && this.__scrollRect.equals(value)) {
			return value;
		}
		if(value != null) {
			if(this.__scrollRect == null) {
				this.__scrollRect = new openfl_geom_Rectangle();
			}
			this.__scrollRect.copyFrom(value);
		} else {
			this.__scrollRect = null;
		}
		this.__setTransformDirty();
		if(openfl_display_DisplayObject.__supportDOM) {
			if(!this.__renderDirty) {
				this.__renderDirty = true;
				this.__setParentRenderDirty();
			}
		}
		return value;
	}
	,get_shader: function() {
		return this.__shader;
	}
	,set_shader: function(value) {
		this.__shader = value;
		if(!this.__renderDirty) {
			this.__renderDirty = true;
			this.__setParentRenderDirty();
		}
		return value;
	}
	,get_transform: function() {
		if(this.__objectTransform == null) {
			this.__objectTransform = new openfl_geom_Transform(this);
		}
		return this.__objectTransform;
	}
	,set_transform: function(value) {
		if(value == null) {
			throw haxe_Exception.thrown(new openfl_errors_TypeError("Parameter transform must be non-null."));
		}
		if(this.__objectTransform == null) {
			this.__objectTransform = new openfl_geom_Transform(this);
		}
		this.__setTransformDirty();
		this.__objectTransform.set_matrix(value.get_matrix());
		if(!this.__objectTransform.__colorTransform.__equals(value.__colorTransform,true) || !this.get_cacheAsBitmap() && this.__objectTransform.__colorTransform.alphaMultiplier != value.__colorTransform.alphaMultiplier) {
			this.__objectTransform.__colorTransform.__copyFrom(value.get_colorTransform());
			if(!this.__renderDirty) {
				this.__renderDirty = true;
				this.__setParentRenderDirty();
			}
		}
		return this.__objectTransform;
	}
	,get_visible: function() {
		return this.__visible;
	}
	,set_visible: function(value) {
		if(value != this.__visible) {
			if(!this.__renderDirty) {
				this.__renderDirty = true;
				this.__setParentRenderDirty();
			}
		}
		return this.__visible = value;
	}
	,get_width: function() {
		var rect = openfl_geom_Rectangle.__pool.get();
		this.__getLocalBounds(rect);
		var width = rect.width;
		openfl_geom_Rectangle.__pool.release(rect);
		return width;
	}
	,set_width: function(value) {
		var rect = openfl_geom_Rectangle.__pool.get();
		var matrix = openfl_geom_Matrix.__pool.get();
		matrix.identity();
		this.__getBounds(rect,matrix);
		if(value != rect.width) {
			this.set_scaleX(value / rect.width);
		} else {
			this.set_scaleX(1);
		}
		openfl_geom_Rectangle.__pool.release(rect);
		openfl_geom_Matrix.__pool.release(matrix);
		return value;
	}
	,get_x: function() {
		return this.__transform.tx;
	}
	,set_x: function(value) {
		if(value != this.__transform.tx) {
			this.__setTransformDirty();
		}
		return this.__transform.tx = value;
	}
	,get_y: function() {
		return this.__transform.ty;
	}
	,set_y: function(value) {
		if(value != this.__transform.ty) {
			this.__setTransformDirty();
		}
		return this.__transform.ty = value;
	}
	,__class__: openfl_display_DisplayObject
	,__properties__: {set_y:"set_y",get_y:"get_y",set_x:"set_x",get_x:"get_x",set_width:"set_width",get_width:"get_width",set_visible:"set_visible",get_visible:"get_visible",set_transform:"set_transform",get_transform:"get_transform",set_shader:"set_shader",get_shader:"get_shader",set_scrollRect:"set_scrollRect",get_scrollRect:"get_scrollRect",set_scaleY:"set_scaleY",get_scaleY:"get_scaleY",set_scaleX:"set_scaleX",get_scaleX:"get_scaleX",set_scale9Grid:"set_scale9Grid",get_scale9Grid:"get_scale9Grid",set_rotation:"set_rotation",get_rotation:"get_rotation",get_root:"get_root",set_name:"set_name",get_name:"get_name",get_mouseY:"get_mouseY",get_mouseX:"get_mouseX",set_mask:"set_mask",get_mask:"get_mask",get_loaderInfo:"get_loaderInfo",set_height:"set_height",get_height:"get_height",set_filters:"set_filters",get_filters:"get_filters",set_cacheAsBitmapMatrix:"set_cacheAsBitmapMatrix",get_cacheAsBitmapMatrix:"get_cacheAsBitmapMatrix",set_cacheAsBitmap:"set_cacheAsBitmap",get_cacheAsBitmap:"get_cacheAsBitmap",set_blendMode:"set_blendMode",get_blendMode:"get_blendMode",set_alpha:"set_alpha",get_alpha:"get_alpha"}
});
var openfl_display_InteractiveObject = function() {
	openfl_display_DisplayObject.call(this);
	this.doubleClickEnabled = false;
	this.mouseEnabled = true;
	this.needsSoftKeyboard = false;
	this.__tabEnabled = null;
	this.__tabIndex = -1;
};
$hxClasses["openfl.display.InteractiveObject"] = openfl_display_InteractiveObject;
openfl_display_InteractiveObject.__name__ = "openfl.display.InteractiveObject";
openfl_display_InteractiveObject.__super__ = openfl_display_DisplayObject;
openfl_display_InteractiveObject.prototype = $extend(openfl_display_DisplayObject.prototype,{
	doubleClickEnabled: null
	,focusRect: null
	,mouseEnabled: null
	,needsSoftKeyboard: null
	,softKeyboardInputAreaOfInterest: null
	,__tabEnabled: null
	,__tabIndex: null
	,requestSoftKeyboard: function() {
		openfl_utils__$internal_Lib.notImplemented({ fileName : "openfl/display/InteractiveObject.hx", lineNumber : 1251, className : "openfl.display.InteractiveObject", methodName : "requestSoftKeyboard"});
		return false;
	}
	,__allowMouseFocus: function() {
		return this.get_tabEnabled();
	}
	,__getInteractive: function(stack) {
		if(stack != null) {
			stack.push(this);
			if(this.parent != null) {
				this.parent.__getInteractive(stack);
			}
		}
		return true;
	}
	,__hitTest: function(x,y,shapeFlag,stack,interactiveOnly,hitObject) {
		if(!hitObject.get_visible() || this.__isMask || interactiveOnly && !this.mouseEnabled) {
			return false;
		}
		return openfl_display_DisplayObject.prototype.__hitTest.call(this,x,y,shapeFlag,stack,interactiveOnly,hitObject);
	}
	,__tabTest: function(stack) {
		if(this.get_tabEnabled()) {
			stack.push(this);
		}
	}
	,get_tabEnabled: function() {
		if(this.__tabEnabled == true) {
			return true;
		} else {
			return false;
		}
	}
	,set_tabEnabled: function(value) {
		if(this.__tabEnabled != value) {
			this.__tabEnabled = value;
			this.dispatchEvent(new openfl_events_Event("tabEnabledChange",true,false));
		}
		return this.__tabEnabled;
	}
	,get_tabIndex: function() {
		return this.__tabIndex;
	}
	,set_tabIndex: function(value) {
		if(this.__tabIndex != value) {
			if(value < -1) {
				throw haxe_Exception.thrown(new openfl_errors_RangeError("Parameter tabIndex must be a non-negative number; got " + value));
			}
			this.__tabIndex = value;
			this.dispatchEvent(new openfl_events_Event("tabIndexChange",true,false));
		}
		return this.__tabIndex;
	}
	,__class__: openfl_display_InteractiveObject
	,__properties__: $extend(openfl_display_DisplayObject.prototype.__properties__,{set_tabIndex:"set_tabIndex",get_tabIndex:"get_tabIndex",set_tabEnabled:"set_tabEnabled",get_tabEnabled:"get_tabEnabled"})
});
var openfl_display_DisplayObjectContainer = function() {
	openfl_display_InteractiveObject.call(this);
	this.mouseChildren = true;
	this.__tabChildren = true;
	this.__children = [];
	this.__removedChildren = openfl_Vector.toObjectVector(null);
};
$hxClasses["openfl.display.DisplayObjectContainer"] = openfl_display_DisplayObjectContainer;
openfl_display_DisplayObjectContainer.__name__ = "openfl.display.DisplayObjectContainer";
openfl_display_DisplayObjectContainer.__super__ = openfl_display_InteractiveObject;
openfl_display_DisplayObjectContainer.prototype = $extend(openfl_display_InteractiveObject.prototype,{
	mouseChildren: null
	,__removedChildren: null
	,__tabChildren: null
	,addChild: function(child) {
		return this.addChildAt(child,this.get_numChildren());
	}
	,addChildAt: function(child,index) {
		if(child == null) {
			var error = new openfl_errors_TypeError("Error #2007: Parameter child must be non-null.");
			error.errorID = 2007;
			throw haxe_Exception.thrown(error);
		} else if(child.stage == child) {
			var error = new openfl_errors_ArgumentError("Error #3783: A Stage object cannot be added as the child of another object.");
			error.errorID = 3783;
			throw haxe_Exception.thrown(error);
		}
		if(index > this.__children.length || index < 0) {
			throw haxe_Exception.thrown("Invalid index position " + index);
		}
		if(child.parent == this) {
			if(this.__children[index] != child) {
				HxOverrides.remove(this.__children,child);
				this.__children.splice(index,0,child);
				if(!this.__renderDirty) {
					this.__renderDirty = true;
					this.__setParentRenderDirty();
				}
			}
		} else {
			if(child.parent != null) {
				child.parent.removeChild(child);
			}
			this.__children.splice(index,0,child);
			child.parent = this;
			var addedToStage = this.stage != null && child.stage == null;
			if(addedToStage) {
				child.__setStageReference(this.stage);
			}
			child.__setTransformDirty();
			if(!child.__renderDirty) {
				child.__renderDirty = true;
				child.__setParentRenderDirty();
			}
			if(!this.__renderDirty) {
				this.__renderDirty = true;
				this.__setParentRenderDirty();
			}
			var event = new openfl_events_Event("added");
			event.bubbles = true;
			event.target = child;
			child.__dispatchWithCapture(event);
			if(addedToStage) {
				event = new openfl_events_Event("addedToStage",false,false);
				child.__dispatchWithCapture(event);
				child.__dispatchChildren(event);
			}
		}
		return child;
	}
	,areInaccessibleObjectsUnderPoint: function(point) {
		return false;
	}
	,contains: function(child) {
		while(child != this && child != null) child = child.parent;
		return child == this;
	}
	,getChildAt: function(index) {
		if(index >= 0 && index < this.__children.length) {
			return this.__children[index];
		}
		return null;
	}
	,getChildByName: function(name) {
		var _g = 0;
		var _g1 = this.__children;
		while(_g < _g1.length) {
			var child = _g1[_g];
			++_g;
			if(child.get_name() == name) {
				return child;
			}
		}
		return null;
	}
	,getChildIndex: function(child) {
		var _g = 0;
		var _g1 = this.__children.length;
		while(_g < _g1) {
			var i = _g++;
			if(this.__children[i] == child) {
				return i;
			}
		}
		return -1;
	}
	,getObjectsUnderPoint: function(point) {
		var stack = [];
		this.__hitTest(point.x,point.y,false,stack,false,this);
		stack.reverse();
		return stack;
	}
	,removeChild: function(child) {
		if(child != null && child.parent == this) {
			child.__setTransformDirty();
			if(!child.__renderDirty) {
				child.__renderDirty = true;
				child.__setParentRenderDirty();
			}
			if(!this.__renderDirty) {
				this.__renderDirty = true;
				this.__setParentRenderDirty();
			}
			var event = new openfl_events_Event("removed",true);
			child.__dispatchWithCapture(event);
			if(this.stage != null) {
				if(child.stage != null && this.stage.get_focus() == child) {
					this.stage.set_focus(null);
				}
				var event = new openfl_events_Event("removedFromStage",false,false);
				child.__dispatchWithCapture(event);
				child.__dispatchChildren(event);
				child.__setStageReference(null);
			}
			child.parent = null;
			HxOverrides.remove(this.__children,child);
			this.__removedChildren.push(child);
			child.__setTransformDirty();
		}
		return child;
	}
	,removeChildAt: function(index) {
		if(index >= 0 && index < this.__children.length) {
			return this.removeChild(this.__children[index]);
		}
		return null;
	}
	,removeChildren: function(beginIndex,endIndex) {
		if(endIndex == null) {
			endIndex = 2147483647;
		}
		if(beginIndex == null) {
			beginIndex = 0;
		}
		if(endIndex == 2147483647) {
			endIndex = this.__children.length - 1;
			if(endIndex < 0) {
				return;
			}
		}
		if(beginIndex > this.__children.length - 1) {
			return;
		} else if(endIndex < beginIndex || beginIndex < 0 || endIndex > this.__children.length) {
			throw haxe_Exception.thrown(new openfl_errors_RangeError("The supplied index is out of bounds."));
		}
		var numRemovals = endIndex - beginIndex;
		while(numRemovals >= 0) {
			this.removeChildAt(beginIndex);
			--numRemovals;
		}
	}
	,resolve: function(fieldName) {
		if(this.__children == null) {
			return null;
		}
		var _g = 0;
		var _g1 = this.__children;
		while(_g < _g1.length) {
			var child = _g1[_g];
			++_g;
			if(child.get_name() == fieldName) {
				return child;
			}
		}
		return null;
	}
	,setChildIndex: function(child,index) {
		if(index >= 0 && index <= this.__children.length && child.parent == this) {
			HxOverrides.remove(this.__children,child);
			this.__children.splice(index,0,child);
		}
	}
	,stopAllMovieClips: function() {
		this.__stopAllMovieClips();
	}
	,swapChildren: function(child1,child2) {
		if(child1.parent == this && child2.parent == this) {
			var index1 = this.__children.indexOf(child1);
			var index2 = this.__children.indexOf(child2);
			this.__children[index1] = child2;
			this.__children[index2] = child1;
			if(!this.__renderDirty) {
				this.__renderDirty = true;
				this.__setParentRenderDirty();
			}
		}
	}
	,swapChildrenAt: function(index1,index2) {
		var swap = this.__children[index1];
		this.__children[index1] = this.__children[index2];
		this.__children[index2] = swap;
		swap = null;
		if(!this.__renderDirty) {
			this.__renderDirty = true;
			this.__setParentRenderDirty();
		}
	}
	,__cleanup: function() {
		openfl_display_InteractiveObject.prototype.__cleanup.call(this);
		var _g = 0;
		var _g1 = this.__children;
		while(_g < _g1.length) {
			var child = _g1[_g];
			++_g;
			child.__cleanup();
		}
		var orphan = this.__removedChildren.iterator();
		while(orphan.hasNext()) {
			var orphan1 = orphan.next();
			if(orphan1.stage == null) {
				orphan1.__cleanup();
			}
		}
		this.__removedChildren.set_length(0);
	}
	,__cleanupRemovedChildren: function() {
		var orphan = this.__removedChildren.iterator();
		while(orphan.hasNext()) {
			var orphan1 = orphan.next();
			if(orphan1.stage == null) {
				orphan1.__cleanup();
			}
		}
		this.__removedChildren.set_length(0);
	}
	,__dispatchChildren: function(event) {
		if(this.__children != null) {
			var _g = 0;
			var _g1 = this.__children;
			while(_g < _g1.length) {
				var child = _g1[_g];
				++_g;
				event.target = child;
				if(!child.__dispatchWithCapture(event)) {
					break;
				}
				child.__dispatchChildren(event);
			}
		}
	}
	,__enterFrame: function(deltaTime) {
		var _g = 0;
		var _g1 = this.__children;
		while(_g < _g1.length) {
			var child = _g1[_g];
			++_g;
			child.__enterFrame(deltaTime);
		}
	}
	,__getBounds: function(rect,matrix) {
		openfl_display_InteractiveObject.prototype.__getBounds.call(this,rect,matrix);
		if(this.__children.length == 0) {
			return;
		}
		var childWorldTransform = openfl_geom_Matrix.__pool.get();
		var _g = 0;
		var _g1 = this.__children;
		while(_g < _g1.length) {
			var child = _g1[_g];
			++_g;
			if(child.__scaleX == 0 || child.__scaleY == 0) {
				continue;
			}
			var local = child.__transform;
			childWorldTransform.a = local.a * matrix.a + local.b * matrix.c;
			childWorldTransform.b = local.a * matrix.b + local.b * matrix.d;
			childWorldTransform.c = local.c * matrix.a + local.d * matrix.c;
			childWorldTransform.d = local.c * matrix.b + local.d * matrix.d;
			childWorldTransform.tx = local.tx * matrix.a + local.ty * matrix.c + matrix.tx;
			childWorldTransform.ty = local.tx * matrix.b + local.ty * matrix.d + matrix.ty;
			child.__getBounds(rect,childWorldTransform);
		}
		openfl_geom_Matrix.__pool.release(childWorldTransform);
	}
	,__getFilterBounds: function(rect,matrix) {
		openfl_display_InteractiveObject.prototype.__getFilterBounds.call(this,rect,matrix);
		if(this.__scrollRect != null) {
			return;
		}
		if(this.__children.length == 0) {
			return;
		}
		var childWorldTransform = openfl_geom_Matrix.__pool.get();
		var _g = 0;
		var _g1 = this.__children;
		while(_g < _g1.length) {
			var child = _g1[_g];
			++_g;
			if(child.__scaleX == 0 || child.__scaleY == 0 || child.__isMask) {
				continue;
			}
			var local = child.__transform;
			childWorldTransform.a = local.a * matrix.a + local.b * matrix.c;
			childWorldTransform.b = local.a * matrix.b + local.b * matrix.d;
			childWorldTransform.c = local.c * matrix.a + local.d * matrix.c;
			childWorldTransform.d = local.c * matrix.b + local.d * matrix.d;
			childWorldTransform.tx = local.tx * matrix.a + local.ty * matrix.c + matrix.tx;
			childWorldTransform.ty = local.tx * matrix.b + local.ty * matrix.d + matrix.ty;
			var childRect = openfl_geom_Rectangle.__pool.get();
			child.__getFilterBounds(childRect,childWorldTransform);
			rect.__expand(childRect.x,childRect.y,childRect.width,childRect.height);
			openfl_geom_Rectangle.__pool.release(childRect);
		}
		openfl_geom_Matrix.__pool.release(childWorldTransform);
	}
	,__getRenderBounds: function(rect,matrix) {
		if(this.__scrollRect != null) {
			openfl_display_InteractiveObject.prototype.__getRenderBounds.call(this,rect,matrix);
			return;
		} else {
			openfl_display_InteractiveObject.prototype.__getBounds.call(this,rect,matrix);
		}
		if(this.__children.length == 0) {
			return;
		}
		var childWorldTransform = openfl_geom_Matrix.__pool.get();
		var _g = 0;
		var _g1 = this.__children;
		while(_g < _g1.length) {
			var child = _g1[_g];
			++_g;
			if(child.__scaleX == 0 || child.__scaleY == 0 || child.__isMask) {
				continue;
			}
			var local = child.__transform;
			childWorldTransform.a = local.a * matrix.a + local.b * matrix.c;
			childWorldTransform.b = local.a * matrix.b + local.b * matrix.d;
			childWorldTransform.c = local.c * matrix.a + local.d * matrix.c;
			childWorldTransform.d = local.c * matrix.b + local.d * matrix.d;
			childWorldTransform.tx = local.tx * matrix.a + local.ty * matrix.c + matrix.tx;
			childWorldTransform.ty = local.tx * matrix.b + local.ty * matrix.d + matrix.ty;
			child.__getRenderBounds(rect,childWorldTransform);
		}
		openfl_geom_Matrix.__pool.release(childWorldTransform);
	}
	,__hitTest: function(x,y,shapeFlag,stack,interactiveOnly,hitObject) {
		if(!hitObject.get_visible() || this.__isMask || interactiveOnly && !this.mouseEnabled && !this.mouseChildren) {
			return false;
		}
		if(this.get_mask() != null && !this.get_mask().__hitTestMask(x,y)) {
			return false;
		}
		if(this.__scrollRect != null) {
			var point = openfl_geom_Point.__pool.get();
			point.setTo(x,y);
			var _this = this.__getRenderTransform();
			var norm = _this.a * _this.d - _this.b * _this.c;
			if(norm == 0) {
				point.x = -_this.tx;
				point.y = -_this.ty;
			} else {
				var px = 1.0 / norm * (_this.c * (_this.ty - point.y) + _this.d * (point.x - _this.tx));
				point.y = 1.0 / norm * (_this.a * (point.y - _this.ty) + _this.b * (_this.tx - point.x));
				point.x = px;
			}
			if(!this.__scrollRect.containsPoint(point)) {
				openfl_geom_Point.__pool.release(point);
				return false;
			}
			openfl_geom_Point.__pool.release(point);
		}
		var i = this.__children.length;
		if(interactiveOnly) {
			if(stack == null || !this.mouseChildren) {
				while(--i >= 0) if(this.__children[i].__hitTest(x,y,shapeFlag,null,true,this.__children[i])) {
					if(stack != null) {
						stack.push(hitObject);
					}
					return true;
				}
			} else if(stack != null) {
				var length = stack.length;
				var interactive = false;
				var hitTest = false;
				while(--i >= 0) {
					interactive = this.__children[i].__getInteractive(null);
					if(interactive || this.mouseEnabled && !hitTest) {
						if(this.__children[i].__hitTest(x,y,shapeFlag,stack,true,this.__children[i])) {
							hitTest = true;
							if(interactive && stack.length > length) {
								break;
							}
						}
					}
				}
				if(hitTest) {
					stack.splice(length,0,hitObject);
					return true;
				}
			}
		} else {
			var hitTest = false;
			while(--i >= 0) if(this.__children[i].__hitTest(x,y,shapeFlag,stack,false,this.__children[i])) {
				hitTest = true;
				if(stack == null) {
					break;
				}
			}
			return hitTest;
		}
		return false;
	}
	,__hitTestMask: function(x,y) {
		var i = this.__children.length;
		while(--i >= 0) if(this.__children[i].__hitTestMask(x,y)) {
			return true;
		}
		return false;
	}
	,__readGraphicsData: function(graphicsData,recurse) {
		openfl_display_InteractiveObject.prototype.__readGraphicsData.call(this,graphicsData,recurse);
		if(recurse) {
			var _g = 0;
			var _g1 = this.__children;
			while(_g < _g1.length) {
				var child = _g1[_g];
				++_g;
				child.__readGraphicsData(graphicsData,recurse);
			}
		}
	}
	,__setStageReference: function(stage) {
		openfl_display_InteractiveObject.prototype.__setStageReference.call(this,stage);
		if(this.__children != null) {
			var _g = 0;
			var _g1 = this.__children;
			while(_g < _g1.length) {
				var child = _g1[_g];
				++_g;
				child.__setStageReference(stage);
			}
		}
	}
	,__setWorldTransformInvalid: function() {
		if(!this.__worldTransformInvalid) {
			this.__worldTransformInvalid = true;
			if(this.__children != null) {
				var _g = 0;
				var _g1 = this.__children;
				while(_g < _g1.length) {
					var child = _g1[_g];
					++_g;
					child.__setWorldTransformInvalid();
				}
			}
		}
	}
	,__stopAllMovieClips: function() {
		var _g = 0;
		var _g1 = this.__children;
		while(_g < _g1.length) {
			var child = _g1[_g];
			++_g;
			child.__stopAllMovieClips();
		}
	}
	,__tabTest: function(stack) {
		openfl_display_InteractiveObject.prototype.__tabTest.call(this,stack);
		if(!this.get_tabChildren()) {
			return;
		}
		var interactive = false;
		var interactiveObject = null;
		var _g = 0;
		var _g1 = this.__children;
		while(_g < _g1.length) {
			var child = _g1[_g];
			++_g;
			interactive = child.__getInteractive(null);
			if(interactive) {
				interactiveObject = child;
				interactiveObject.__tabTest(stack);
			}
		}
	}
	,__update: function(transformOnly,updateChildren) {
		openfl_display_InteractiveObject.prototype.__update.call(this,transformOnly,updateChildren);
		if(updateChildren) {
			var _g = 0;
			var _g1 = this.__children;
			while(_g < _g1.length) {
				var child = _g1[_g];
				++_g;
				child.__update(transformOnly,true);
			}
		}
	}
	,get_numChildren: function() {
		return this.__children.length;
	}
	,get_tabChildren: function() {
		return this.__tabChildren;
	}
	,set_tabChildren: function(value) {
		if(this.__tabChildren != value) {
			this.__tabChildren = value;
			this.dispatchEvent(new openfl_events_Event("tabChildrenChange",true,false));
		}
		return this.__tabChildren;
	}
	,__class__: openfl_display_DisplayObjectContainer
	,__properties__: $extend(openfl_display_InteractiveObject.prototype.__properties__,{set_tabChildren:"set_tabChildren",get_tabChildren:"get_tabChildren",get_numChildren:"get_numChildren"})
});
var openfl_display_Sprite = function() {
	openfl_display_DisplayObjectContainer.call(this);
	this.__drawableType = 4;
	this.__buttonMode = false;
	this.useHandCursor = true;
};
$hxClasses["openfl.display.Sprite"] = openfl_display_Sprite;
openfl_display_Sprite.__name__ = "openfl.display.Sprite";
openfl_display_Sprite.__super__ = openfl_display_DisplayObjectContainer;
openfl_display_Sprite.prototype = $extend(openfl_display_DisplayObjectContainer.prototype,{
	dropTarget: null
	,hitArea: null
	,useHandCursor: null
	,__buttonMode: null
	,startDrag: function(lockCenter,bounds) {
		if(lockCenter == null) {
			lockCenter = false;
		}
		if(this.stage != null) {
			this.stage.__startDrag(this,lockCenter,bounds);
		}
	}
	,stopDrag: function() {
		if(this.stage != null) {
			this.stage.__stopDrag(this);
		}
	}
	,__getCursor: function() {
		if(this.__buttonMode && this.useHandCursor) {
			return "button";
		} else {
			return null;
		}
	}
	,__hitTest: function(x,y,shapeFlag,stack,interactiveOnly,hitObject) {
		if(interactiveOnly && !this.mouseEnabled && !this.mouseChildren) {
			return false;
		}
		if(!hitObject.get_visible() || this.__isMask) {
			return this.__hitTestHitArea(x,y,shapeFlag,stack,interactiveOnly,hitObject);
		}
		if(this.get_mask() != null && !this.get_mask().__hitTestMask(x,y)) {
			return this.__hitTestHitArea(x,y,shapeFlag,stack,interactiveOnly,hitObject);
		}
		if(this.__scrollRect != null) {
			var point = openfl_geom_Point.__pool.get();
			point.setTo(x,y);
			var _this = this.__getRenderTransform();
			var norm = _this.a * _this.d - _this.b * _this.c;
			if(norm == 0) {
				point.x = -_this.tx;
				point.y = -_this.ty;
			} else {
				var px = 1.0 / norm * (_this.c * (_this.ty - point.y) + _this.d * (point.x - _this.tx));
				point.y = 1.0 / norm * (_this.a * (point.y - _this.ty) + _this.b * (_this.tx - point.x));
				point.x = px;
			}
			if(!this.__scrollRect.containsPoint(point)) {
				openfl_geom_Point.__pool.release(point);
				return this.__hitTestHitArea(x,y,shapeFlag,stack,true,hitObject);
			}
			openfl_geom_Point.__pool.release(point);
		}
		if(openfl_display_DisplayObjectContainer.prototype.__hitTest.call(this,x,y,shapeFlag,stack,interactiveOnly,hitObject)) {
			if(stack != null) {
				return interactiveOnly;
			} else {
				return true;
			}
		} else if(this.hitArea == null && this.__graphics != null && this.__graphics.__hitTest(x,y,shapeFlag,this.__getRenderTransform())) {
			if(stack != null && (!interactiveOnly || this.mouseEnabled)) {
				stack.push(hitObject);
			}
			return true;
		}
		return this.__hitTestHitArea(x,y,shapeFlag,stack,interactiveOnly,hitObject);
	}
	,__hitTestHitArea: function(x,y,shapeFlag,stack,interactiveOnly,hitObject) {
		if(this.hitArea != null) {
			if(!this.hitArea.mouseEnabled) {
				this.hitArea.mouseEnabled = true;
				var hitTest = this.hitArea.__hitTest(x,y,shapeFlag,null,true,hitObject);
				this.hitArea.mouseEnabled = false;
				if(stack != null && hitTest) {
					stack[stack.length] = hitObject;
				}
				return hitTest;
			}
		}
		return false;
	}
	,__hitTestMask: function(x,y) {
		if(openfl_display_DisplayObjectContainer.prototype.__hitTestMask.call(this,x,y)) {
			return true;
		} else if(this.__graphics != null && this.__graphics.__hitTest(x,y,true,this.__getRenderTransform())) {
			return true;
		}
		return false;
	}
	,get_graphics: function() {
		if(this.__graphics == null) {
			this.__graphics = new openfl_display_Graphics(this);
		}
		return this.__graphics;
	}
	,get_tabEnabled: function() {
		if(this.__tabEnabled == null) {
			return this.__buttonMode;
		} else {
			return this.__tabEnabled;
		}
	}
	,get_buttonMode: function() {
		return this.__buttonMode;
	}
	,set_buttonMode: function(value) {
		return this.__buttonMode = value;
	}
	,__class__: openfl_display_Sprite
	,__properties__: $extend(openfl_display_DisplayObjectContainer.prototype.__properties__,{get_graphics:"get_graphics",set_buttonMode:"set_buttonMode",get_buttonMode:"get_buttonMode"})
});
var Main = function() {
	this.startFullscreen = false;
	this.skipSplash = true;
	this.framerate = 120;
	this.zoom = -1;
	this.initialState = TitleState;
	this.gameHeight = 720;
	this.gameWidth = 1280;
	openfl_display_Sprite.call(this);
	if(this.stage != null) {
		this.init();
	} else {
		this.addEventListener("addedToStage",$bind(this,this.init));
	}
};
$hxClasses["Main"] = Main;
Main.__name__ = "Main";
Main.main = function() {
	openfl_Lib.get_current().addChild(new Main());
};
Main.webmHandler = null;
Main.__super__ = openfl_display_Sprite;
Main.prototype = $extend(openfl_display_Sprite.prototype,{
	gameWidth: null
	,gameHeight: null
	,initialState: null
	,zoom: null
	,framerate: null
	,skipSplash: null
	,startFullscreen: null
	,init: function(E) {
		if(this.hasEventListener("addedToStage")) {
			this.removeEventListener("addedToStage",$bind(this,this.init));
		}
		this.setupGame();
	}
	,setupGame: function() {
		var stageWidth = openfl_Lib.get_current().stage.stageWidth;
		var stageHeight = openfl_Lib.get_current().stage.stageHeight;
		if(this.zoom == -1) {
			var ratioX = stageWidth / this.gameWidth;
			var ratioY = stageHeight / this.gameHeight;
			this.zoom = Math.min(ratioX,ratioY);
			this.gameWidth = Math.ceil(stageWidth / this.zoom);
			this.gameHeight = Math.ceil(stageHeight / this.zoom);
		}
		this.game = new flixel_FlxGame(this.gameWidth,this.gameHeight,this.initialState,this.zoom,this.framerate,this.framerate,this.skipSplash,this.startFullscreen);
		this.addChild(this.game);
		this.fpsCounter = new openfl_display_FPS(10,3,16777215);
		this.addChild(this.fpsCounter);
		this.toggleFPS(flixel_FlxG.save.data.fps);
	}
	,game: null
	,fpsCounter: null
	,toggleFPS: function(fpsEnabled) {
		this.fpsCounter.set_visible(fpsEnabled);
	}
	,changeFPSColor: function(color) {
		this.fpsCounter.set_textColor(color);
	}
	,setFPSCap: function(cap) {
		openfl_Lib.get_current().stage.set_frameRate(cap);
	}
	,getFPSCap: function() {
		return openfl_Lib.get_current().stage.get_frameRate();
	}
	,getFPS: function() {
		return this.fpsCounter.currentFPS;
	}
	,__class__: Main
});
var DocumentClass = function(current) {
	current.addChild(this);
	Main.call(this);
	this.dispatchEvent(new openfl_events_Event("addedToStage",false,false));
};
$hxClasses["DocumentClass"] = DocumentClass;
DocumentClass.__name__ = "DocumentClass";
DocumentClass.__super__ = Main;
DocumentClass.prototype = $extend(Main.prototype,{
	__class__: DocumentClass
});
var BackgroundDancer = function(x,y) {
	this.danceDir = false;
	flixel_FlxSprite.call(this,x,y);
	var usecahce = flixel_FlxG.save.data.cacheImages;
	usecahce = false;
	this.set_frames(flixel_graphics_frames_FlxAtlasFrames.fromSparrow(Paths.getPath("images/" + "limo/limoDancer" + ".png","IMAGE","week4"),Paths.getPath("images/" + "limo/limoDancer" + ".xml","TEXT","week4")));
	this.animation.addByIndices("danceLeft","bg dancer sketch PINK",[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14],"",24,false);
	this.animation.addByIndices("danceRight","bg dancer sketch PINK",[15,16,17,18,19,20,21,22,23,24,25,26,27,28,29],"",24,false);
	this.animation.play("danceLeft");
	if(flixel_FlxG.save.data.antialiasing) {
		this.set_antialiasing(true);
	}
};
$hxClasses["BackgroundDancer"] = BackgroundDancer;
BackgroundDancer.__name__ = "BackgroundDancer";
BackgroundDancer.__super__ = flixel_FlxSprite;
BackgroundDancer.prototype = $extend(flixel_FlxSprite.prototype,{
	danceDir: null
	,dance: function() {
		this.danceDir = !this.danceDir;
		if(this.danceDir) {
			this.animation.play("danceRight",true);
		} else {
			this.animation.play("danceLeft",true);
		}
	}
	,__class__: BackgroundDancer
});
var BackgroundGirls = function(x,y) {
	this.danceDir = false;
	flixel_FlxSprite.call(this,x,y);
	var usecahce = flixel_FlxG.save.data.cacheImages;
	usecahce = false;
	this.set_frames(flixel_graphics_frames_FlxAtlasFrames.fromSparrow(Paths.getPath("images/" + "weeb/bgFreaks" + ".png","IMAGE","week6"),Paths.getPath("images/" + "weeb/bgFreaks" + ".xml","TEXT","week6")));
	this.animation.addByIndices("danceLeft","BG girls group",CoolUtil.numberArray(14),"",24,false);
	this.animation.addByIndices("danceRight","BG girls group",CoolUtil.numberArray(30,15),"",24,false);
	this.animation.play("danceLeft");
};
$hxClasses["BackgroundGirls"] = BackgroundGirls;
BackgroundGirls.__name__ = "BackgroundGirls";
BackgroundGirls.__super__ = flixel_FlxSprite;
BackgroundGirls.prototype = $extend(flixel_FlxSprite.prototype,{
	danceDir: null
	,getScared: function() {
		this.animation.addByIndices("danceLeft","BG fangirls dissuaded",CoolUtil.numberArray(14),"",24,false);
		this.animation.addByIndices("danceRight","BG fangirls dissuaded",CoolUtil.numberArray(30,15),"",24,false);
		this.dance();
	}
	,dance: function() {
		this.danceDir = !this.danceDir;
		if(this.danceDir) {
			this.animation.play("danceRight",true);
		} else {
			this.animation.play("danceLeft",true);
		}
	}
	,__class__: BackgroundGirls
});
var Character = function(x,y,character,isPlayer) {
	if(isPlayer == null) {
		isPlayer = false;
	}
	if(character == null) {
		character = "bf";
	}
	this.danced = false;
	this.holdTimer = 0;
	this.curCharacter = "bf";
	this.isPlayer = false;
	this.debugMode = false;
	flixel_FlxSprite.call(this,x,y);
	this.animOffsets = new haxe_ds_StringMap();
	this.curCharacter = character;
	this.isPlayer = isPlayer;
	var tex;
	if(flixel_FlxG.save.data.antialiasing) {
		this.set_antialiasing(true);
	}
	switch(this.curCharacter) {
	case "bf":
		var isCharacter = true;
		if(isCharacter == null) {
			isCharacter = false;
		}
		var usecahce = flixel_FlxG.save.data.cacheImages;
		usecahce = false;
		var tex1 = isCharacter ? usecahce ? null : flixel_graphics_frames_FlxAtlasFrames.fromSparrow(Paths.getPath("images/" + ("characters/" + "BOYFRIEND") + ".png","IMAGE","shared"),Paths.getPath("images/characters/" + "BOYFRIEND" + ".xml","TEXT","shared")) : flixel_graphics_frames_FlxAtlasFrames.fromSparrow(Paths.getPath("images/" + "BOYFRIEND" + ".png","IMAGE","shared"),Paths.getPath("images/" + "BOYFRIEND" + ".xml","TEXT","shared"));
		this.set_frames(tex1);
		haxe_Log.trace(tex1.frames.length,{ fileName : "source/Character.hx", lineNumber : 216, className : "Character", methodName : "new"});
		this.animation.addByPrefix("idle","BF idle dance",24,false);
		this.animation.addByPrefix("singUP","BF NOTE UP0",24,false);
		this.animation.addByPrefix("singLEFT","BF NOTE LEFT0",24,false);
		this.animation.addByPrefix("singRIGHT","BF NOTE RIGHT0",24,false);
		this.animation.addByPrefix("singDOWN","BF NOTE DOWN0",24,false);
		this.animation.addByPrefix("singUPmiss","BF NOTE UP MISS",24,false);
		this.animation.addByPrefix("singLEFTmiss","BF NOTE LEFT MISS",24,false);
		this.animation.addByPrefix("singRIGHTmiss","BF NOTE RIGHT MISS",24,false);
		this.animation.addByPrefix("singDOWNmiss","BF NOTE DOWN MISS",24,false);
		this.animation.addByPrefix("hey","BF HEY",24,false);
		this.animation.addByPrefix("firstDeath","BF dies",24,false);
		this.animation.addByPrefix("deathLoop","BF Dead Loop",24,false);
		this.animation.addByPrefix("deathConfirm","BF Dead confirm",24,false);
		this.animation.addByPrefix("scared","BF idle shaking",24);
		this.loadOffsetFile(this.curCharacter);
		this.playAnim("idle");
		this.set_flipX(true);
		break;
	case "bf-car":
		var isCharacter = true;
		if(isCharacter == null) {
			isCharacter = false;
		}
		var usecahce = flixel_FlxG.save.data.cacheImages;
		usecahce = false;
		var tex1 = isCharacter ? usecahce ? null : flixel_graphics_frames_FlxAtlasFrames.fromSparrow(Paths.getPath("images/" + ("characters/" + "bfCar") + ".png","IMAGE","shared"),Paths.getPath("images/characters/" + "bfCar" + ".xml","TEXT","shared")) : flixel_graphics_frames_FlxAtlasFrames.fromSparrow(Paths.getPath("images/" + "bfCar" + ".png","IMAGE","shared"),Paths.getPath("images/" + "bfCar" + ".xml","TEXT","shared"));
		this.set_frames(tex1);
		this.animation.addByPrefix("idle","BF idle dance",24,false);
		this.animation.addByPrefix("singUP","BF NOTE UP0",24,false);
		this.animation.addByPrefix("singLEFT","BF NOTE LEFT0",24,false);
		this.animation.addByPrefix("singRIGHT","BF NOTE RIGHT0",24,false);
		this.animation.addByPrefix("singDOWN","BF NOTE DOWN0",24,false);
		this.animation.addByPrefix("singUPmiss","BF NOTE UP MISS",24,false);
		this.animation.addByPrefix("singLEFTmiss","BF NOTE LEFT MISS",24,false);
		this.animation.addByPrefix("singRIGHTmiss","BF NOTE RIGHT MISS",24,false);
		this.animation.addByPrefix("singDOWNmiss","BF NOTE DOWN MISS",24,false);
		this.loadOffsetFile(this.curCharacter);
		this.playAnim("idle");
		this.set_flipX(true);
		break;
	case "bf-christmas":
		var isCharacter = true;
		if(isCharacter == null) {
			isCharacter = false;
		}
		var usecahce = flixel_FlxG.save.data.cacheImages;
		usecahce = false;
		var tex1 = isCharacter ? usecahce ? null : flixel_graphics_frames_FlxAtlasFrames.fromSparrow(Paths.getPath("images/" + ("characters/" + "bfChristmas") + ".png","IMAGE","shared"),Paths.getPath("images/characters/" + "bfChristmas" + ".xml","TEXT","shared")) : flixel_graphics_frames_FlxAtlasFrames.fromSparrow(Paths.getPath("images/" + "bfChristmas" + ".png","IMAGE","shared"),Paths.getPath("images/" + "bfChristmas" + ".xml","TEXT","shared"));
		this.set_frames(tex1);
		this.animation.addByPrefix("idle","BF idle dance",24,false);
		this.animation.addByPrefix("singUP","BF NOTE UP0",24,false);
		this.animation.addByPrefix("singLEFT","BF NOTE LEFT0",24,false);
		this.animation.addByPrefix("singRIGHT","BF NOTE RIGHT0",24,false);
		this.animation.addByPrefix("singDOWN","BF NOTE DOWN0",24,false);
		this.animation.addByPrefix("singUPmiss","BF NOTE UP MISS",24,false);
		this.animation.addByPrefix("singLEFTmiss","BF NOTE LEFT MISS",24,false);
		this.animation.addByPrefix("singRIGHTmiss","BF NOTE RIGHT MISS",24,false);
		this.animation.addByPrefix("singDOWNmiss","BF NOTE DOWN MISS",24,false);
		this.animation.addByPrefix("hey","BF HEY",24,false);
		this.loadOffsetFile(this.curCharacter);
		this.playAnim("idle");
		this.set_flipX(true);
		break;
	case "bf-pixel":
		var isCharacter = true;
		if(isCharacter == null) {
			isCharacter = false;
		}
		var usecahce = flixel_FlxG.save.data.cacheImages;
		usecahce = false;
		this.set_frames(isCharacter ? usecahce ? null : flixel_graphics_frames_FlxAtlasFrames.fromSparrow(Paths.getPath("images/" + ("characters/" + "bfPixel") + ".png","IMAGE","shared"),Paths.getPath("images/characters/" + "bfPixel" + ".xml","TEXT","shared")) : flixel_graphics_frames_FlxAtlasFrames.fromSparrow(Paths.getPath("images/" + "bfPixel" + ".png","IMAGE","shared"),Paths.getPath("images/" + "bfPixel" + ".xml","TEXT","shared")));
		this.animation.addByPrefix("idle","BF IDLE",24,false);
		this.animation.addByPrefix("singUP","BF UP NOTE",24,false);
		this.animation.addByPrefix("singLEFT","BF LEFT NOTE",24,false);
		this.animation.addByPrefix("singRIGHT","BF RIGHT NOTE",24,false);
		this.animation.addByPrefix("singDOWN","BF DOWN NOTE",24,false);
		this.animation.addByPrefix("singUPmiss","BF UP MISS",24,false);
		this.animation.addByPrefix("singLEFTmiss","BF LEFT MISS",24,false);
		this.animation.addByPrefix("singRIGHTmiss","BF RIGHT MISS",24,false);
		this.animation.addByPrefix("singDOWNmiss","BF DOWN MISS",24,false);
		this.loadOffsetFile(this.curCharacter);
		this.setGraphicSize(this.get_width() * 6 | 0);
		this.updateHitbox();
		this.playAnim("idle");
		var _g = this;
		_g.set_width(_g.get_width() - 100);
		var _g = this;
		_g.set_height(_g.get_height() - 100);
		this.set_antialiasing(false);
		this.set_flipX(true);
		break;
	case "bf-pixel-dead":
		var isCharacter = true;
		if(isCharacter == null) {
			isCharacter = false;
		}
		var usecahce = flixel_FlxG.save.data.cacheImages;
		usecahce = false;
		this.set_frames(isCharacter ? usecahce ? null : flixel_graphics_frames_FlxAtlasFrames.fromSparrow(Paths.getPath("images/" + ("characters/" + "bfPixelsDEAD") + ".png","IMAGE","shared"),Paths.getPath("images/characters/" + "bfPixelsDEAD" + ".xml","TEXT","shared")) : flixel_graphics_frames_FlxAtlasFrames.fromSparrow(Paths.getPath("images/" + "bfPixelsDEAD" + ".png","IMAGE","shared"),Paths.getPath("images/" + "bfPixelsDEAD" + ".xml","TEXT","shared")));
		this.animation.addByPrefix("singUP","BF Dies pixel",24,false);
		this.animation.addByPrefix("firstDeath","BF Dies pixel",24,false);
		this.animation.addByPrefix("deathLoop","Retry Loop",24,false);
		this.animation.addByPrefix("deathConfirm","RETRY CONFIRM",24,false);
		this.animation.play("firstDeath");
		this.loadOffsetFile(this.curCharacter);
		this.playAnim("firstDeath");
		this.setGraphicSize(this.get_width() * 6 | 0);
		this.updateHitbox();
		this.set_antialiasing(false);
		this.set_flipX(true);
		break;
	case "dad":
		var isCharacter = true;
		if(isCharacter == null) {
			isCharacter = false;
		}
		var usecahce = flixel_FlxG.save.data.cacheImages;
		usecahce = false;
		tex = isCharacter ? usecahce ? null : flixel_graphics_frames_FlxAtlasFrames.fromSparrow(Paths.getPath("images/" + ("characters/" + "DADDY_DEAREST") + ".png","IMAGE","shared"),Paths.getPath("images/characters/" + "DADDY_DEAREST" + ".xml","TEXT","shared")) : flixel_graphics_frames_FlxAtlasFrames.fromSparrow(Paths.getPath("images/" + "DADDY_DEAREST" + ".png","IMAGE","shared"),Paths.getPath("images/" + "DADDY_DEAREST" + ".xml","TEXT","shared"));
		this.set_frames(tex);
		this.animation.addByPrefix("idle","Dad idle dance",24);
		this.animation.addByPrefix("singUP","Dad Sing Note UP",24);
		this.animation.addByPrefix("singRIGHT","Dad Sing Note RIGHT",24);
		this.animation.addByPrefix("singDOWN","Dad Sing Note DOWN",24);
		this.animation.addByPrefix("singLEFT","Dad Sing Note LEFT",24);
		this.loadOffsetFile(this.curCharacter);
		this.playAnim("idle");
		break;
	case "gf":
		var isCharacter = true;
		if(isCharacter == null) {
			isCharacter = false;
		}
		var usecahce = flixel_FlxG.save.data.cacheImages;
		usecahce = false;
		tex = isCharacter ? usecahce ? null : flixel_graphics_frames_FlxAtlasFrames.fromSparrow(Paths.getPath("images/" + ("characters/" + "GF_assets") + ".png","IMAGE","shared"),Paths.getPath("images/characters/" + "GF_assets" + ".xml","TEXT","shared")) : flixel_graphics_frames_FlxAtlasFrames.fromSparrow(Paths.getPath("images/" + "GF_assets" + ".png","IMAGE","shared"),Paths.getPath("images/" + "GF_assets" + ".xml","TEXT","shared"));
		this.set_frames(tex);
		this.animation.addByPrefix("cheer","GF Cheer",24,false);
		this.animation.addByPrefix("singLEFT","GF left note",24,false);
		this.animation.addByPrefix("singRIGHT","GF Right Note",24,false);
		this.animation.addByPrefix("singUP","GF Up Note",24,false);
		this.animation.addByPrefix("singDOWN","GF Down Note",24,false);
		this.animation.addByIndices("sad","gf sad",[0,1,2,3,4,5,6,7,8,9,10,11,12],"",24,false);
		this.animation.addByIndices("danceLeft","GF Dancing Beat",[30,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14],"",24,false);
		this.animation.addByIndices("danceRight","GF Dancing Beat",[15,16,17,18,19,20,21,22,23,24,25,26,27,28,29],"",24,false);
		this.animation.addByIndices("hairBlow","GF Dancing Beat Hair blowing",[0,1,2,3],"",24);
		this.animation.addByIndices("hairFall","GF Dancing Beat Hair Landing",[0,1,2,3,4,5,6,7,8,9,10,11],"",24,false);
		this.animation.addByPrefix("scared","GF FEAR",24);
		this.loadOffsetFile(this.curCharacter);
		this.playAnim("danceRight");
		break;
	case "gf-car":
		var isCharacter = true;
		if(isCharacter == null) {
			isCharacter = false;
		}
		var usecahce = flixel_FlxG.save.data.cacheImages;
		usecahce = false;
		tex = isCharacter ? usecahce ? null : flixel_graphics_frames_FlxAtlasFrames.fromSparrow(Paths.getPath("images/" + ("characters/" + "gfCar") + ".png","IMAGE","shared"),Paths.getPath("images/characters/" + "gfCar" + ".xml","TEXT","shared")) : flixel_graphics_frames_FlxAtlasFrames.fromSparrow(Paths.getPath("images/" + "gfCar" + ".png","IMAGE","shared"),Paths.getPath("images/" + "gfCar" + ".xml","TEXT","shared"));
		this.set_frames(tex);
		this.animation.addByIndices("singUP","GF Dancing Beat Hair blowing CAR",[0],"",24,false);
		this.animation.addByIndices("danceLeft","GF Dancing Beat Hair blowing CAR",[30,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14],"",24,false);
		this.animation.addByIndices("danceRight","GF Dancing Beat Hair blowing CAR",[15,16,17,18,19,20,21,22,23,24,25,26,27,28,29],"",24,false);
		this.loadOffsetFile(this.curCharacter);
		this.playAnim("danceRight");
		break;
	case "gf-christmas":
		var isCharacter = true;
		if(isCharacter == null) {
			isCharacter = false;
		}
		var usecahce = flixel_FlxG.save.data.cacheImages;
		usecahce = false;
		tex = isCharacter ? usecahce ? null : flixel_graphics_frames_FlxAtlasFrames.fromSparrow(Paths.getPath("images/" + ("characters/" + "gfChristmas") + ".png","IMAGE","shared"),Paths.getPath("images/characters/" + "gfChristmas" + ".xml","TEXT","shared")) : flixel_graphics_frames_FlxAtlasFrames.fromSparrow(Paths.getPath("images/" + "gfChristmas" + ".png","IMAGE","shared"),Paths.getPath("images/" + "gfChristmas" + ".xml","TEXT","shared"));
		this.set_frames(tex);
		this.animation.addByPrefix("cheer","GF Cheer",24,false);
		this.animation.addByPrefix("singLEFT","GF left note",24,false);
		this.animation.addByPrefix("singRIGHT","GF Right Note",24,false);
		this.animation.addByPrefix("singUP","GF Up Note",24,false);
		this.animation.addByPrefix("singDOWN","GF Down Note",24,false);
		this.animation.addByIndices("sad","gf sad",[0,1,2,3,4,5,6,7,8,9,10,11,12],"",24,false);
		this.animation.addByIndices("danceLeft","GF Dancing Beat",[30,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14],"",24,false);
		this.animation.addByIndices("danceRight","GF Dancing Beat",[15,16,17,18,19,20,21,22,23,24,25,26,27,28,29],"",24,false);
		this.animation.addByIndices("hairBlow","GF Dancing Beat Hair blowing",[0,1,2,3],"",24);
		this.animation.addByIndices("hairFall","GF Dancing Beat Hair Landing",[0,1,2,3,4,5,6,7,8,9,10,11],"",24,false);
		this.animation.addByPrefix("scared","GF FEAR",24);
		this.loadOffsetFile(this.curCharacter);
		this.playAnim("danceRight");
		break;
	case "gf-pixel":
		var isCharacter = true;
		if(isCharacter == null) {
			isCharacter = false;
		}
		var usecahce = flixel_FlxG.save.data.cacheImages;
		usecahce = false;
		tex = isCharacter ? usecahce ? null : flixel_graphics_frames_FlxAtlasFrames.fromSparrow(Paths.getPath("images/" + ("characters/" + "gfPixel") + ".png","IMAGE","shared"),Paths.getPath("images/characters/" + "gfPixel" + ".xml","TEXT","shared")) : flixel_graphics_frames_FlxAtlasFrames.fromSparrow(Paths.getPath("images/" + "gfPixel" + ".png","IMAGE","shared"),Paths.getPath("images/" + "gfPixel" + ".xml","TEXT","shared"));
		this.set_frames(tex);
		this.animation.addByIndices("singUP","GF IDLE",[2],"",24,false);
		this.animation.addByIndices("danceLeft","GF IDLE",[30,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14],"",24,false);
		this.animation.addByIndices("danceRight","GF IDLE",[15,16,17,18,19,20,21,22,23,24,25,26,27,28,29],"",24,false);
		this.loadOffsetFile(this.curCharacter);
		this.playAnim("danceRight");
		this.setGraphicSize(this.get_width() * PlayState.daPixelZoom | 0);
		this.updateHitbox();
		this.set_antialiasing(false);
		break;
	case "mom":
		var isCharacter = true;
		if(isCharacter == null) {
			isCharacter = false;
		}
		var usecahce = flixel_FlxG.save.data.cacheImages;
		usecahce = false;
		tex = isCharacter ? usecahce ? null : flixel_graphics_frames_FlxAtlasFrames.fromSparrow(Paths.getPath("images/" + ("characters/" + "Mom_Assets") + ".png","IMAGE","shared"),Paths.getPath("images/characters/" + "Mom_Assets" + ".xml","TEXT","shared")) : flixel_graphics_frames_FlxAtlasFrames.fromSparrow(Paths.getPath("images/" + "Mom_Assets" + ".png","IMAGE","shared"),Paths.getPath("images/" + "Mom_Assets" + ".xml","TEXT","shared"));
		this.set_frames(tex);
		this.animation.addByPrefix("idle","Mom Idle",24,false);
		this.animation.addByPrefix("singUP","Mom Up Pose",24,false);
		this.animation.addByPrefix("singDOWN","MOM DOWN POSE",24,false);
		this.animation.addByPrefix("singLEFT","Mom Left Pose",24,false);
		this.animation.addByPrefix("singRIGHT","Mom Pose Left",24,false);
		this.loadOffsetFile(this.curCharacter);
		this.playAnim("idle");
		break;
	case "mom-car":
		var isCharacter = true;
		if(isCharacter == null) {
			isCharacter = false;
		}
		var usecahce = flixel_FlxG.save.data.cacheImages;
		usecahce = false;
		tex = isCharacter ? usecahce ? null : flixel_graphics_frames_FlxAtlasFrames.fromSparrow(Paths.getPath("images/" + ("characters/" + "momCar") + ".png","IMAGE","shared"),Paths.getPath("images/characters/" + "momCar" + ".xml","TEXT","shared")) : flixel_graphics_frames_FlxAtlasFrames.fromSparrow(Paths.getPath("images/" + "momCar" + ".png","IMAGE","shared"),Paths.getPath("images/" + "momCar" + ".xml","TEXT","shared"));
		this.set_frames(tex);
		this.animation.addByPrefix("idle","Mom Idle",24,false);
		this.animation.addByPrefix("singUP","Mom Up Pose",24,false);
		this.animation.addByPrefix("singDOWN","MOM DOWN POSE",24,false);
		this.animation.addByPrefix("singLEFT","Mom Left Pose",24,false);
		this.animation.addByPrefix("singRIGHT","Mom Pose Left",24,false);
		this.loadOffsetFile(this.curCharacter);
		this.playAnim("idle");
		break;
	case "monster":
		var isCharacter = true;
		if(isCharacter == null) {
			isCharacter = false;
		}
		var usecahce = flixel_FlxG.save.data.cacheImages;
		usecahce = false;
		tex = isCharacter ? usecahce ? null : flixel_graphics_frames_FlxAtlasFrames.fromSparrow(Paths.getPath("images/" + ("characters/" + "Monster_Assets") + ".png","IMAGE","shared"),Paths.getPath("images/characters/" + "Monster_Assets" + ".xml","TEXT","shared")) : flixel_graphics_frames_FlxAtlasFrames.fromSparrow(Paths.getPath("images/" + "Monster_Assets" + ".png","IMAGE","shared"),Paths.getPath("images/" + "Monster_Assets" + ".xml","TEXT","shared"));
		this.set_frames(tex);
		this.animation.addByPrefix("idle","monster idle",24,false);
		this.animation.addByPrefix("singUP","monster up note",24,false);
		this.animation.addByPrefix("singDOWN","monster down",24,false);
		this.animation.addByPrefix("singLEFT","Monster left note",24,false);
		this.animation.addByPrefix("singRIGHT","Monster Right note",24,false);
		this.loadOffsetFile(this.curCharacter);
		this.playAnim("idle");
		break;
	case "monster-christmas":
		var isCharacter = true;
		if(isCharacter == null) {
			isCharacter = false;
		}
		var usecahce = flixel_FlxG.save.data.cacheImages;
		usecahce = false;
		tex = isCharacter ? usecahce ? null : flixel_graphics_frames_FlxAtlasFrames.fromSparrow(Paths.getPath("images/" + ("characters/" + "monsterChristmas") + ".png","IMAGE","shared"),Paths.getPath("images/characters/" + "monsterChristmas" + ".xml","TEXT","shared")) : flixel_graphics_frames_FlxAtlasFrames.fromSparrow(Paths.getPath("images/" + "monsterChristmas" + ".png","IMAGE","shared"),Paths.getPath("images/" + "monsterChristmas" + ".xml","TEXT","shared"));
		this.set_frames(tex);
		this.animation.addByPrefix("idle","monster idle",24,false);
		this.animation.addByPrefix("singUP","monster up note",24,false);
		this.animation.addByPrefix("singDOWN","monster down",24,false);
		this.animation.addByPrefix("singLEFT","Monster left note",24,false);
		this.animation.addByPrefix("singRIGHT","Monster Right note",24,false);
		this.loadOffsetFile(this.curCharacter);
		this.playAnim("idle");
		break;
	case "parents-christmas":
		var isCharacter = true;
		if(isCharacter == null) {
			isCharacter = false;
		}
		var usecahce = flixel_FlxG.save.data.cacheImages;
		usecahce = false;
		this.set_frames(isCharacter ? usecahce ? null : flixel_graphics_frames_FlxAtlasFrames.fromSparrow(Paths.getPath("images/" + ("characters/" + "mom_dad_christmas_assets") + ".png","IMAGE","shared"),Paths.getPath("images/characters/" + "mom_dad_christmas_assets" + ".xml","TEXT","shared")) : flixel_graphics_frames_FlxAtlasFrames.fromSparrow(Paths.getPath("images/" + "mom_dad_christmas_assets" + ".png","IMAGE","shared"),Paths.getPath("images/" + "mom_dad_christmas_assets" + ".xml","TEXT","shared")));
		this.animation.addByPrefix("idle","Parent Christmas Idle",24,false);
		this.animation.addByPrefix("singUP","Parent Up Note Dad",24,false);
		this.animation.addByPrefix("singDOWN","Parent Down Note Dad",24,false);
		this.animation.addByPrefix("singLEFT","Parent Left Note Dad",24,false);
		this.animation.addByPrefix("singRIGHT","Parent Right Note Dad",24,false);
		this.animation.addByPrefix("singUP-alt","Parent Up Note Mom",24,false);
		this.animation.addByPrefix("singDOWN-alt","Parent Down Note Mom",24,false);
		this.animation.addByPrefix("singLEFT-alt","Parent Left Note Mom",24,false);
		this.animation.addByPrefix("singRIGHT-alt","Parent Right Note Mom",24,false);
		this.loadOffsetFile(this.curCharacter);
		this.playAnim("idle");
		break;
	case "pico":
		var isCharacter = true;
		if(isCharacter == null) {
			isCharacter = false;
		}
		var usecahce = flixel_FlxG.save.data.cacheImages;
		usecahce = false;
		tex = isCharacter ? usecahce ? null : flixel_graphics_frames_FlxAtlasFrames.fromSparrow(Paths.getPath("images/" + ("characters/" + "Pico_FNF_assetss") + ".png","IMAGE","shared"),Paths.getPath("images/characters/" + "Pico_FNF_assetss" + ".xml","TEXT","shared")) : flixel_graphics_frames_FlxAtlasFrames.fromSparrow(Paths.getPath("images/" + "Pico_FNF_assetss" + ".png","IMAGE","shared"),Paths.getPath("images/" + "Pico_FNF_assetss" + ".xml","TEXT","shared"));
		this.set_frames(tex);
		this.animation.addByPrefix("idle","Pico Idle Dance",24);
		this.animation.addByPrefix("singUP","pico Up note0",24,false);
		this.animation.addByPrefix("singDOWN","Pico Down Note0",24,false);
		if(isPlayer) {
			this.animation.addByPrefix("singLEFT","Pico NOTE LEFT0",24,false);
			this.animation.addByPrefix("singRIGHT","Pico Note Right0",24,false);
			this.animation.addByPrefix("singRIGHTmiss","Pico Note Right Miss",24,false);
			this.animation.addByPrefix("singLEFTmiss","Pico NOTE LEFT miss",24,false);
		} else {
			this.animation.addByPrefix("singLEFT","Pico Note Right0",24,false);
			this.animation.addByPrefix("singRIGHT","Pico NOTE LEFT0",24,false);
			this.animation.addByPrefix("singRIGHTmiss","Pico NOTE LEFT miss",24,false);
			this.animation.addByPrefix("singLEFTmiss","Pico Note Right Miss",24,false);
		}
		this.animation.addByPrefix("singUPmiss","pico Up note miss",24);
		this.animation.addByPrefix("singDOWNmiss","Pico Down Note MISS",24);
		this.loadOffsetFile(this.curCharacter);
		this.playAnim("idle");
		this.set_flipX(true);
		break;
	case "senpai":
		var isCharacter = true;
		if(isCharacter == null) {
			isCharacter = false;
		}
		var usecahce = flixel_FlxG.save.data.cacheImages;
		usecahce = false;
		this.set_frames(isCharacter ? usecahce ? null : flixel_graphics_frames_FlxAtlasFrames.fromSparrow(Paths.getPath("images/" + ("characters/" + "senpai") + ".png","IMAGE","shared"),Paths.getPath("images/characters/" + "senpai" + ".xml","TEXT","shared")) : flixel_graphics_frames_FlxAtlasFrames.fromSparrow(Paths.getPath("images/" + "senpai" + ".png","IMAGE","shared"),Paths.getPath("images/" + "senpai" + ".xml","TEXT","shared")));
		this.animation.addByPrefix("idle","Senpai Idle",24,false);
		this.animation.addByPrefix("singUP","SENPAI UP NOTE",24,false);
		this.animation.addByPrefix("singLEFT","SENPAI LEFT NOTE",24,false);
		this.animation.addByPrefix("singRIGHT","SENPAI RIGHT NOTE",24,false);
		this.animation.addByPrefix("singDOWN","SENPAI DOWN NOTE",24,false);
		this.loadOffsetFile(this.curCharacter);
		this.playAnim("idle");
		this.setGraphicSize(this.get_width() * 6 | 0);
		this.updateHitbox();
		this.set_antialiasing(false);
		break;
	case "senpai-angry":
		var isCharacter = true;
		if(isCharacter == null) {
			isCharacter = false;
		}
		var usecahce = flixel_FlxG.save.data.cacheImages;
		usecahce = false;
		this.set_frames(isCharacter ? usecahce ? null : flixel_graphics_frames_FlxAtlasFrames.fromSparrow(Paths.getPath("images/" + ("characters/" + "senpai") + ".png","IMAGE","shared"),Paths.getPath("images/characters/" + "senpai" + ".xml","TEXT","shared")) : flixel_graphics_frames_FlxAtlasFrames.fromSparrow(Paths.getPath("images/" + "senpai" + ".png","IMAGE","shared"),Paths.getPath("images/" + "senpai" + ".xml","TEXT","shared")));
		this.animation.addByPrefix("idle","Angry Senpai Idle",24,false);
		this.animation.addByPrefix("singUP","Angry Senpai UP NOTE",24,false);
		this.animation.addByPrefix("singLEFT","Angry Senpai LEFT NOTE",24,false);
		this.animation.addByPrefix("singRIGHT","Angry Senpai RIGHT NOTE",24,false);
		this.animation.addByPrefix("singDOWN","Angry Senpai DOWN NOTE",24,false);
		this.loadOffsetFile(this.curCharacter);
		this.playAnim("idle");
		this.setGraphicSize(this.get_width() * 6 | 0);
		this.updateHitbox();
		this.set_antialiasing(false);
		break;
	case "spirit":
		var isCharacter = true;
		if(isCharacter == null) {
			isCharacter = false;
		}
		var usecahce = flixel_FlxG.save.data.cacheImages;
		usecahce = false;
		this.set_frames(isCharacter ? usecahce ? null : flixel_graphics_frames_FlxAtlasFrames.fromSpriteSheetPacker(Paths.getPath("images/" + ("characters/" + "spirit") + ".png","IMAGE",null),Paths.getPath("images/characters/" + "spirit" + ".txt","TEXT","shared")) : flixel_graphics_frames_FlxAtlasFrames.fromSpriteSheetPacker(Paths.getPath("images/" + "spirit" + ".png","IMAGE","shared"),Paths.getPath("images/" + "spirit" + ".txt","TEXT","shared")));
		this.animation.addByPrefix("idle","idle spirit_",24,false);
		this.animation.addByPrefix("singUP","up_",24,false);
		this.animation.addByPrefix("singRIGHT","right_",24,false);
		this.animation.addByPrefix("singLEFT","left_",24,false);
		this.animation.addByPrefix("singDOWN","spirit down_",24,false);
		this.loadOffsetFile(this.curCharacter);
		this.setGraphicSize(this.get_width() * 6 | 0);
		this.updateHitbox();
		this.playAnim("idle");
		this.set_antialiasing(false);
		break;
	case "spooky":
		var isCharacter = true;
		if(isCharacter == null) {
			isCharacter = false;
		}
		var usecahce = flixel_FlxG.save.data.cacheImages;
		usecahce = false;
		tex = isCharacter ? usecahce ? null : flixel_graphics_frames_FlxAtlasFrames.fromSparrow(Paths.getPath("images/" + ("characters/" + "spooky_kids_assets") + ".png","IMAGE","shared"),Paths.getPath("images/characters/" + "spooky_kids_assets" + ".xml","TEXT","shared")) : flixel_graphics_frames_FlxAtlasFrames.fromSparrow(Paths.getPath("images/" + "spooky_kids_assets" + ".png","IMAGE","shared"),Paths.getPath("images/" + "spooky_kids_assets" + ".xml","TEXT","shared"));
		this.set_frames(tex);
		this.animation.addByPrefix("singUP","spooky UP NOTE",24,false);
		this.animation.addByPrefix("singDOWN","spooky DOWN note",24,false);
		this.animation.addByPrefix("singLEFT","note sing left",24,false);
		this.animation.addByPrefix("singRIGHT","spooky sing right",24,false);
		this.animation.addByIndices("danceLeft","spooky dance idle",[0,2,6],"",12,false);
		this.animation.addByIndices("danceRight","spooky dance idle",[8,10,12,14],"",12,false);
		this.loadOffsetFile(this.curCharacter);
		this.playAnim("danceRight");
		break;
	case "void":
		var library = null;
		var usecahce = flixel_FlxG.save.data.cacheImages;
		usecahce = false;
		this.set_frames(flixel_graphics_frames_FlxAtlasFrames.fromSparrow(Paths.getPath("images/" + "characters/void_assets" + ".png","IMAGE",library),Paths.getPath("images/" + "characters/void_assets" + ".xml","TEXT",library)));
		this.animation.addByPrefix("idle","Void Idle",24,false);
		this.animation.addByPrefix("singUP","Void Up Note Chill",20,false);
		this.animation.addByPrefix("singDOWN","Void Down Note Chill",20,false);
		this.animation.addByPrefix("singLEFT","Void Left Note Chill",20,false);
		this.animation.addByPrefix("singRIGHT","Void Right Note Chill",26,false);
		this.animation.addByPrefix("singUP-alt","Void Up Note Hype",20,false);
		this.animation.addByPrefix("singDOWN-alt","Void Down Note Hype",20,false);
		this.animation.addByPrefix("singLEFT-alt","Void Left Note Hype",20,false);
		this.animation.addByPrefix("singRIGHT-alt","Void Right Note Hype",26,false);
		this.animation.addByPrefix("wink","Void Wink",12,false);
		this.animation.addByPrefix("seethe","Void Seethe",24,false);
		this.animation.addByPrefix("sickintro","Void Intro",12,false);
		this.loadOffsetFile(this.curCharacter);
		this.playAnim("idle");
		break;
	}
	this.dance();
	if(isPlayer) {
		this.set_flipX(!this.flipX);
		if(!StringTools.startsWith(this.curCharacter,"bf")) {
			var oldRight = this.animation._animations.h["singRIGHT"].frames;
			this.animation._animations.h["singRIGHT"].frames = this.animation._animations.h["singLEFT"].frames;
			this.animation._animations.h["singLEFT"].frames = oldRight;
			if(this.animation._animations.h["singRIGHTmiss"] != null) {
				var oldMiss = this.animation._animations.h["singRIGHTmiss"].frames;
				this.animation._animations.h["singRIGHTmiss"].frames = this.animation._animations.h["singLEFTmiss"].frames;
				this.animation._animations.h["singLEFTmiss"].frames = oldMiss;
			}
		}
	}
};
$hxClasses["Character"] = Character;
Character.__name__ = "Character";
Character.__super__ = flixel_FlxSprite;
Character.prototype = $extend(flixel_FlxSprite.prototype,{
	animOffsets: null
	,debugMode: null
	,isPlayer: null
	,curCharacter: null
	,holdTimer: null
	,loadOffsetFile: function(character) {
		var offset = CoolUtil.coolTextFile(Paths.getPath("" + ("images/characters/" + character + "Offsets") + ".txt","TEXT","shared"));
		var _g = 0;
		var _g1 = offset.length;
		while(_g < _g1) {
			var i = _g++;
			var data = offset[i].split(" ");
			this.addOffset(data[0],Std.parseInt(data[1]),Std.parseInt(data[2]));
		}
	}
	,update: function(elapsed) {
		if(!StringTools.startsWith(this.curCharacter,"bf")) {
			if(StringTools.startsWith(this.animation._curAnim.name,"sing")) {
				this.holdTimer += elapsed;
			}
			var dadVar = 4;
			if(this.curCharacter == "dad") {
				dadVar = 6.1;
			}
			if(this.holdTimer >= Conductor.stepCrochet * dadVar * 0.001) {
				haxe_Log.trace("dance",{ fileName : "source/Character.hx", lineNumber : 459, className : "Character", methodName : "update"});
				this.dance();
				this.holdTimer = 0;
			}
		}
		if(this.curCharacter == "gf") {
			if(this.animation._curAnim.name == "hairFall" && this.animation._curAnim.finished) {
				this.playAnim("danceRight");
			}
		}
		flixel_FlxSprite.prototype.update.call(this,elapsed);
	}
	,danced: null
	,dance: function(forced) {
		if(forced == null) {
			forced = false;
		}
		if(!this.debugMode) {
			switch(this.curCharacter) {
			case "gf":case "gf-car":case "gf-christmas":case "gf-pixel":
				if(!StringTools.startsWith(this.animation._curAnim.name,"hair")) {
					this.danced = !this.danced;
					if(this.danced) {
						this.playAnim("danceRight");
					} else {
						this.playAnim("danceLeft");
					}
				}
				break;
			case "spooky":
				this.danced = !this.danced;
				if(this.danced) {
					this.playAnim("danceRight");
				} else {
					this.playAnim("danceLeft");
				}
				break;
			default:
				this.playAnim("idle",forced);
			}
		}
	}
	,playAnim: function(AnimName,Force,Reversed,Frame) {
		if(Frame == null) {
			Frame = 0;
		}
		if(Reversed == null) {
			Reversed = false;
		}
		if(Force == null) {
			Force = false;
		}
		this.animation.play(AnimName,Force,Reversed,Frame);
		var daOffset = this.animOffsets.h[AnimName];
		if(Object.prototype.hasOwnProperty.call(this.animOffsets.h,AnimName)) {
			this.offset.set(daOffset[0],daOffset[1]);
		} else {
			this.offset.set(0,0);
		}
		if(this.curCharacter == "gf") {
			if(AnimName == "singLEFT") {
				this.danced = true;
			} else if(AnimName == "singRIGHT") {
				this.danced = false;
			}
			if(AnimName == "singUP" || AnimName == "singDOWN") {
				this.danced = !this.danced;
			}
		}
	}
	,addOffset: function(name,x,y) {
		if(y == null) {
			y = 0;
		}
		if(x == null) {
			x = 0;
		}
		var v = [x,y];
		this.animOffsets.h[name] = v;
	}
	,__class__: Character
});
var Boyfriend = function(x,y,char) {
	if(char == null) {
		char = "bf";
	}
	this.stunned = false;
	Character.call(this,x,y,char,true);
};
$hxClasses["Boyfriend"] = Boyfriend;
Boyfriend.__name__ = "Boyfriend";
Boyfriend.__super__ = Character;
Boyfriend.prototype = $extend(Character.prototype,{
	stunned: null
	,update: function(elapsed) {
		if(!this.debugMode) {
			if(StringTools.startsWith(this.animation._curAnim.name,"sing")) {
				this.holdTimer += elapsed;
			} else {
				this.holdTimer = 0;
			}
			if(StringTools.endsWith(this.animation._curAnim.name,"miss") && this.animation._curAnim.finished && !this.debugMode) {
				this.playAnim("idle",true,false,10);
			}
			if(this.animation._curAnim.name == "firstDeath" && this.animation._curAnim.finished) {
				this.playAnim("deathLoop");
			}
		}
		Character.prototype.update.call(this,elapsed);
	}
	,__class__: Boyfriend
});
var flixel_group_FlxTypedGroup = function(MaxSize) {
	if(MaxSize == null) {
		MaxSize = 0;
	}
	this._marker = 0;
	this.length = 0;
	flixel_FlxBasic.call(this);
	this.members = [];
	this.set_maxSize(Math.abs(MaxSize) | 0);
	this.flixelType = 2;
};
$hxClasses["flixel.group.FlxTypedGroup"] = flixel_group_FlxTypedGroup;
flixel_group_FlxTypedGroup.__name__ = "flixel.group.FlxTypedGroup";
flixel_group_FlxTypedGroup.overlaps = function(Callback,Group,X,Y,InScreenSpace,Camera) {
	var result = false;
	if(Group != null) {
		var i = 0;
		var l = Group.length;
		var basic;
		while(i < l) {
			basic = Group.members[i++];
			if(basic != null && Callback(basic,X,Y,InScreenSpace,Camera)) {
				result = true;
				break;
			}
		}
	}
	return result;
};
flixel_group_FlxTypedGroup.resolveGroup = function(ObjectOrGroup) {
	var group = null;
	if(ObjectOrGroup != null) {
		if(ObjectOrGroup.flixelType == 2) {
			group = ObjectOrGroup;
		} else if(ObjectOrGroup.flixelType == 4) {
			var spriteGroup = ObjectOrGroup;
			group = spriteGroup.group;
		}
	}
	return group;
};
flixel_group_FlxTypedGroup.__super__ = flixel_FlxBasic;
flixel_group_FlxTypedGroup.prototype = $extend(flixel_FlxBasic.prototype,{
	members: null
	,maxSize: null
	,length: null
	,_memberAdded: null
	,_memberRemoved: null
	,_marker: null
	,destroy: function() {
		flixel_FlxBasic.prototype.destroy.call(this);
		flixel_util_FlxDestroyUtil.destroy(this._memberAdded);
		flixel_util_FlxDestroyUtil.destroy(this._memberRemoved);
		if(this.members != null) {
			var i = 0;
			var basic = null;
			while(i < this.length) {
				basic = this.members[i++];
				if(basic != null) {
					basic.destroy();
				}
			}
			this.members = null;
		}
	}
	,update: function(elapsed) {
		var i = 0;
		var basic = null;
		while(i < this.length) {
			basic = this.members[i++];
			if(basic != null && basic.exists && basic.active) {
				basic.update(elapsed);
			}
		}
	}
	,draw: function() {
		var i = 0;
		var basic = null;
		var oldDefaultCameras = flixel_FlxCamera._defaultCameras;
		if(this.get_cameras() != null) {
			flixel_FlxCamera._defaultCameras = this.get_cameras();
		}
		while(i < this.length) {
			basic = this.members[i++];
			if(basic != null && basic.exists && basic.visible) {
				basic.draw();
			}
		}
		flixel_FlxCamera._defaultCameras = oldDefaultCameras;
	}
	,add: function(Object1) {
		if(Object1 == null) {
			return null;
		}
		if(this.members.indexOf(Object1) >= 0) {
			return Object1;
		}
		var index = this.getFirstNull();
		if(index != -1) {
			this.members[index] = Object1;
			if(index >= this.length) {
				this.length = index + 1;
			}
			if(this._memberAdded != null) {
				this._memberAdded.dispatch(Object1);
			}
			return Object1;
		}
		if(this.maxSize > 0 && this.length >= this.maxSize) {
			return Object1;
		}
		this.members.push(Object1);
		this.length++;
		if(this._memberAdded != null) {
			this._memberAdded.dispatch(Object1);
		}
		return Object1;
	}
	,insert: function(position,object) {
		if(object == null) {
			return null;
		}
		if(this.members.indexOf(object) >= 0) {
			return object;
		}
		if(position < this.length && this.members[position] == null) {
			this.members[position] = object;
			if(this._memberAdded != null) {
				this._memberAdded.dispatch(object);
			}
			return object;
		}
		if(this.maxSize > 0 && this.length >= this.maxSize) {
			return object;
		}
		this.members.splice(position,0,object);
		this.length++;
		if(this._memberAdded != null) {
			this._memberAdded.dispatch(object);
		}
		return object;
	}
	,recycle: function(ObjectClass,ObjectFactory,Force,Revive) {
		if(Revive == null) {
			Revive = true;
		}
		if(Force == null) {
			Force = false;
		}
		var basic = null;
		if(this.maxSize > 0) {
			if(this.length < this.maxSize) {
				var object = null;
				if(ObjectFactory != null) {
					object = ObjectFactory();
					this.add(object);
				} else if(ObjectClass != null) {
					object = Type.createInstance(ObjectClass,[]);
					this.add(object);
				}
				return object;
			} else {
				basic = this.members[this._marker++];
				if(this._marker >= this.maxSize) {
					this._marker = 0;
				}
				if(Revive) {
					basic.revive();
				}
				return basic;
			}
		} else {
			basic = this.getFirstAvailable(ObjectClass,Force);
			if(basic != null) {
				if(Revive) {
					basic.revive();
				}
				return basic;
			}
			var object = null;
			if(ObjectFactory != null) {
				object = ObjectFactory();
				this.add(object);
			} else if(ObjectClass != null) {
				object = Type.createInstance(ObjectClass,[]);
				this.add(object);
			}
			return object;
		}
	}
	,recycleCreateObject: function(ObjectClass,ObjectFactory) {
		var object = null;
		if(ObjectFactory != null) {
			object = ObjectFactory();
			this.add(object);
		} else if(ObjectClass != null) {
			object = Type.createInstance(ObjectClass,[]);
			this.add(object);
		}
		return object;
	}
	,remove: function(Object1,Splice) {
		if(Splice == null) {
			Splice = false;
		}
		if(this.members == null) {
			return null;
		}
		var index = this.members.indexOf(Object1);
		if(index < 0) {
			return null;
		}
		if(Splice) {
			this.members.splice(index,1);
			this.length--;
		} else {
			this.members[index] = null;
		}
		if(this._memberRemoved != null) {
			this._memberRemoved.dispatch(Object1);
		}
		return Object1;
	}
	,replace: function(OldObject,NewObject) {
		var index = this.members.indexOf(OldObject);
		if(index < 0) {
			return null;
		}
		this.members[index] = NewObject;
		if(this._memberRemoved != null) {
			this._memberRemoved.dispatch(OldObject);
		}
		if(this._memberAdded != null) {
			this._memberAdded.dispatch(NewObject);
		}
		return NewObject;
	}
	,sort: function(Function1,Order) {
		if(Order == null) {
			Order = -1;
		}
		var _g = Function1;
		var a1 = Order;
		var tmp = function(a2,a3) {
			return _g(a1,a2,a3);
		};
		this.members.sort(tmp);
	}
	,getFirstAvailable: function(ObjectClass,Force) {
		if(Force == null) {
			Force = false;
		}
		var i = 0;
		var basic = null;
		while(i < this.length) {
			basic = this.members[i++];
			if(basic != null && !basic.exists && (ObjectClass == null || js_Boot.__instanceof(basic,ObjectClass))) {
				var tmp;
				if(Force) {
					var c = js_Boot.getClass(basic);
					tmp = c.__name__ != ObjectClass.__name__;
				} else {
					tmp = false;
				}
				if(tmp) {
					continue;
				}
				return this.members[i - 1];
			}
		}
		return null;
	}
	,getFirstNull: function() {
		var i = 0;
		while(i < this.length) {
			if(this.members[i] == null) {
				return i;
			}
			++i;
		}
		return -1;
	}
	,getFirstExisting: function() {
		var i = 0;
		var basic = null;
		while(i < this.length) {
			basic = this.members[i++];
			if(basic != null && basic.exists) {
				return basic;
			}
		}
		return null;
	}
	,getFirstAlive: function() {
		var i = 0;
		var basic = null;
		while(i < this.length) {
			basic = this.members[i++];
			if(basic != null && basic.exists && basic.alive) {
				return basic;
			}
		}
		return null;
	}
	,getFirstDead: function() {
		var i = 0;
		var basic = null;
		while(i < this.length) {
			basic = this.members[i++];
			if(basic != null && !basic.alive) {
				return basic;
			}
		}
		return null;
	}
	,countLiving: function() {
		var i = 0;
		var count = -1;
		var basic = null;
		while(i < this.length) {
			basic = this.members[i++];
			if(basic != null) {
				if(count < 0) {
					count = 0;
				}
				if(basic.exists && basic.alive) {
					++count;
				}
			}
		}
		return count;
	}
	,countDead: function() {
		var i = 0;
		var count = -1;
		var basic = null;
		while(i < this.length) {
			basic = this.members[i++];
			if(basic != null) {
				if(count < 0) {
					count = 0;
				}
				if(!basic.alive) {
					++count;
				}
			}
		}
		return count;
	}
	,getRandom: function(StartIndex,Length) {
		if(Length == null) {
			Length = 0;
		}
		if(StartIndex == null) {
			StartIndex = 0;
		}
		if(StartIndex < 0) {
			StartIndex = 0;
		}
		if(Length <= 0) {
			Length = this.length;
		}
		return flixel_FlxG.random.getObject_flixel_group_FlxTypedGroup_T(this.members,null,StartIndex,Length);
	}
	,clear: function() {
		this.length = 0;
		if(this._memberRemoved != null) {
			var _g = 0;
			var _g1 = this.members;
			while(_g < _g1.length) {
				var member = _g1[_g];
				++_g;
				if(member != null) {
					this._memberRemoved.dispatch(member);
				}
			}
		}
		flixel_util_FlxArrayUtil.clearArray(this.members);
	}
	,kill: function() {
		var i = 0;
		var basic = null;
		while(i < this.length) {
			basic = this.members[i++];
			if(basic != null && basic.exists) {
				basic.kill();
			}
		}
		flixel_FlxBasic.prototype.kill.call(this);
	}
	,revive: function() {
		var i = 0;
		var basic = null;
		while(i < this.length) {
			basic = this.members[i++];
			if(basic != null && !basic.exists) {
				basic.revive();
			}
		}
		flixel_FlxBasic.prototype.revive.call(this);
	}
	,iterator: function(filter) {
		return new flixel_group_FlxTypedGroupIterator(this.members,filter);
	}
	,forEach: function(Function1,Recurse) {
		if(Recurse == null) {
			Recurse = false;
		}
		var i = 0;
		var basic = null;
		while(i < this.length) {
			basic = this.members[i++];
			if(basic != null) {
				if(Recurse) {
					var group = flixel_group_FlxTypedGroup.resolveGroup(basic);
					if(group != null) {
						group.forEach(Function1,Recurse);
					}
				}
				Function1(basic);
			}
		}
	}
	,forEachAlive: function(Function1,Recurse) {
		if(Recurse == null) {
			Recurse = false;
		}
		var i = 0;
		var basic = null;
		while(i < this.length) {
			basic = this.members[i++];
			if(basic != null && basic.exists && basic.alive) {
				if(Recurse) {
					var group = flixel_group_FlxTypedGroup.resolveGroup(basic);
					if(group != null) {
						group.forEachAlive(Function1,Recurse);
					}
				}
				Function1(basic);
			}
		}
	}
	,forEachDead: function(Function1,Recurse) {
		if(Recurse == null) {
			Recurse = false;
		}
		var i = 0;
		var basic = null;
		while(i < this.length) {
			basic = this.members[i++];
			if(basic != null && !basic.alive) {
				if(Recurse) {
					var group = flixel_group_FlxTypedGroup.resolveGroup(basic);
					if(group != null) {
						group.forEachDead(Function1,Recurse);
					}
				}
				Function1(basic);
			}
		}
	}
	,forEachExists: function(Function1,Recurse) {
		if(Recurse == null) {
			Recurse = false;
		}
		var i = 0;
		var basic = null;
		while(i < this.length) {
			basic = this.members[i++];
			if(basic != null && basic.exists) {
				if(Recurse) {
					var group = flixel_group_FlxTypedGroup.resolveGroup(basic);
					if(group != null) {
						group.forEachExists(Function1,Recurse);
					}
				}
				Function1(basic);
			}
		}
	}
	,forEachOfType: function(ObjectClass,Function1,Recurse) {
		if(Recurse == null) {
			Recurse = false;
		}
		var i = 0;
		var basic = null;
		while(i < this.length) {
			basic = this.members[i++];
			if(basic != null) {
				if(Recurse) {
					var group = flixel_group_FlxTypedGroup.resolveGroup(basic);
					if(group != null) {
						group.forEachOfType(ObjectClass,Function1,Recurse);
					}
				}
				if(js_Boot.__instanceof(basic,ObjectClass)) {
					Function1(basic);
				}
			}
		}
	}
	,set_maxSize: function(Size) {
		this.maxSize = Math.abs(Size) | 0;
		if(this._marker >= this.maxSize) {
			this._marker = 0;
		}
		if(this.maxSize == 0 || this.members == null || this.maxSize >= this.length) {
			return this.maxSize;
		}
		var i = this.maxSize;
		var l = this.length;
		var basic = null;
		while(i < l) {
			basic = this.members[i++];
			if(basic != null) {
				if(this._memberRemoved != null) {
					this._memberRemoved.dispatch(basic);
				}
				basic.destroy();
			}
		}
		flixel_util_FlxArrayUtil.setLength_flixel_group_FlxTypedGroup_T(this.members,this.maxSize);
		this.length = this.members.length;
		return this.maxSize;
	}
	,get_memberAdded: function() {
		if(this._memberAdded == null) {
			this._memberAdded = new flixel_util__$FlxSignal_FlxSignal1();
		}
		return this._memberAdded;
	}
	,get_memberRemoved: function() {
		if(this._memberRemoved == null) {
			this._memberRemoved = new flixel_util__$FlxSignal_FlxSignal1();
		}
		return this._memberRemoved;
	}
	,__class__: flixel_group_FlxTypedGroup
	,__properties__: $extend(flixel_FlxBasic.prototype.__properties__,{get_memberRemoved:"get_memberRemoved",get_memberAdded:"get_memberAdded",set_maxSize:"set_maxSize"})
});
var flixel_FlxState = function(MaxSize) {
	this._requestSubStateReset = false;
	this.destroySubStates = true;
	this.persistentDraw = true;
	this.persistentUpdate = false;
	flixel_group_FlxTypedGroup.call(this,MaxSize);
};
$hxClasses["flixel.FlxState"] = flixel_FlxState;
flixel_FlxState.__name__ = "flixel.FlxState";
flixel_FlxState.__super__ = flixel_group_FlxTypedGroup;
flixel_FlxState.prototype = $extend(flixel_group_FlxTypedGroup.prototype,{
	persistentUpdate: null
	,persistentDraw: null
	,destroySubStates: null
	,subState: null
	,_requestedSubState: null
	,_requestSubStateReset: null
	,_subStateOpened: null
	,_subStateClosed: null
	,create: function() {
	}
	,draw: function() {
		if(this.persistentDraw || this.subState == null) {
			flixel_group_FlxTypedGroup.prototype.draw.call(this);
		}
		if(this.subState != null) {
			this.subState.draw();
		}
	}
	,openSubState: function(SubState) {
		this._requestSubStateReset = true;
		this._requestedSubState = SubState;
	}
	,closeSubState: function() {
		this._requestSubStateReset = true;
	}
	,resetSubState: function() {
		if(this.subState != null) {
			if(this.subState.closeCallback != null) {
				this.subState.closeCallback();
			}
			if(this._subStateClosed != null) {
				this._subStateClosed.dispatch(this.subState);
			}
			if(this.destroySubStates) {
				this.subState.destroy();
			}
		}
		this.subState = this._requestedSubState;
		this._requestedSubState = null;
		if(this.subState != null) {
			if(!this.persistentUpdate) {
				flixel_FlxG.inputs.onStateSwitch();
			}
			this.subState._parentState = this;
			if(!this.subState._created) {
				this.subState._created = true;
				this.subState.create();
			}
			if(this.subState.openCallback != null) {
				this.subState.openCallback();
			}
			if(this._subStateOpened != null) {
				this._subStateOpened.dispatch(this.subState);
			}
		}
	}
	,destroy: function() {
		flixel_util_FlxDestroyUtil.destroy(this._subStateOpened);
		flixel_util_FlxDestroyUtil.destroy(this._subStateClosed);
		if(this.subState != null) {
			this.subState.destroy();
			this.subState = null;
		}
		flixel_group_FlxTypedGroup.prototype.destroy.call(this);
	}
	,switchTo: function(nextState) {
		return true;
	}
	,onFocusLost: function() {
	}
	,onFocus: function() {
	}
	,onResize: function(Width,Height) {
	}
	,tryUpdate: function(elapsed) {
		if(this.persistentUpdate || this.subState == null) {
			this.update(elapsed);
		}
		if(this._requestSubStateReset) {
			this._requestSubStateReset = false;
			this.resetSubState();
		}
		if(this.subState != null) {
			this.subState.tryUpdate(elapsed);
		}
	}
	,get_bgColor: function() {
		return flixel_FlxG.cameras.get_bgColor();
	}
	,set_bgColor: function(Value) {
		return flixel_FlxG.cameras.set_bgColor(Value);
	}
	,get_subStateOpened: function() {
		if(this._subStateOpened == null) {
			this._subStateOpened = new flixel_util__$FlxSignal_FlxSignal1();
		}
		return this._subStateOpened;
	}
	,get_subStateClosed: function() {
		if(this._subStateClosed == null) {
			this._subStateClosed = new flixel_util__$FlxSignal_FlxSignal1();
		}
		return this._subStateClosed;
	}
	,__class__: flixel_FlxState
	,__properties__: $extend(flixel_group_FlxTypedGroup.prototype.__properties__,{get_subStateClosed:"get_subStateClosed",get_subStateOpened:"get_subStateOpened",set_bgColor:"set_bgColor",get_bgColor:"get_bgColor"})
});
var flixel_addons_transition_FlxTransitionableState = function(TransIn,TransOut) {
	this._exiting = false;
	this.transOutFinished = false;
	this.transIn = TransIn;
	this.transOut = TransOut;
	if(this.transIn == null && flixel_addons_transition_FlxTransitionableState.defaultTransIn != null) {
		this.transIn = flixel_addons_transition_FlxTransitionableState.defaultTransIn;
	}
	if(this.transOut == null && flixel_addons_transition_FlxTransitionableState.defaultTransOut != null) {
		this.transOut = flixel_addons_transition_FlxTransitionableState.defaultTransOut;
	}
	flixel_FlxState.call(this);
};
$hxClasses["flixel.addons.transition.FlxTransitionableState"] = flixel_addons_transition_FlxTransitionableState;
flixel_addons_transition_FlxTransitionableState.__name__ = "flixel.addons.transition.FlxTransitionableState";
flixel_addons_transition_FlxTransitionableState.__super__ = flixel_FlxState;
flixel_addons_transition_FlxTransitionableState.prototype = $extend(flixel_FlxState.prototype,{
	transIn: null
	,transOut: null
	,destroy: function() {
		flixel_FlxState.prototype.destroy.call(this);
		this.transIn = null;
		this.transOut = null;
		this._onExit = null;
	}
	,create: function() {
		flixel_FlxState.prototype.create.call(this);
		this.transitionIn();
	}
	,switchTo: function(nextState) {
		if(!this.get_hasTransOut()) {
			return true;
		}
		if(!this._exiting) {
			this.transitionToState(nextState);
		}
		return this.transOutFinished;
	}
	,transitionToState: function(nextState) {
		this._exiting = true;
		this.transitionOut(function() {
			if(flixel_FlxG.game._state.switchTo(nextState)) {
				flixel_FlxG.game._requestedState = nextState;
			}
		});
		if(flixel_addons_transition_FlxTransitionableState.skipNextTransOut) {
			flixel_addons_transition_FlxTransitionableState.skipNextTransOut = false;
			this.finishTransOut();
		}
	}
	,transitionIn: function() {
		if(this.transIn != null && this.transIn.type != "none") {
			if(flixel_addons_transition_FlxTransitionableState.skipNextTransIn) {
				flixel_addons_transition_FlxTransitionableState.skipNextTransIn = false;
				if(this.finishTransIn != null) {
					this.finishTransIn();
				}
				return;
			}
			var _trans = this.createTransition(this.transIn);
			_trans.setStatus(3);
			this.openSubState(_trans);
			_trans.set_finishCallback($bind(this,this.finishTransIn));
			_trans.start(1);
		}
	}
	,transitionOut: function(OnExit) {
		this._onExit = OnExit;
		if(this.get_hasTransOut()) {
			var _trans = this.createTransition(this.transOut);
			_trans.setStatus(2);
			this.openSubState(_trans);
			_trans.set_finishCallback($bind(this,this.finishTransOut));
			_trans.start(0);
		} else {
			this._onExit();
		}
	}
	,transOutFinished: null
	,_exiting: null
	,_onExit: null
	,get_hasTransIn: function() {
		if(this.transIn != null) {
			return this.transIn.type != "none";
		} else {
			return false;
		}
	}
	,get_hasTransOut: function() {
		if(this.transOut != null) {
			return this.transOut.type != "none";
		} else {
			return false;
		}
	}
	,createTransition: function(data) {
		switch(data.type) {
		case "fade":
			return new flixel_addons_transition_Transition(data);
		case "tiles":
			return new flixel_addons_transition_Transition(data);
		default:
			return null;
		}
	}
	,finishTransIn: function() {
		this.closeSubState();
	}
	,finishTransOut: function() {
		this.transOutFinished = true;
		if(!this._exiting) {
			this.closeSubState();
		}
		if(this._onExit != null) {
			this._onExit();
		}
	}
	,__class__: flixel_addons_transition_FlxTransitionableState
	,__properties__: $extend(flixel_FlxState.prototype.__properties__,{get_hasTransOut:"get_hasTransOut",get_hasTransIn:"get_hasTransIn"})
});
var flixel_addons_ui_interfaces_IEventGetter = function() { };
$hxClasses["flixel.addons.ui.interfaces.IEventGetter"] = flixel_addons_ui_interfaces_IEventGetter;
flixel_addons_ui_interfaces_IEventGetter.__name__ = "flixel.addons.ui.interfaces.IEventGetter";
flixel_addons_ui_interfaces_IEventGetter.__isInterface__ = true;
flixel_addons_ui_interfaces_IEventGetter.prototype = {
	getEvent: null
	,getRequest: null
	,__class__: flixel_addons_ui_interfaces_IEventGetter
};
var flixel_addons_ui_interfaces_IFlxUIState = function() { };
$hxClasses["flixel.addons.ui.interfaces.IFlxUIState"] = flixel_addons_ui_interfaces_IFlxUIState;
flixel_addons_ui_interfaces_IFlxUIState.__name__ = "flixel.addons.ui.interfaces.IFlxUIState";
flixel_addons_ui_interfaces_IFlxUIState.__isInterface__ = true;
flixel_addons_ui_interfaces_IFlxUIState.__interfaces__ = [flixel_addons_ui_interfaces_IEventGetter];
flixel_addons_ui_interfaces_IFlxUIState.prototype = {
	forceFocus: null
	,tooltips: null
	,cursor: null
	,_tongue: null
	,__class__: flixel_addons_ui_interfaces_IFlxUIState
};
var flixel_addons_ui_FlxUIState = function(TransIn,TransOut) {
	this.getTextFallback = null;
	this._reload_countdown = 0;
	this._reload = false;
	this.reload_ui_on_resize = false;
	this._xml_id = "";
	this._cursorHidden = false;
	this.hideCursorOnSubstate = false;
	this.cursor = null;
	flixel_addons_transition_FlxTransitionableState.call(this,TransIn,TransOut);
};
$hxClasses["flixel.addons.ui.FlxUIState"] = flixel_addons_ui_FlxUIState;
flixel_addons_ui_FlxUIState.__name__ = "flixel.addons.ui.FlxUIState";
flixel_addons_ui_FlxUIState.__interfaces__ = [flixel_addons_ui_interfaces_IFlxUIState,flixel_addons_ui_interfaces_IEventGetter];
flixel_addons_ui_FlxUIState.__super__ = flixel_addons_transition_FlxTransitionableState;
flixel_addons_ui_FlxUIState.prototype = $extend(flixel_addons_transition_FlxTransitionableState.prototype,{
	destroyed: null
	,cursor: null
	,hideCursorOnSubstate: null
	,_cursorHidden: null
	,tooltips: null
	,_xml_id: null
	,_makeCursor: null
	,_ui_vars: null
	,_ui: null
	,_tongue: null
	,reload_ui_on_resize: null
	,_reload: null
	,_reload_countdown: null
	,getTextFallback: null
	,create: function() {
		if(flixel_addons_ui_FlxUIState.static_tongue != null) {
			this._tongue = flixel_addons_ui_FlxUIState.static_tongue;
		}
		if(this._makeCursor == true) {
			this.cursor = this.createCursor();
		}
		this.tooltips = new flixel_addons_ui_FlxUITooltipManager(this);
		var liveFile = null;
		this._ui = this.createUI(null,this,null,this._tongue);
		this.add(this._ui);
		if(this.getTextFallback != null) {
			this._ui.getTextFallback = this.getTextFallback;
		}
		if(this._xml_id != null && this._xml_id != "") {
			var data = null;
			var errorMsg = "";
			if(liveFile == null) {
				try {
					data = flixel_addons_ui_U.xml(this._xml_id);
				} catch( _g ) {
					haxe_NativeStackTrace.lastError = _g;
					var _g1 = haxe_Exception.caught(_g).unwrap();
					if(typeof(_g1) == "string") {
						var msg = _g1;
						errorMsg = msg;
					} else {
						throw _g;
					}
				}
				if(data == null) {
					try {
						data = flixel_addons_ui_U.xml(this._xml_id,"xml",true,"");
					} catch( _g ) {
						haxe_NativeStackTrace.lastError = _g;
						var _g1 = haxe_Exception.caught(_g).unwrap();
						if(typeof(_g1) == "string") {
							var msg2 = _g1;
							errorMsg += ", " + msg2;
						} else {
							throw _g;
						}
					}
				}
			}
			if(data == null) {
				if(liveFile != null) {
					this.loadUIFromData(liveFile);
				}
			} else {
				this.loadUIFromData(data);
			}
		} else {
			this.loadUIFromData(null);
		}
		if(this.cursor != null && this._ui != null) {
			this.add(this.cursor);
			this.cursor.addWidgetsFromUI(this._ui);
			this.cursor.findVisibleLocation(0);
		}
		this.tooltips.init();
		flixel_addons_transition_FlxTransitionableState.prototype.create.call(this);
		this.cleanup();
	}
	,update: function(elapsed) {
		flixel_addons_transition_FlxTransitionableState.prototype.update.call(this,elapsed);
		if(this.tooltips != null) {
			this.tooltips.update(elapsed);
		}
		if(this._reload) {
			if(this._reload_countdown > 0) {
				this._reload_countdown--;
				if(this._reload_countdown == 0) {
					this.reloadUI();
				}
			}
		}
	}
	,cleanup: function() {
		this._ui.cleanup();
	}
	,_cleanupUIVars: function() {
		if(this._ui_vars != null) {
			var key = haxe_ds_StringMap.keysIterator(this._ui_vars.h);
			while(key.hasNext()) {
				var key1 = key.next();
				var _this = this._ui_vars;
				if(Object.prototype.hasOwnProperty.call(_this.h,key1)) {
					delete(_this.h[key1]);
				}
			}
			this._ui_vars = null;
		}
	}
	,setUIVariable: function(key,value) {
		if(this._ui != null) {
			this._ui.setVariable(key,value);
		} else {
			if(this._ui_vars == null) {
				this._ui_vars = new haxe_ds_StringMap();
			}
			this._ui_vars.h[key] = value;
		}
	}
	,resizeScreen: function(width,height) {
		if(height == null) {
			height = 600;
		}
		if(width == null) {
			width = 800;
		}
	}
	,openSubState: function(SubState) {
		if(this.cursor != null && this.hideCursorOnSubstate && this.cursor.visible == true) {
			this._cursorHidden = true;
			this.cursor.set_visible(false);
		}
		flixel_addons_transition_FlxTransitionableState.prototype.openSubState.call(this,SubState);
	}
	,closeSubState: function() {
		if(this.cursor != null && this.hideCursorOnSubstate && this._cursorHidden) {
			this._cursorHidden = false;
			this.cursor.set_visible(true);
		}
		flixel_addons_transition_FlxTransitionableState.prototype.closeSubState.call(this);
	}
	,onResize: function(Width,Height) {
		if(this.reload_ui_on_resize) {
			flixel_FlxG.scaleMode.onMeasure(Width,Height);
			this._reload_countdown = 1;
			this._reload = true;
		}
	}
	,onShowTooltip: function(t) {
	}
	,destroy: function() {
		this.destroyed = true;
		if(this._ui != null) {
			this._ui.destroy();
			this.remove(this._ui,true);
			this._ui = null;
		}
		if(this.tooltips != null) {
			this.tooltips.destroy();
			this.tooltips = null;
		}
		flixel_addons_transition_FlxTransitionableState.prototype.destroy.call(this);
	}
	,forceFocus: function(b,thing) {
		if(this._ui != null) {
			if(b) {
				this._ui.set_focus(thing);
			} else {
				this._ui.set_focus(null);
			}
		}
	}
	,onCursorEvent: function(code,target) {
		this.getEvent(code,target,null);
	}
	,getEvent: function(id,sender,data,params) {
	}
	,getRequest: function(id,sender,data,params) {
		return null;
	}
	,getText: function(Flag,Context,Safe) {
		if(Safe == null) {
			Safe = true;
		}
		if(Context == null) {
			Context = "ui";
		}
		if(this._tongue != null) {
			return this._tongue.get(Flag,Context,Safe);
		}
		if(this.getTextFallback != null) {
			return this.getTextFallback(Flag,Context,Safe);
		}
		return Flag;
	}
	,createCursor: function() {
		return new flixel_addons_ui_FlxUICursor($bind(this,this.onCursorEvent));
	}
	,createUI: function(data,ptr,superIndex_,tongue_,liveFilePath_) {
		if(liveFilePath_ == null) {
			liveFilePath_ = "";
		}
		var flxui = new flixel_addons_ui_FlxUI(data,ptr,superIndex_,tongue_,liveFilePath_,this._ui_vars);
		this._cleanupUIVars();
		return flxui;
	}
	,loadUIFromData: function(data) {
		this._ui.load(data);
	}
	,reloadUI: function(e) {
		if(this._ui != null) {
			this.remove(this._ui,true);
			this._ui.destroy();
			this._ui = null;
		}
		this._ui = this.createUI(null,this,null,this._tongue);
		this.add(this._ui);
		var data = flixel_addons_ui_U.xml(this._xml_id);
		if(data != null) {
			this.loadUIFromData(data);
		}
		this._reload = false;
		this._reload_countdown = 0;
	}
	,__class__: flixel_addons_ui_FlxUIState
});
var MusicBeatState = function(TransIn,TransOut) {
	this.skippedFrames = 0;
	var color = flixel_util_FlxColor._new();
	color &= -16711681;
	color |= 9699328;
	color &= -65281;
	color |= 0;
	color &= -256;
	color |= 211;
	color &= 16777215;
	color |= -16777216;
	var color1 = flixel_util_FlxColor._new();
	color1 &= -16711681;
	color1 |= 4915200;
	color1 &= -65281;
	color1 |= 0;
	color1 &= -256;
	color1 |= 130;
	color1 &= 16777215;
	color1 |= -16777216;
	var color2 = flixel_util_FlxColor._new();
	color2 &= -16711681;
	color2 |= 0;
	color2 &= -65281;
	color2 |= 0;
	color2 &= -256;
	color2 |= 255;
	color2 &= 16777215;
	color2 |= -16777216;
	var color3 = flixel_util_FlxColor._new();
	color3 &= -16711681;
	color3 |= 0;
	color3 &= -65281;
	color3 |= 65280;
	color3 &= -256;
	color3 |= 0;
	color3 &= 16777215;
	color3 |= -16777216;
	var color4 = flixel_util_FlxColor._new();
	color4 &= -16711681;
	color4 |= 16711680;
	color4 &= -65281;
	color4 |= 65280;
	color4 &= -256;
	color4 |= 0;
	color4 &= 16777215;
	color4 |= -16777216;
	var color5 = flixel_util_FlxColor._new();
	color5 &= -16711681;
	color5 |= 16711680;
	color5 &= -65281;
	color5 |= 32512;
	color5 &= -256;
	color5 |= 0;
	color5 &= 16777215;
	color5 |= -16777216;
	var color6 = flixel_util_FlxColor._new();
	color6 &= -16711681;
	color6 |= 16711680;
	color6 &= -65281;
	color6 |= 0;
	color6 &= -256;
	color6 |= 0;
	color6 &= 16777215;
	color6 |= -16777216;
	this.array = [color,color1,color2,color3,color4,color5,color6];
	this.curDecimalBeat = 0;
	this.curBeat = 0;
	this.curStep = 0;
	this.lastStep = 0;
	this.lastBeat = 0;
	flixel_addons_ui_FlxUIState.call(this,TransIn,TransOut);
};
$hxClasses["MusicBeatState"] = MusicBeatState;
MusicBeatState.__name__ = "MusicBeatState";
MusicBeatState.__super__ = flixel_addons_ui_FlxUIState;
MusicBeatState.prototype = $extend(flixel_addons_ui_FlxUIState.prototype,{
	lastBeat: null
	,lastStep: null
	,curStep: null
	,curBeat: null
	,curDecimalBeat: null
	,get_controls: function() {
		return PlayerSettings.player1.controls;
	}
	,create: function() {
		TimingStruct.clearTimings();
		(js_Boot.__cast(openfl_Lib.get_current().getChildAt(0) , Main)).setFPSCap(flixel_FlxG.save.data.fpsCap);
		if(this.transIn != null) {
			haxe_Log.trace("reg " + Std.string(this.transIn.region),{ fileName : "source/MusicBeatState.hx", lineNumber : 31, className : "MusicBeatState", methodName : "create"});
		}
		flixel_addons_ui_FlxUIState.prototype.create.call(this);
	}
	,array: null
	,skippedFrames: null
	,update: function(elapsed) {
		var nextStep = this.updateCurStep();
		if(nextStep >= 0) {
			if(nextStep > this.curStep) {
				var _g = this.curStep;
				var _g1 = nextStep;
				while(_g < _g1) {
					var i = _g++;
					this.curStep++;
					this.updateBeat();
					this.stepHit();
				}
			} else if(nextStep < this.curStep) {
				this.curStep = nextStep;
				this.updateBeat();
				this.stepHit();
			}
		}
		if(Conductor.songPosition < 0) {
			this.curDecimalBeat = 0;
		} else if(TimingStruct.AllTimings.length > 1) {
			var data = TimingStruct.getTimingAtTimestamp(Conductor.songPosition);
			Conductor.crochet = 60 / data.bpm * 1000;
			var percent = (Conductor.songPosition - data.startTime * 1000) / (data.length * 1000);
			this.curDecimalBeat = data.startBeat + (Conductor.songPosition / 1000 - data.startTime) * (data.bpm / 60);
		} else {
			this.curDecimalBeat = Conductor.songPosition / 1000 * (Conductor.bpm / 60);
			Conductor.crochet = 60 / Conductor.bpm * 1000;
		}
		if(flixel_FlxG.save.data.fpsRain && this.skippedFrames >= 6) {
			if(MusicBeatState.currentColor >= this.array.length) {
				MusicBeatState.currentColor = 0;
			}
			(js_Boot.__cast(openfl_Lib.get_current().getChildAt(0) , Main)).changeFPSColor(this.array[MusicBeatState.currentColor]);
			MusicBeatState.currentColor++;
			this.skippedFrames = 0;
		} else {
			this.skippedFrames++;
		}
		if(($_=(js_Boot.__cast(openfl_Lib.get_current().getChildAt(0) , Main)),$bind($_,$_.getFPSCap)) != flixel_FlxG.save.data.fpsCap && flixel_FlxG.save.data.fpsCap <= 290) {
			(js_Boot.__cast(openfl_Lib.get_current().getChildAt(0) , Main)).setFPSCap(flixel_FlxG.save.data.fpsCap);
		}
		flixel_addons_ui_FlxUIState.prototype.update.call(this,elapsed);
	}
	,updateBeat: function() {
		this.lastBeat = this.curBeat;
		this.curBeat = Math.floor(this.curStep / 4);
	}
	,updateCurStep: function() {
		var lastChange = { stepTime : 0, songTime : 0, bpm : 0};
		var _g = 0;
		var _g1 = Conductor.bpmChangeMap.length;
		while(_g < _g1) {
			var i = _g++;
			if(Conductor.songPosition >= Conductor.bpmChangeMap[i].songTime) {
				lastChange = Conductor.bpmChangeMap[i];
			}
		}
		return lastChange.stepTime + Math.floor((Conductor.songPosition - lastChange.songTime) / Conductor.stepCrochet);
	}
	,stepHit: function() {
		if(this.curStep % 4 == 0) {
			this.beatHit();
		}
	}
	,beatHit: function() {
	}
	,fancyOpenURL: function(schmancy) {
		var prefix = "";
		if(!new EReg("^https?://","").match(schmancy)) {
			prefix = "http://";
		}
		openfl_Lib.getURL(new openfl_net_URLRequest(prefix + schmancy),"_blank");
	}
	,__class__: MusicBeatState
	,__properties__: $extend(flixel_addons_ui_FlxUIState.prototype.__properties__,{get_controls:"get_controls"})
});
var ChartingState = function(TransIn,TransOut) {
	this.daSpacing = 0.3;
	this.once = false;
	this.lastUpdatedSection = null;
	this.updateFrame = 0;
	this.lastBPM = 0;
	this.currentBPM = 0;
	this.changeIndex = 0;
	this.diff = 0;
	this.doSnapShit = false;
	this.writingNotes = false;
	this.updatedSection = false;
	this.Typeables = [];
	this.chartEvents = [];
	this.currentEventPosition = 0;
	this.savedValue = "";
	this.savedType = "";
	this.currentSelectedEventName = "";
	this.claps = [];
	this.height = 0;
	this.player1 = new Boyfriend(0,0,"bf");
	this.player2 = new Character(0,0,"dad");
	this.tempBpm = 0;
	this.defaultSnap = true;
	this.subDivisions = 1;
	this.GRID_SIZE = 40;
	this.amountSteps = 0;
	this.curSong = "Dad Battle";
	this.curSection = 0;
	this.zoomFactor = 1;
	this.beatsShown = 1;
	this.deezNuts = new haxe_ds_IntMap();
	this.snap = 16;
	this.playClaps = false;
	MusicBeatState.call(this,TransIn,TransOut);
};
$hxClasses["ChartingState"] = ChartingState;
ChartingState.__name__ = "ChartingState";
ChartingState.instance = null;
ChartingState._song = null;
ChartingState.leftIcon = null;
ChartingState.rightIcon = null;
ChartingState.__super__ = MusicBeatState;
ChartingState.prototype = $extend(MusicBeatState.prototype,{
	_file: null
	,playClaps: null
	,snap: null
	,deezNuts: null
	,UI_box: null
	,UI_options: null
	,beatsShown: null
	,zoomFactor: null
	,curSection: null
	,bpmTxt: null
	,strumLine: null
	,curSong: null
	,amountSteps: null
	,bullshitUI: null
	,writingNotesText: null
	,highlight: null
	,GRID_SIZE: null
	,subDivisions: null
	,defaultSnap: null
	,dummyArrow: null
	,curRenderedNotes: null
	,curRenderedSustains: null
	,gridBG: null
	,sectionRenderes: null
	,typingShit: null
	,curSelectedNote: null
	,tempBpm: null
	,gridBlackLine: null
	,vocals: null
	,player2: null
	,player1: null
	,height: null
	,lastNote: null
	,lines: null
	,claps: null
	,snapText: null
	,camFollow: null
	,create: function() {
		this.curSection = ChartingState.lastSection;
		haxe_Log.trace(1 > Infinity,{ fileName : "source/ChartingState.hx", lineNumber : 140, className : "ChartingState", methodName : "create"});
		flixel_FlxG.mouse.set_visible(true);
		ChartingState.instance = this;
		this.deezNuts.h[4] = 1;
		this.deezNuts.h[8] = 2;
		this.deezNuts.h[16] = 4;
		this.deezNuts.h[32] = 8;
		this.deezNuts.h[64] = 16;
		this.sectionRenderes = new flixel_group_FlxTypedGroup();
		this.lines = new flixel_group_FlxTypedGroup();
		this.texts = new flixel_group_FlxTypedGroup();
		TimingStruct.clearTimings();
		if(PlayState.SONG != null) {
			ChartingState._song = PlayState.SONG;
		} else {
			ChartingState._song = { chartVersion : ChartingState.latestChartVersion, song : "Test", notes : [], eventObjects : [], bpm : 150, needsVoices : true, player1 : "bf", player2 : "dad", gfVersion : "gf", noteStyle : "normal", stage : "stage", speed : 1, validScore : false};
		}
		this.addGrid(1);
		if(ChartingState._song.chartVersion == null) {
			ChartingState._song.chartVersion = "2";
		}
		this.snapText = new flixel_text_FlxText(60,10,0,"",14);
		this.snapText.scrollFactor.set();
		this.curRenderedNotes = new flixel_group_FlxTypedGroup();
		this.curRenderedSustains = new flixel_group_FlxTypedGroup();
		flixel_FlxG.mouse.set_visible(true);
		flixel_FlxG.save.bind("funkin","ninjamuffin99");
		this.tempBpm = ChartingState._song.bpm;
		this.addSection();
		this.loadSong(ChartingState._song.song);
		Conductor.changeBPM(ChartingState._song.bpm);
		Conductor.mapBPMChanges(ChartingState._song);
		ChartingState.leftIcon = new HealthIcon(ChartingState._song.player1);
		ChartingState.rightIcon = new HealthIcon(ChartingState._song.player2);
		var index = 0;
		if(ChartingState._song.eventObjects == null) {
			ChartingState._song.eventObjects = [new Event("Init BPM",0,ChartingState._song.bpm,"BPM Change")];
		}
		if(ChartingState._song.eventObjects.length == 0) {
			ChartingState._song.eventObjects = [new Event("Init BPM",0,ChartingState._song.bpm,"BPM Change")];
		}
		haxe_Log.trace("goin",{ fileName : "source/ChartingState.hx", lineNumber : 223, className : "ChartingState", methodName : "create"});
		var currentIndex = 0;
		var _g = 0;
		var _g1 = ChartingState._song.eventObjects;
		while(_g < _g1.length) {
			var i = _g1[_g];
			++_g;
			var name = Reflect.field(i,"name");
			var type = Reflect.field(i,"type");
			var pos = Reflect.field(i,"position");
			var value = Reflect.field(i,"value");
			if(type == "BPM Change") {
				var beat = pos;
				var endBeat = Infinity;
				TimingStruct.addTiming(beat,value,endBeat,0);
				if(currentIndex != 0) {
					var data = TimingStruct.AllTimings[currentIndex - 1];
					data.endBeat = beat;
					data.length = (data.endBeat - data.startBeat) / (data.bpm / 60);
					TimingStruct.AllTimings[currentIndex].startTime = data.startTime + data.length;
				}
				++currentIndex;
			}
		}
		var lastSeg = TimingStruct.AllTimings[TimingStruct.AllTimings.length - 1];
		var _g = 0;
		var _g1 = TimingStruct.AllTimings.length;
		while(_g < _g1) {
			var i = _g++;
			var seg = TimingStruct.AllTimings[i];
			if(i == TimingStruct.AllTimings.length - 1) {
				lastSeg = seg;
			}
		}
		this.recalculateAllSectionTimes();
		haxe_Log.trace("Song length in MS: " + flixel_FlxG.sound.music._length,{ fileName : "source/ChartingState.hx", lineNumber : 264, className : "ChartingState", methodName : "create"});
		var _g = 0;
		while(_g < 9000000) {
			var i = _g++;
			var seg = TimingStruct.getTimingAtBeat(i);
			var start = (i - seg.startBeat) / (seg.bpm / 60);
			var time = (seg.startTime + start) * 1000;
			if(time > flixel_FlxG.sound.music._length) {
				break;
			}
			ChartingState.lengthInBeats = i;
		}
		ChartingState.lengthInSteps = ChartingState.lengthInBeats * 4;
		haxe_Log.trace("LENGTH IN STEPS " + ChartingState.lengthInSteps + " | LENGTH IN BEATS " + ChartingState.lengthInBeats + " | SECTIONS: " + Math.floor((ChartingState.lengthInSteps + 16) / 16),{ fileName : "source/ChartingState.hx", lineNumber : 283, className : "ChartingState", methodName : "create"});
		var sections = Math.floor((ChartingState.lengthInSteps + 16) / 16);
		var targetY = this.getYfromStrum(flixel_FlxG.sound.music._length);
		haxe_Log.trace("TARGET " + targetY,{ fileName : "source/ChartingState.hx", lineNumber : 289, className : "ChartingState", methodName : "create"});
		var _g = 0;
		var _g1 = Math.round(targetY / 640) + 1920;
		while(_g < _g1) {
			var awfgaw = _g++;
			var renderer = new SectionRender(0,640 * awfgaw,this.GRID_SIZE);
			if(ChartingState._song.notes[awfgaw] == null) {
				ChartingState._song.notes.push(this.newSection(16,true,false));
			}
			renderer.section = ChartingState._song.notes[awfgaw];
			this.sectionRenderes.add(renderer);
			var down = this.getYfromStrum(renderer.section.startTime) * this.zoomFactor;
			var sectionicon = ChartingState._song.notes[awfgaw].mustHitSection ? new HealthIcon(ChartingState._song.player1).clone() : new HealthIcon(ChartingState._song.player2).clone();
			sectionicon.set_x(-95);
			sectionicon.set_y(down - 75);
			sectionicon.setGraphicSize(0,45);
			renderer.icon = sectionicon;
			renderer.lastUpdated = ChartingState._song.notes[awfgaw].mustHitSection;
			this.add(sectionicon);
			this.height = Math.floor(renderer.y);
		}
		haxe_Log.trace(this.height,{ fileName : "source/ChartingState.hx", lineNumber : 316, className : "ChartingState", methodName : "create"});
		this.gridBlackLine = new flixel_FlxSprite(this.gridBG.get_width() / 2).makeGraphic(2,this.height,-16777216);
		ChartingState.leftIcon.setGraphicSize(0,45);
		ChartingState.rightIcon.setGraphicSize(0,45);
		this.add(ChartingState.leftIcon);
		this.add(ChartingState.rightIcon);
		ChartingState.leftIcon.setPosition(0,-100);
		ChartingState.rightIcon.setPosition(this.gridBG.get_width() / 2,-100);
		ChartingState.leftIcon.scrollFactor.set();
		ChartingState.rightIcon.scrollFactor.set();
		this.bpmTxt = new flixel_text_FlxText(1000,50,0,"",16);
		this.bpmTxt.scrollFactor.set();
		this.add(this.bpmTxt);
		this.strumLine = new flixel_FlxSprite(0,0).makeGraphic(this.GRID_SIZE * 8 | 0,4);
		this.dummyArrow = new flixel_FlxSprite().makeGraphic(this.GRID_SIZE,this.GRID_SIZE);
		var tabs = [{ name : "Song", label : "Song Data"},{ name : "Section", label : "Section Data"},{ name : "Note", label : "Note Data"},{ name : "Assets", label : "Assets"}];
		this.UI_box = new flixel_addons_ui_FlxUITabMenu(null,null,tabs,null,true);
		this.UI_box.scrollFactor.set();
		this.UI_box.resize(300,400);
		this.UI_box.set_x(flixel_FlxG.width / 2 + 40);
		this.UI_box.set_y(20);
		var opt_tabs = [{ name : "Options", label : "Song Options"},{ name : "Events", label : "Song Events"}];
		this.UI_options = new flixel_addons_ui_FlxUITabMenu(null,null,opt_tabs,null,true);
		this.UI_options.scrollFactor.set();
		this.UI_options.set_selected_tab(0);
		this.UI_options.resize(300,200);
		this.UI_options.set_x(this.UI_box.x);
		this.UI_options.set_y(flixel_FlxG.height - 300);
		this.add(this.UI_options);
		this.add(this.UI_box);
		this.addSongUI();
		this.addSectionUI();
		this.addNoteUI();
		this.addOptionsUI();
		this.addEventsUI();
		this.regenerateLines();
		this.updateGrid();
		haxe_Log.trace("bruh",{ fileName : "source/ChartingState.hx", lineNumber : 382, className : "ChartingState", methodName : "create"});
		this.add(this.sectionRenderes);
		this.add(this.dummyArrow);
		this.add(this.strumLine);
		this.add(this.lines);
		this.add(this.texts);
		this.add(this.gridBlackLine);
		this.add(this.curRenderedNotes);
		this.add(this.curRenderedSustains);
		haxe_Log.trace("bruh",{ fileName : "source/ChartingState.hx", lineNumber : 394, className : "ChartingState", methodName : "create"});
		this.add(this.snapText);
		haxe_Log.trace("bruh",{ fileName : "source/ChartingState.hx", lineNumber : 399, className : "ChartingState", methodName : "create"});
		haxe_Log.trace("create",{ fileName : "source/ChartingState.hx", lineNumber : 401, className : "ChartingState", methodName : "create"});
		TimingStruct.clearTimings();
		var currentIndex = 0;
		var _g = 0;
		var _g1 = ChartingState._song.eventObjects;
		while(_g < _g1.length) {
			var i = _g1[_g];
			++_g;
			if(i.type == "BPM Change") {
				var beat = i.position;
				var endBeat = Infinity;
				TimingStruct.addTiming(beat,i.value,endBeat,0);
				if(currentIndex != 0) {
					var data = TimingStruct.AllTimings[currentIndex - 1];
					data.endBeat = beat;
					data.length = (data.endBeat - data.startBeat) / (data.bpm / 60);
					TimingStruct.AllTimings[currentIndex].startTime = data.startTime + data.length;
				}
				++currentIndex;
			}
		}
		MusicBeatState.prototype.create.call(this);
	}
	,texts: null
	,regenerateLines: function() {
		while(this.lines.members.length > 0) {
			this.lines.members[0].destroy();
			HxOverrides.remove(this.lines.members,this.lines.members[0]);
		}
		while(this.texts.members.length > 0) {
			this.texts.members[0].destroy();
			HxOverrides.remove(this.texts.members,this.texts.members[0]);
		}
		haxe_Log.trace("removed lines and texts",{ fileName : "source/ChartingState.hx", lineNumber : 445, className : "ChartingState", methodName : "regenerateLines"});
		if(ChartingState._song.eventObjects != null) {
			var _g = 0;
			var _g1 = ChartingState._song.eventObjects;
			while(_g < _g1.length) {
				var i = _g1[_g];
				++_g;
				var seg = TimingStruct.getTimingAtBeat(i.position);
				var posi = 0;
				if(seg != null) {
					var start = (i.position - seg.startBeat) / (seg.bpm / 60);
					posi = seg.startTime + start;
				}
				var pos = this.getYfromStrum(posi * 1000) * this.zoomFactor;
				if(pos < 0) {
					pos = 0;
				}
				var type = i.type;
				var text = new flixel_text_FlxText(-190,pos,0,i.name + "\n" + type + "\n" + Std.string(i.value),12);
				var line = new flixel_FlxSprite(0,pos).makeGraphic(this.GRID_SIZE * 8 | 0,4,-16776961);
				line.set_alpha(0.2);
				this.lines.add(line);
				this.texts.add(text);
				this.add(line);
				this.add(text);
			}
		}
		var i = new flixel_group_FlxTypedGroupIterator(this.sectionRenderes.members,null);
		while(i.hasNext()) {
			var i1 = i.next();
			var pos = this.getYfromStrum(i1.section.startTime) * this.zoomFactor;
			i1.icon.set_y(pos - 75);
			var line = new flixel_FlxSprite(0,pos).makeGraphic(this.GRID_SIZE * 8 | 0,4,-16777216);
			line.set_alpha(0.4);
			this.lines.add(line);
		}
	}
	,addGrid: function(divisions) {
		if(divisions == null) {
			divisions = 1;
		}
		var h = this.GRID_SIZE / divisions;
		if(Math.floor(h) != h) {
			h = this.GRID_SIZE;
		}
		this.remove(this.gridBG);
		this.gridBG = flixel_addons_display_FlxGridOverlay.create(this.GRID_SIZE,h | 0,this.GRID_SIZE * 8,this.GRID_SIZE * 16);
		haxe_Log.trace(this.gridBG.get_height(),{ fileName : "source/ChartingState.hx", lineNumber : 500, className : "ChartingState", methodName : "addGrid"});
		haxe_Log.trace("height of " + Math.floor(ChartingState.lengthInSteps),{ fileName : "source/ChartingState.hx", lineNumber : 504, className : "ChartingState", methodName : "addGrid"});
		var totalHeight = 0;
		this.remove(this.gridBlackLine);
		this.gridBlackLine = new flixel_FlxSprite(this.gridBG.get_width() / 2).makeGraphic(2,Math.floor(ChartingState.lengthInSteps) | 0,-16777216);
		this.add(this.gridBlackLine);
	}
	,stepperDiv: null
	,check_snap: null
	,listOfEvents: null
	,currentSelectedEventName: null
	,savedType: null
	,savedValue: null
	,currentEventPosition: null
	,containsName: function(name,events) {
		var _g = 0;
		while(_g < events.length) {
			var i = events[_g];
			++_g;
			var thisName = Reflect.field(i,"name");
			if(thisName == name) {
				return i;
			}
		}
		return null;
	}
	,chartEvents: null
	,Typeables: null
	,addEventsUI: function() {
		var _gthis = this;
		if(ChartingState._song.eventObjects == null) {
			ChartingState._song.eventObjects = [new Event("Init BPM",0,ChartingState._song.bpm,"BPM Change")];
		}
		var firstEvent = "";
		if(Lambda.count(ChartingState._song.eventObjects) != 0) {
			firstEvent = ChartingState._song.eventObjects[0].name;
		}
		var listLabel = new flixel_text_FlxText(10,5,null,"List of Events");
		var nameLabel = new flixel_text_FlxText(150,5,null,"Event Name");
		var eventName = new flixel_addons_ui_FlxUIInputText(150,20,80,"");
		var typeLabel = new flixel_text_FlxText(10,45,null,"Type of Event");
		var eventType = new flixel_addons_ui_FlxUIDropDownMenu(10,60,flixel_addons_ui_FlxUIDropDownMenu.makeStrIdLabelArray(["BPM Change","Scroll Speed Change"],true));
		var valueLabel = new flixel_text_FlxText(150,45,null,"Event Value");
		var eventValue = new flixel_addons_ui_FlxUIInputText(150,60,80,"");
		var eventSave = new flixel_ui_FlxButton(10,155,"Save Event",function() {
			var pog = new Event(_gthis.currentSelectedEventName,_gthis.currentEventPosition,HelperFunctions.truncateFloat(parseFloat(_gthis.savedValue),3),_gthis.savedType);
			haxe_Log.trace("trying to save " + _gthis.currentSelectedEventName,{ fileName : "source/ChartingState.hx", lineNumber : 574, className : "ChartingState", methodName : "addEventsUI"});
			var obj = _gthis.containsName(pog.name,ChartingState._song.eventObjects);
			if(pog.name == "") {
				return;
			}
			haxe_Log.trace("yeah we can save it",{ fileName : "source/ChartingState.hx", lineNumber : 582, className : "ChartingState", methodName : "addEventsUI"});
			if(obj != null) {
				HxOverrides.remove(ChartingState._song.eventObjects,obj);
			}
			ChartingState._song.eventObjects.push(pog);
			haxe_Log.trace(ChartingState._song.eventObjects.length,{ fileName : "source/ChartingState.hx", lineNumber : 588, className : "ChartingState", methodName : "addEventsUI"});
			TimingStruct.clearTimings();
			var currentIndex = 0;
			var _g = 0;
			var _g1 = ChartingState._song.eventObjects;
			while(_g < _g1.length) {
				var i = _g1[_g];
				++_g;
				var name = Reflect.field(i,"name");
				var type = Reflect.field(i,"type");
				var pos = Reflect.field(i,"position");
				var value = Reflect.field(i,"value");
				haxe_Log.trace(i.type,{ fileName : "source/ChartingState.hx", lineNumber : 600, className : "ChartingState", methodName : "addEventsUI"});
				if(type == "BPM Change") {
					var beat = pos;
					var endBeat = Infinity;
					TimingStruct.addTiming(beat,value,endBeat,0);
					if(currentIndex != 0) {
						var data = TimingStruct.AllTimings[currentIndex - 1];
						data.endBeat = beat;
						data.length = (data.endBeat - data.startBeat) / (data.bpm / 60);
						TimingStruct.AllTimings[currentIndex].startTime = data.startTime + data.length;
					}
					++currentIndex;
				}
			}
			if(pog.type == "BPM Change") {
				_gthis.recalculateAllSectionTimes();
			}
			_gthis.regenerateLines();
			var listofnames = [];
			var _g2_current = 0;
			var _g2_array = ChartingState._song.eventObjects;
			while(_g2_current < _g2_array.length) {
				var _g3_value = _g2_array[_g2_current];
				var _g3_key = _g2_current++;
				var key = _g3_key;
				var value = _g3_value;
				listofnames.push(value.name);
			}
			_gthis.listOfEvents.setData(flixel_addons_ui_FlxUIDropDownMenu.makeStrIdLabelArray(listofnames,true));
			_gthis.listOfEvents.set_selectedLabel(pog.name);
			haxe_Log.trace("end",{ fileName : "source/ChartingState.hx", lineNumber : 636, className : "ChartingState", methodName : "addEventsUI"});
		});
		var posLabel = new flixel_text_FlxText(150,85,null,"Event Position");
		var eventPos = new flixel_addons_ui_FlxUIInputText(150,100,80,"");
		var eventAdd = new flixel_ui_FlxButton(95,155,"Add Event",function() {
			var pog = new Event("New Event " + HelperFunctions.truncateFloat(_gthis.curDecimalBeat,3),HelperFunctions.truncateFloat(_gthis.curDecimalBeat,3),ChartingState._song.bpm + "","BPM Change");
			haxe_Log.trace("adding " + pog.name,{ fileName : "source/ChartingState.hx", lineNumber : 644, className : "ChartingState", methodName : "addEventsUI"});
			var obj = _gthis.containsName(pog.name,ChartingState._song.eventObjects);
			if(obj != null) {
				return;
			}
			haxe_Log.trace("yeah we can add it",{ fileName : "source/ChartingState.hx", lineNumber : 651, className : "ChartingState", methodName : "addEventsUI"});
			ChartingState._song.eventObjects.push(pog);
			eventName.set_text(pog.name);
			eventType.set_selectedLabel(pog.type);
			eventValue.set_text(pog.value);
			eventPos.set_text(pog.position + "");
			_gthis.currentSelectedEventName = pog.name;
			_gthis.currentEventPosition = pog.position;
			_gthis.savedType = pog.type;
			_gthis.savedValue = pog.value;
			var listofnames = [];
			var _g_current = 0;
			var _g_array = ChartingState._song.eventObjects;
			while(_g_current < _g_array.length) {
				var _g1_value = _g_array[_g_current];
				var _g1_key = _g_current++;
				var key = _g1_key;
				var value = _g1_value;
				listofnames.push(value.name);
			}
			_gthis.listOfEvents.setData(flixel_addons_ui_FlxUIDropDownMenu.makeStrIdLabelArray(listofnames,true));
			_gthis.listOfEvents.set_selectedLabel(pog.name);
			TimingStruct.clearTimings();
			var currentIndex = 0;
			var _g = 0;
			var _g1 = ChartingState._song.eventObjects;
			while(_g < _g1.length) {
				var i = _g1[_g];
				++_g;
				var name = Reflect.field(i,"name");
				var type = Reflect.field(i,"type");
				var pos = Reflect.field(i,"position");
				var value = Reflect.field(i,"value");
				haxe_Log.trace(i.type,{ fileName : "source/ChartingState.hx", lineNumber : 685, className : "ChartingState", methodName : "addEventsUI"});
				if(type == "BPM Change") {
					var beat = pos;
					var endBeat = Infinity;
					TimingStruct.addTiming(beat,value,endBeat,0);
					if(currentIndex != 0) {
						var data = TimingStruct.AllTimings[currentIndex - 1];
						data.endBeat = beat;
						data.length = (data.endBeat - data.startBeat) / (data.bpm / 60);
						TimingStruct.AllTimings[currentIndex].startTime = data.startTime + data.length;
					}
					++currentIndex;
				}
			}
			haxe_Log.trace("BPM CHANGES:",{ fileName : "source/ChartingState.hx", lineNumber : 705, className : "ChartingState", methodName : "addEventsUI"});
			var _g = 0;
			var _g1 = TimingStruct.AllTimings;
			while(_g < _g1.length) {
				var i = _g1[_g];
				++_g;
				haxe_Log.trace(i.bpm + " - START: " + i.startBeat + " - END: " + i.endBeat + " - START-TIME: " + i.startTime,{ fileName : "source/ChartingState.hx", lineNumber : 708, className : "ChartingState", methodName : "addEventsUI"});
			}
			_gthis.recalculateAllSectionTimes();
			_gthis.regenerateLines();
		});
		var eventRemove = new flixel_ui_FlxButton(180,155,"Remove Event",function() {
			haxe_Log.trace("lets see if we can remove " + _gthis.listOfEvents.get_selectedLabel(),{ fileName : "source/ChartingState.hx", lineNumber : 718, className : "ChartingState", methodName : "addEventsUI"});
			var obj = _gthis.containsName(_gthis.listOfEvents.get_selectedLabel(),ChartingState._song.eventObjects);
			haxe_Log.trace(obj,{ fileName : "source/ChartingState.hx", lineNumber : 722, className : "ChartingState", methodName : "addEventsUI"});
			if(obj == null) {
				return;
			}
			haxe_Log.trace("yeah we can remove it it",{ fileName : "source/ChartingState.hx", lineNumber : 727, className : "ChartingState", methodName : "addEventsUI"});
			HxOverrides.remove(ChartingState._song.eventObjects,obj);
			var firstEvent = ChartingState._song.eventObjects[0];
			if(firstEvent == null) {
				ChartingState._song.eventObjects.push(new Event("Init BPM",0,ChartingState._song.bpm,"BPM Change"));
				firstEvent = ChartingState._song.eventObjects[0];
			}
			eventName.set_text(firstEvent.name);
			eventType.set_selectedLabel(firstEvent.type);
			eventValue.set_text(firstEvent.value);
			eventPos.set_text(firstEvent.position + "");
			_gthis.currentSelectedEventName = firstEvent.name;
			_gthis.currentEventPosition = firstEvent.position;
			_gthis.savedType = firstEvent.type;
			_gthis.savedValue = firstEvent.value;
			var listofnames = [];
			var _g_current = 0;
			var _g_array = ChartingState._song.eventObjects;
			while(_g_current < _g_array.length) {
				var _g1_value = _g_array[_g_current];
				var _g1_key = _g_current++;
				var key = _g1_key;
				var value = _g1_value;
				listofnames.push(value.name);
			}
			_gthis.listOfEvents.setData(flixel_addons_ui_FlxUIDropDownMenu.makeStrIdLabelArray(listofnames,true));
			_gthis.listOfEvents.set_selectedLabel(firstEvent.name);
			TimingStruct.clearTimings();
			var currentIndex = 0;
			var _g = 0;
			var _g1 = ChartingState._song.eventObjects;
			while(_g < _g1.length) {
				var i = _g1[_g];
				++_g;
				var name = Reflect.field(i,"name");
				var type = Reflect.field(i,"type");
				var pos = Reflect.field(i,"position");
				var value = Reflect.field(i,"value");
				haxe_Log.trace(i.type,{ fileName : "source/ChartingState.hx", lineNumber : 769, className : "ChartingState", methodName : "addEventsUI"});
				if(type == "BPM Change") {
					var beat = pos;
					var endBeat = Infinity;
					TimingStruct.addTiming(beat,value,endBeat,0);
					if(currentIndex != 0) {
						var data = TimingStruct.AllTimings[currentIndex - 1];
						data.endBeat = beat;
						data.length = (data.endBeat - data.startBeat) / (data.bpm / 60);
						TimingStruct.AllTimings[currentIndex].startTime = data.startTime + data.length;
					}
					++currentIndex;
				}
			}
			_gthis.recalculateAllSectionTimes();
			_gthis.regenerateLines();
		});
		var updatePos = new flixel_ui_FlxButton(150,120,"Update Pos",function() {
			var obj = _gthis.containsName(_gthis.currentSelectedEventName,ChartingState._song.eventObjects);
			if(obj == null) {
				return;
			}
			_gthis.currentEventPosition = _gthis.curDecimalBeat;
			obj.position = _gthis.currentEventPosition;
			eventPos.set_text(_gthis.currentEventPosition + "");
		});
		var listofnames = [];
		var firstEventObject = null;
		var _g = 0;
		var _g1 = ChartingState._song.eventObjects;
		while(_g < _g1.length) {
			var event = _g1[_g];
			++_g;
			var name = Reflect.field(event,"name");
			var type = Reflect.field(event,"type");
			var pos = Reflect.field(event,"position");
			var value = Reflect.field(event,"value");
			haxe_Log.trace(value,{ fileName : "source/ChartingState.hx", lineNumber : 817, className : "ChartingState", methodName : "addEventsUI"});
			var eventt = new Event(name,pos,value,type);
			this.chartEvents.push(eventt);
			listofnames.push(name);
		}
		ChartingState._song.eventObjects = this.chartEvents;
		if(listofnames.length == 0) {
			listofnames.push("");
		}
		if(ChartingState._song.eventObjects.length != 0) {
			firstEventObject = ChartingState._song.eventObjects[0];
		}
		haxe_Log.trace("bruh",{ fileName : "source/ChartingState.hx", lineNumber : 832, className : "ChartingState", methodName : "addEventsUI"});
		if(firstEvent != "") {
			haxe_Log.trace(firstEventObject,{ fileName : "source/ChartingState.hx", lineNumber : 837, className : "ChartingState", methodName : "addEventsUI"});
			eventName.set_text(firstEventObject.name);
			haxe_Log.trace("bruh",{ fileName : "source/ChartingState.hx", lineNumber : 839, className : "ChartingState", methodName : "addEventsUI"});
			eventType.set_selectedLabel(firstEventObject.type);
			haxe_Log.trace("bruh",{ fileName : "source/ChartingState.hx", lineNumber : 841, className : "ChartingState", methodName : "addEventsUI"});
			eventValue.set_text(firstEventObject.value);
			haxe_Log.trace("bruh",{ fileName : "source/ChartingState.hx", lineNumber : 843, className : "ChartingState", methodName : "addEventsUI"});
			this.currentSelectedEventName = firstEventObject.name;
			haxe_Log.trace("bruh",{ fileName : "source/ChartingState.hx", lineNumber : 845, className : "ChartingState", methodName : "addEventsUI"});
			this.currentEventPosition = firstEventObject.position;
			haxe_Log.trace("bruh",{ fileName : "source/ChartingState.hx", lineNumber : 847, className : "ChartingState", methodName : "addEventsUI"});
			eventPos.set_text(this.currentEventPosition + "");
			haxe_Log.trace("bruh",{ fileName : "source/ChartingState.hx", lineNumber : 849, className : "ChartingState", methodName : "addEventsUI"});
		}
		this.listOfEvents = new flixel_addons_ui_FlxUIDropDownMenu(10,20,flixel_addons_ui_FlxUIDropDownMenu.makeStrIdLabelArray(listofnames,true),function(name) {
			var event = _gthis.containsName(_gthis.listOfEvents.get_selectedLabel(),ChartingState._song.eventObjects);
			if(event == null) {
				return;
			}
			haxe_Log.trace("selecting " + name + " found: " + Std.string(event),{ fileName : "source/ChartingState.hx", lineNumber : 859, className : "ChartingState", methodName : "addEventsUI"});
			eventName.set_text(event.name);
			eventValue.set_text(event.value);
			eventPos.set_text(event.position + "");
			eventType.set_selectedLabel(event.type);
			_gthis.currentSelectedEventName = event.name;
			_gthis.currentEventPosition = event.position;
		});
		eventValue.callback = function(string,string2) {
			haxe_Log.trace(string + " - value",{ fileName : "source/ChartingState.hx", lineNumber : 871, className : "ChartingState", methodName : "addEventsUI"});
			_gthis.savedValue = string;
		};
		eventType.callback = function(type) {
			_gthis.savedType = eventType.get_selectedLabel();
		};
		eventName.callback = function(string,string2) {
			var obj = _gthis.containsName(_gthis.currentSelectedEventName,ChartingState._song.eventObjects);
			if(obj == null) {
				_gthis.currentSelectedEventName = string;
				return;
			}
			obj = _gthis.containsName(string,ChartingState._song.eventObjects);
			if(obj != null) {
				return;
			}
			obj = _gthis.containsName(_gthis.currentSelectedEventName,ChartingState._song.eventObjects);
			obj.name = string;
			_gthis.currentSelectedEventName = string;
		};
		haxe_Log.trace("bruh",{ fileName : "source/ChartingState.hx", lineNumber : 895, className : "ChartingState", methodName : "addEventsUI"});
		this.Typeables.push(eventPos);
		this.Typeables.push(eventValue);
		this.Typeables.push(eventName);
		var tab_events = new flixel_addons_ui_FlxUI(null,this.UI_options);
		tab_events.name = "Events";
		tab_events.add(posLabel);
		tab_events.add(valueLabel);
		tab_events.add(nameLabel);
		tab_events.add(listLabel);
		tab_events.add(typeLabel);
		tab_events.add(eventName);
		tab_events.add(eventType);
		tab_events.add(this.listOfEvents);
		tab_events.add(eventValue);
		tab_events.add(eventSave);
		tab_events.add(eventAdd);
		tab_events.add(eventRemove);
		tab_events.add(eventPos);
		tab_events.add(updatePos);
		this.UI_options.addGroup(tab_events);
	}
	,addOptionsUI: function() {
		var _gthis = this;
		var hitsounds = new flixel_addons_ui_FlxUICheckBox(10,60,null,null,"Play hitsounds",100);
		hitsounds.set_checked(false);
		hitsounds.callback = function() {
			_gthis.playClaps = hitsounds.checked;
		};
		var check_mute_inst = new flixel_addons_ui_FlxUICheckBox(10,90,null,null,"Mute Instrumental",100);
		check_mute_inst.set_checked(false);
		check_mute_inst.callback = function() {
			var vol = 1;
			if(check_mute_inst.checked) {
				vol = 0;
			}
			flixel_FlxG.sound.music.set_volume(vol);
		};
		this.check_snap = new flixel_addons_ui_FlxUICheckBox(80,25,null,null,"Snap to grid",100);
		this.check_snap.set_checked(this.defaultSnap);
		this.check_snap.callback = function() {
			_gthis.defaultSnap = _gthis.check_snap.checked;
			haxe_Log.trace("CHECKED!",{ fileName : "source/ChartingState.hx", lineNumber : 949, className : "ChartingState", methodName : "addOptionsUI"});
		};
		var tab_options = new flixel_addons_ui_FlxUI(null,this.UI_options);
		tab_options.name = "Options";
		tab_options.add(hitsounds);
		tab_options.add(check_mute_inst);
		this.UI_options.addGroup(tab_options);
	}
	,addSongUI: function() {
		var _gthis = this;
		var UI_songTitle = new flixel_addons_ui_FlxUIInputText(10,10,70,ChartingState._song.song,8);
		this.typingShit = UI_songTitle;
		var check_voices = new flixel_addons_ui_FlxUICheckBox(10,25,null,null,"Has voice track",100);
		check_voices.set_checked(ChartingState._song.needsVoices);
		check_voices.callback = function() {
			ChartingState._song.needsVoices = check_voices.checked;
			haxe_Log.trace("CHECKED!",{ fileName : "source/ChartingState.hx", lineNumber : 970, className : "ChartingState", methodName : "addSongUI"});
		};
		var saveButton = new flixel_ui_FlxButton(110,8,"Save",function() {
			_gthis.saveLevel();
		});
		var reloadSong = new flixel_ui_FlxButton(saveButton.x + saveButton.get_width() + 10,saveButton.y,"Reload Audio",function() {
			_gthis.loadSong(ChartingState._song.song);
		});
		var reloadSongJson = new flixel_ui_FlxButton(reloadSong.x,saveButton.y + 30,"Reload JSON",function() {
			_gthis.loadJson(ChartingState._song.song.toLowerCase());
		});
		var restart = new flixel_ui_FlxButton(10,140,"Reset Chart",function() {
			var _g = 0;
			var _g1 = ChartingState._song.notes.length;
			while(_g < _g1) {
				var ii = _g++;
				var _g2 = 0;
				var _g3 = ChartingState._song.notes[ii].sectionNotes.length;
				while(_g2 < _g3) {
					var i = _g2++;
					ChartingState._song.notes[ii].sectionNotes = [];
				}
			}
			_gthis.resetSection(true);
		});
		var loadAutosaveBtn = new flixel_ui_FlxButton(reloadSongJson.x,reloadSongJson.y + 30,"load autosave",$bind(this,this.loadAutosave));
		var stepperBPM = new flixel_addons_ui_FlxUINumericStepper(10,65,0.1,1,1.0,5000.0,1);
		stepperBPM.set_value(Conductor.bpm);
		stepperBPM.name = "song_bpm";
		var stepperBPMLabel = new flixel_text_FlxText(74,65,null,"BPM");
		var stepperSpeed = new flixel_addons_ui_FlxUINumericStepper(10,80,0.1,1,0.1,10,1);
		stepperSpeed.set_value(ChartingState._song.speed);
		stepperSpeed.name = "song_speed";
		var stepperSpeedLabel = new flixel_text_FlxText(74,80,null,"Scroll Speed");
		var stepperVocalVol = new flixel_addons_ui_FlxUINumericStepper(10,95,0.1,1,0.1,10,1);
		stepperVocalVol.set_value(this.vocals._volume);
		stepperVocalVol.name = "song_vocalvol";
		var stepperVocalVolLabel = new flixel_text_FlxText(74,95,null,"Vocal Volume");
		var stepperSongVol = new flixel_addons_ui_FlxUINumericStepper(10,110,0.1,1,0.1,10,1);
		stepperSongVol.set_value(flixel_FlxG.sound.music._volume);
		stepperSongVol.name = "song_instvol";
		var stepperSongVolLabel = new flixel_text_FlxText(74,110,null,"Instrumental Volume");
		var shiftNoteDialLabel = new flixel_text_FlxText(10,245,null,"Shift Note FWD by (Section)");
		var stepperShiftNoteDial = new flixel_addons_ui_FlxUINumericStepper(10,260,1,0,-1000,1000,0);
		stepperShiftNoteDial.name = "song_shiftnote";
		var shiftNoteDialLabel2 = new flixel_text_FlxText(10,275,null,"Shift Note FWD by (Step)");
		var stepperShiftNoteDialstep = new flixel_addons_ui_FlxUINumericStepper(10,290,1,0,-1000,1000,0);
		stepperShiftNoteDialstep.name = "song_shiftnotems";
		var shiftNoteDialLabel3 = new flixel_text_FlxText(10,305,null,"Shift Note FWD by (ms)");
		var stepperShiftNoteDialms = new flixel_addons_ui_FlxUINumericStepper(10,320,1,0,-1000,1000,2);
		stepperShiftNoteDialms.name = "song_shiftnotems";
		var shiftNoteButton = new flixel_ui_FlxButton(10,335,"Shift",function() {
			_gthis.shiftNotes(stepperShiftNoteDial.value | 0,stepperShiftNoteDialstep.value | 0,stepperShiftNoteDialms.value | 0);
		});
		var characters = CoolUtil.coolTextFile(Paths.getPath("data/characterList" + ".txt","TEXT",null));
		var gfVersions = CoolUtil.coolTextFile(Paths.getPath("data/gfVersionList" + ".txt","TEXT",null));
		var stages = CoolUtil.coolTextFile(Paths.getPath("data/stageList" + ".txt","TEXT",null));
		var noteStyles = CoolUtil.coolTextFile(Paths.getPath("data/noteStyleList" + ".txt","TEXT",null));
		var player1DropDown = new flixel_addons_ui_FlxUIDropDownMenu(10,100,flixel_addons_ui_FlxUIDropDownMenu.makeStrIdLabelArray(characters,true),function(character) {
			ChartingState._song.player1 = characters[Std.parseInt(character)];
		});
		player1DropDown.set_selectedLabel(ChartingState._song.player1);
		var player1Label = new flixel_text_FlxText(10,80,64,"Player 1");
		var player2DropDown = new flixel_addons_ui_FlxUIDropDownMenu(140,100,flixel_addons_ui_FlxUIDropDownMenu.makeStrIdLabelArray(characters,true),function(character) {
			ChartingState._song.player2 = characters[Std.parseInt(character)];
		});
		player2DropDown.set_selectedLabel(ChartingState._song.player2);
		var player2Label = new flixel_text_FlxText(140,80,64,"Player 2");
		var gfVersionDropDown = new flixel_addons_ui_FlxUIDropDownMenu(10,200,flixel_addons_ui_FlxUIDropDownMenu.makeStrIdLabelArray(gfVersions,true),function(gfVersion) {
			ChartingState._song.gfVersion = gfVersions[Std.parseInt(gfVersion)];
		});
		gfVersionDropDown.set_selectedLabel(ChartingState._song.gfVersion);
		var gfVersionLabel = new flixel_text_FlxText(10,180,64,"Girlfriend");
		var stageDropDown = new flixel_addons_ui_FlxUIDropDownMenu(140,200,flixel_addons_ui_FlxUIDropDownMenu.makeStrIdLabelArray(stages,true),function(stage) {
			ChartingState._song.stage = stages[Std.parseInt(stage)];
		});
		stageDropDown.set_selectedLabel(ChartingState._song.stage);
		var stageLabel = new flixel_text_FlxText(140,180,64,"Stage");
		var noteStyleDropDown = new flixel_addons_ui_FlxUIDropDownMenu(10,300,flixel_addons_ui_FlxUIDropDownMenu.makeStrIdLabelArray(noteStyles,true),function(noteStyle) {
			ChartingState._song.noteStyle = noteStyles[Std.parseInt(noteStyle)];
		});
		noteStyleDropDown.set_selectedLabel(ChartingState._song.noteStyle);
		var noteStyleLabel = new flixel_text_FlxText(10,280,64,"Note Skin");
		var tab_group_song = new flixel_addons_ui_FlxUI(null,this.UI_box);
		tab_group_song.name = "Song";
		tab_group_song.add(UI_songTitle);
		tab_group_song.add(restart);
		tab_group_song.add(check_voices);
		tab_group_song.add(saveButton);
		tab_group_song.add(reloadSong);
		tab_group_song.add(reloadSongJson);
		tab_group_song.add(loadAutosaveBtn);
		tab_group_song.add(stepperBPM);
		tab_group_song.add(stepperBPMLabel);
		tab_group_song.add(stepperSpeed);
		tab_group_song.add(stepperSpeedLabel);
		tab_group_song.add(stepperVocalVol);
		tab_group_song.add(stepperVocalVolLabel);
		tab_group_song.add(stepperSongVol);
		tab_group_song.add(stepperSongVolLabel);
		tab_group_song.add(shiftNoteDialLabel);
		tab_group_song.add(stepperShiftNoteDial);
		tab_group_song.add(shiftNoteDialLabel2);
		tab_group_song.add(stepperShiftNoteDialstep);
		tab_group_song.add(shiftNoteDialLabel3);
		tab_group_song.add(stepperShiftNoteDialms);
		tab_group_song.add(shiftNoteButton);
		var tab_group_assets = new flixel_addons_ui_FlxUI(null,this.UI_box);
		tab_group_assets.name = "Assets";
		tab_group_assets.add(noteStyleDropDown);
		tab_group_assets.add(noteStyleLabel);
		tab_group_assets.add(gfVersionDropDown);
		tab_group_assets.add(gfVersionLabel);
		tab_group_assets.add(stageDropDown);
		tab_group_assets.add(stageLabel);
		tab_group_assets.add(player1DropDown);
		tab_group_assets.add(player2DropDown);
		tab_group_assets.add(player1Label);
		tab_group_assets.add(player2Label);
		this.UI_box.addGroup(tab_group_song);
		this.UI_box.addGroup(tab_group_assets);
		this.camFollow = new flixel_FlxObject(280,0,1,1);
		this.add(this.camFollow);
		flixel_FlxG.camera.follow(this.camFollow);
	}
	,stepperLength: null
	,check_mustHitSection: null
	,check_changeBPM: null
	,stepperSectionBPM: null
	,check_altAnim: null
	,addSectionUI: function() {
		var _gthis = this;
		var tab_group_section = new flixel_addons_ui_FlxUI(null,this.UI_box);
		tab_group_section.name = "Section";
		var stepperCopy = new flixel_addons_ui_FlxUINumericStepper(110,132,1,1,-999,999,0);
		var stepperCopyLabel = new flixel_text_FlxText(174,132,null,"sections back");
		var copyButton = new flixel_ui_FlxButton(10,130,"Copy last section",function() {
			_gthis.copySection(stepperCopy.value | 0);
		});
		var clearSectionButton = new flixel_ui_FlxButton(10,150,"Clear Section",$bind(this,this.clearSection));
		var startSection = new flixel_ui_FlxButton(10,85,"Play Here",function() {
			PlayState.SONG = ChartingState._song;
			var _this = flixel_FlxG.sound.music;
			_this.cleanup(_this.autoDestroy,true);
			if(!PlayState.isSM) {
				var _this = _gthis.vocals;
				_this.cleanup(_this.autoDestroy,true);
			}
			PlayState.startTime = _gthis.lastUpdatedSection.startTime;
			var nextState = LoadingState.getNextState(new PlayState(),false);
			if(flixel_FlxG.game._state.switchTo(nextState)) {
				flixel_FlxG.game._requestedState = nextState;
			}
		});
		var swapSection = new flixel_ui_FlxButton(10,170,"Swap Section",function() {
			var sect = _gthis.lastUpdatedSection;
			if(sect == null) {
				return;
			}
			var _g = 0;
			var _g1 = sect.sectionNotes.length;
			while(_g < _g1) {
				var i = _g++;
				var note = sect.sectionNotes[i];
				if(note[1] < 4) {
					note[1] += 4;
				} else {
					note[1] -= 4;
				}
				sect.sectionNotes[i] = note;
				_gthis.updateGrid();
			}
		});
		this.check_mustHitSection = new flixel_addons_ui_FlxUICheckBox(10,30,null,null,"Camera Points to P1?",100,null,function() {
			var sect = _gthis.lastUpdatedSection;
			haxe_Log.trace(sect,{ fileName : "source/ChartingState.hx", lineNumber : 1196, className : "ChartingState", methodName : "addSectionUI"});
			if(sect == null) {
				return;
			}
			sect.mustHitSection = _gthis.check_mustHitSection.checked;
			var i = new flixel_group_FlxTypedGroupIterator(_gthis.sectionRenderes.members,null);
			while(i.hasNext()) {
				var i1 = i.next();
				if(i1.section.startTime == sect.startTime) {
					var cachedY = i1.icon.y;
					_gthis.remove(i1.icon);
					var sectionicon = _gthis.check_mustHitSection.checked ? new HealthIcon(ChartingState._song.player1).clone() : new HealthIcon(ChartingState._song.player2).clone();
					sectionicon.set_x(-95);
					sectionicon.set_y(cachedY);
					sectionicon.setGraphicSize(0,45);
					i1.icon = sectionicon;
					i1.lastUpdated = sect.mustHitSection;
					_gthis.add(sectionicon);
				}
			}
		});
		this.check_mustHitSection.set_checked(true);
		this.check_altAnim = new flixel_addons_ui_FlxUICheckBox(10,340,null,null,"Alternate Animation",100);
		this.check_altAnim.name = "check_altAnim";
		var refresh = new flixel_ui_FlxButton(10,60,"Refresh Section",function() {
			var section = _gthis.getSectionByTime(Conductor.songPosition);
			if(section == null) {
				return;
			}
			_gthis.check_mustHitSection.set_checked(section.mustHitSection);
			_gthis.check_altAnim.set_checked(section.altAnim);
		});
		tab_group_section.add(refresh);
		tab_group_section.add(stepperCopy);
		tab_group_section.add(stepperCopyLabel);
		tab_group_section.add(this.check_mustHitSection);
		tab_group_section.add(this.check_altAnim);
		tab_group_section.add(copyButton);
		tab_group_section.add(clearSectionButton);
		tab_group_section.add(swapSection);
		tab_group_section.add(startSection);
		this.UI_box.addGroup(tab_group_section);
	}
	,stepperSusLength: null
	,tab_group_note: null
	,addNoteUI: function() {
		this.tab_group_note = new flixel_addons_ui_FlxUI(null,this.UI_box);
		this.tab_group_note.name = "Note";
		this.writingNotesText = new flixel_addons_ui_FlxUIText(20,100,0,"");
		this.writingNotesText.setFormat("Arial",20,-1,"left",flixel_text_FlxTextBorderStyle.OUTLINE,-16777216);
		this.stepperSusLength = new flixel_addons_ui_FlxUINumericStepper(10,10,Conductor.stepCrochet / 2,0,0,Conductor.stepCrochet * 16 * 4);
		this.stepperSusLength.set_value(0);
		this.stepperSusLength.name = "note_susLength";
		var stepperSusLengthLabel = new flixel_text_FlxText(74,10,null,"Note Sustain Length");
		var applyLength = new flixel_ui_FlxButton(10,100,"Apply Data");
		this.tab_group_note.add(this.stepperSusLength);
		this.tab_group_note.add(stepperSusLengthLabel);
		this.tab_group_note.add(applyLength);
		this.UI_box.addGroup(this.tab_group_note);
	}
	,loadSong: function(daSong) {
		var _gthis = this;
		if(flixel_FlxG.sound.music != null) {
			var _this = flixel_FlxG.sound.music;
			_this.cleanup(_this.autoDestroy,true);
		}
		var tmp = flixel_FlxG.sound;
		var songLowercase = StringTools.replace(daSong," ","-").toLowerCase();
		switch(songLowercase) {
		case "dad-battle":
			songLowercase = "dadbattle";
			break;
		case "philly-nice":
			songLowercase = "philly";
			break;
		}
		tmp.playMusic("songs:assets/songs/" + songLowercase + "/Inst." + "mp3",0.6);
		var tmp = new flixel_system_FlxSound();
		var songLowercase = StringTools.replace(daSong," ","-").toLowerCase();
		switch(songLowercase) {
		case "dad-battle":
			songLowercase = "dadbattle";
			break;
		case "philly-nice":
			songLowercase = "philly";
			break;
		}
		this.vocals = tmp.loadEmbedded("songs:assets/songs/" + songLowercase + "/Voices." + "mp3");
		flixel_FlxG.sound.list.add(this.vocals);
		flixel_FlxG.sound.music.pause();
		if(!PlayState.isSM) {
			this.vocals.pause();
		}
		flixel_FlxG.sound.music.onComplete = function() {
			if(!PlayState.isSM) {
				_gthis.vocals.pause();
			}
			flixel_FlxG.sound.music.pause();
		};
	}
	,generateUI: function() {
		while(this.bullshitUI.members.length > 0) this.bullshitUI.remove(this.bullshitUI.members[0],true);
		var title = new flixel_text_FlxText(this.UI_box.x + 20,this.UI_box.y + 20,0);
		this.bullshitUI.add(title);
	}
	,getEvent: function(id,sender,data,params) {
		if(id == "click_check_box") {
			var check = sender;
			var label = check.getLabel().text;
			if(label == "Alternate Animation") {
				this.getSectionByTime(Conductor.songPosition).altAnim = check.checked;
			}
		} else if(id == "change_numeric_stepper" && ((sender) instanceof flixel_addons_ui_FlxUINumericStepper)) {
			var nums = sender;
			var wname = nums.name;
			switch(wname) {
			case "divisions":
				this.subDivisions = nums.value;
				this.updateGrid();
				break;
			case "note_susLength":
				if(this.curSelectedNote == null) {
					return;
				}
				if(nums.value <= 0) {
					nums.set_value(0);
				}
				this.curSelectedNote[2] = nums.value;
				this.updateGrid();
				break;
			case "section_bpm":
				if(nums.value <= 0.1) {
					nums.set_value(0.1);
				}
				this.getSectionByTime(Conductor.songPosition).bpm = nums.value | 0;
				this.updateGrid();
				break;
			case "section_length":
				if(nums.value <= 4) {
					nums.set_value(4);
				}
				this.getSectionByTime(Conductor.songPosition).lengthInSteps = nums.value | 0;
				this.updateGrid();
				break;
			case "song_bpm":
				if(nums.value <= 0) {
					nums.set_value(1);
				}
				this.tempBpm = nums.value | 0;
				Conductor.mapBPMChanges(ChartingState._song);
				Conductor.changeBPM(nums.value | 0);
				break;
			case "song_instvol":
				if(nums.value <= 0.1) {
					nums.set_value(0.1);
				}
				flixel_FlxG.sound.music.set_volume(nums.value);
				break;
			case "song_speed":
				if(nums.value <= 0) {
					nums.set_value(0);
				}
				ChartingState._song.speed = nums.value;
				break;
			case "song_vocalvol":
				if(nums.value <= 0.1) {
					nums.set_value(0.1);
				}
				if(!PlayState.isSM) {
					this.vocals.set_volume(nums.value);
				}
				break;
			}
		}
	}
	,updatedSection: null
	,stepStartTime: function(step) {
		return Conductor.bpm / (step / 4) / 60;
	}
	,sectionStartTime: function(customIndex) {
		if(customIndex == null) {
			customIndex = -1;
		}
		if(customIndex == -1) {
			customIndex = this.curSection;
		}
		var daBPM = Conductor.bpm;
		var daPos = 0;
		var _g = 0;
		var _g1 = customIndex;
		while(_g < _g1) {
			var i = _g++;
			daPos += 4 * (60000 / daBPM);
		}
		return daPos;
	}
	,writingNotes: null
	,doSnapShit: null
	,diff: null
	,changeIndex: null
	,currentBPM: null
	,lastBPM: null
	,updateFrame: null
	,lastUpdatedSection: null
	,resizeEverything: function() {
		var _gthis = this;
		this.curRenderedNotes.forEach(function(note) {
			var seg = TimingStruct.getTimingAtTimestamp(note.strumTime);
			note.set_y(_gthis.getYfromStrum(note.strumTime) * _gthis.zoomFactor);
			var stepCrochet = 60 / seg.bpm * 1000 / 4;
			if(note.sustainLength >= 2) {
				note.noteCharterObject.set_y(note.y + _gthis.GRID_SIZE);
				note.noteCharterObject.makeGraphic(8,Math.floor(_gthis.getYfromStrum(note.strumTime + note.sustainLength) * _gthis.zoomFactor - note.y),-1);
			}
		});
		this.regenerateLines();
	}
	,update: function(elapsed) {
		var _gthis = this;
		this.updateHeads();
		var doInput = true;
		var _g = 0;
		var _g1 = this.Typeables;
		while(_g < _g1.length) {
			var i = _g1[_g];
			++_g;
			if(i.hasFocus) {
				doInput = false;
			}
		}
		if(doInput) {
			if(flixel_FlxG.mouse.wheel != 0) {
				flixel_FlxG.sound.music.pause();
				if(!PlayState.isSM) {
					this.vocals.pause();
				}
				this.claps.splice(0,this.claps.length);
				var _this = flixel_FlxG.keys.pressed;
				if(_this.keyManager.checkStatus(17,_this.status)) {
					var amount = flixel_FlxG.mouse.wheel;
					if(amount > 0) {
						amount = 0;
					}
					var increase = 0;
					if(amount < 0) {
						increase = -0.02;
					} else {
						increase = 0.02;
					}
					this.zoomFactor += increase;
					if(this.zoomFactor > 2) {
						this.zoomFactor = 2;
					}
					if(this.zoomFactor < 0.1) {
						this.zoomFactor = 0.1;
					}
					this.resizeEverything();
				} else {
					var amount = flixel_FlxG.mouse.wheel;
					if(amount > 0 && this.strumLine.y < 0) {
						amount = 0;
					}
					if(this.doSnapShit) {
						var increase = 0;
						var beats = 0;
						if(amount < 0) {
							increase = 1 / this.deezNuts.h[this.snap];
							beats = Math.floor(this.curDecimalBeat * this.deezNuts.h[this.snap] + 0.001) / this.deezNuts.h[this.snap] + increase;
						} else {
							increase = -1 / this.deezNuts.h[this.snap];
							beats = (Math.ceil(this.curDecimalBeat * this.deezNuts.h[this.snap]) - 0.001) / this.deezNuts.h[this.snap] + increase;
						}
						haxe_Log.trace("SNAP - " + this.snap + " INCREASE - " + increase + " - GO TO BEAT " + beats,{ fileName : "source/ChartingState.hx", lineNumber : 1561, className : "ChartingState", methodName : "update"});
						var data = TimingStruct.getTimingAtBeat(beats);
						if(beats <= 0) {
							flixel_FlxG.sound.music.set_time(0);
						}
						var bpm = data != null ? data.bpm : ChartingState._song.bpm;
						if(data != null) {
							flixel_FlxG.sound.music.set_time((data.startTime + (beats - data.startBeat) / (bpm / 60)) * 1000);
						}
					}
					if(!PlayState.isSM) {
						this.vocals.set_time(flixel_FlxG.sound.music._time);
					}
				}
			}
		}
		if(this.updateFrame == 4) {
			TimingStruct.clearTimings();
			var currentIndex = 0;
			var _g = 0;
			var _g1 = ChartingState._song.eventObjects;
			while(_g < _g1.length) {
				var i = _g1[_g];
				++_g;
				if(i.type == "BPM Change") {
					var beat = i.position;
					var endBeat = Infinity;
					TimingStruct.addTiming(beat,i.value,endBeat,0);
					if(currentIndex != 0) {
						var data = TimingStruct.AllTimings[currentIndex - 1];
						data.endBeat = beat;
						data.length = (data.endBeat - data.startBeat) / (data.bpm / 60);
						TimingStruct.AllTimings[currentIndex].startTime = data.startTime + data.length;
					}
					++currentIndex;
				}
			}
			this.recalculateAllSectionTimes();
			this.regenerateLines();
			this.updateFrame++;
		} else if(this.updateFrame != 5) {
			this.updateFrame++;
		}
		this.snapText.set_text("Snap: 1/" + this.snap + " (" + (this.doSnapShit ? "Shift to disable, Left or Right to increase/decrease" : "Snap Disabled, Shift to renable.") + ")\nAdd Notes: 1-8 (or click)\nZoom: " + this.zoomFactor);
		var _this = flixel_FlxG.keys.justPressed;
		if(_this.keyManager.checkStatus(39,_this.status)) {
			this.snap *= 2;
		}
		var _this = flixel_FlxG.keys.justPressed;
		if(_this.keyManager.checkStatus(37,_this.status)) {
			this.snap = Math.round(this.snap / 2);
		}
		if(this.snap >= 64) {
			this.snap = 64;
		}
		if(this.snap <= 4) {
			this.snap = 4;
		}
		this.doSnapShit = this.defaultSnap;
		var _this = flixel_FlxG.keys.pressed;
		if(_this.keyManager.checkStatus(16,_this.status)) {
			this.doSnapShit = !this.defaultSnap;
		}
		this.check_snap.set_checked(this.doSnapShit);
		Conductor.songPosition = flixel_FlxG.sound.music._time;
		ChartingState._song.song = this.typingShit.text;
		var timingSeg = TimingStruct.getTimingAtTimestamp(Conductor.songPosition);
		var start = Conductor.songPosition;
		if(timingSeg != null) {
			var timingSegBpm = timingSeg.bpm;
			this.currentBPM = timingSegBpm;
			if(this.currentBPM != Conductor.bpm) {
				haxe_Log.trace("BPM CHANGE to " + this.currentBPM,{ fileName : "source/ChartingState.hx", lineNumber : 1657, className : "ChartingState", methodName : "update"});
				Conductor.changeBPM(this.currentBPM,false);
			}
			var pog = (this.curDecimalBeat - timingSeg.startBeat) / (Conductor.bpm / 60);
			start = (timingSeg.startTime + pog) * 1000;
		}
		var weird = this.getSectionByTime(start,true);
		if(weird != null) {
			if(this.lastUpdatedSection != this.getSectionByTime(start,true)) {
				this.lastUpdatedSection = weird;
				this.check_mustHitSection.set_checked(weird.mustHitSection);
				this.check_altAnim.set_checked(weird.altAnim);
			}
		}
		this.strumLine.set_y(this.getYfromStrum(start) * this.zoomFactor);
		this.camFollow.set_y(this.strumLine.y);
		this.bpmTxt.set_text(Std.string(flixel_math_FlxMath.roundDecimal(Conductor.songPosition / 1000,2)) + " / " + Std.string(flixel_math_FlxMath.roundDecimal(flixel_FlxG.sound.music._length / 1000,2)) + "\nCur Section: " + this.curSection + "\nCurBPM: " + this.currentBPM + "\nCurBeat: " + HelperFunctions.truncateFloat(this.curDecimalBeat,3) + "\nZoom: " + this.zoomFactor);
		var _this = flixel_FlxG.keys.justPressed;
		var left = _this.keyManager.checkStatus(49,_this.status);
		var _this = flixel_FlxG.keys.justPressed;
		var down = _this.keyManager.checkStatus(50,_this.status);
		var _this = flixel_FlxG.keys.justPressed;
		var up = _this.keyManager.checkStatus(51,_this.status);
		var _this = flixel_FlxG.keys.justPressed;
		var right = _this.keyManager.checkStatus(52,_this.status);
		var _this = flixel_FlxG.keys.justPressed;
		var leftO = _this.keyManager.checkStatus(53,_this.status);
		var _this = flixel_FlxG.keys.justPressed;
		var downO = _this.keyManager.checkStatus(54,_this.status);
		var _this = flixel_FlxG.keys.justPressed;
		var upO = _this.keyManager.checkStatus(55,_this.status);
		var _this = flixel_FlxG.keys.justPressed;
		var rightO = _this.keyManager.checkStatus(56,_this.status);
		var pressArray = [left,down,up,right,leftO,downO,upO,rightO];
		var $delete = false;
		if(doInput) {
			this.curRenderedNotes.forEach(function(note) {
				if(_gthis.strumLine.overlaps(note) && pressArray[Math.floor(Math.abs(note.noteData))]) {
					_gthis.deleteNote(note);
					$delete = true;
					haxe_Log.trace("deelte note",{ fileName : "source/ChartingState.hx", lineNumber : 1718, className : "ChartingState", methodName : "update"});
				}
			});
			var _g = 0;
			var _g1 = pressArray.length;
			while(_g < _g1) {
				var p = _g++;
				var i = pressArray[p];
				if(i && !$delete) {
					this.addNote(new Note(Conductor.songPosition,p));
				}
			}
		}
		if(this.playClaps) {
			this.curRenderedNotes.forEach(function(note) {
				if(flixel_FlxG.sound.music._channel != null) {
					if(_gthis.strumLine.overlaps(note)) {
						if(_gthis.claps.indexOf(note) == -1) {
							_gthis.claps.push(note);
							flixel_FlxG.sound.play(Paths.sound("SNAP"));
						}
					}
				}
			});
		}
		if(flixel_FlxG.mouse._leftButton.current == 2) {
			if(flixel_FlxG.mouse.overlaps(this.curRenderedNotes)) {
				this.curRenderedNotes.forEach(function(note) {
					if(flixel_FlxG.mouse.overlaps(note)) {
						var _this = flixel_FlxG.keys.pressed;
						if(_this.keyManager.checkStatus(17,_this.status)) {
							_gthis.selectNote(note);
						} else {
							_gthis.deleteNote(note);
						}
					}
				});
			} else if(flixel_FlxG.mouse.x > 0 && flixel_FlxG.mouse.x < this.gridBG.get_width() && flixel_FlxG.mouse.y > 0 && flixel_FlxG.mouse.y < this.height) {
				this.addNote();
			}
		}
		if(flixel_FlxG.mouse.x > 0 && flixel_FlxG.mouse.x < this.gridBG.get_width() && flixel_FlxG.mouse.y > 0 && flixel_FlxG.mouse.y < this.height) {
			this.dummyArrow.set_visible(true);
			this.dummyArrow.set_x(Math.floor(flixel_FlxG.mouse.x / this.GRID_SIZE) * this.GRID_SIZE);
			this.dummyArrow.set_y(Math.floor(flixel_FlxG.mouse.y / (this.GRID_SIZE / this.deezNuts.h[this.snap])) * (this.GRID_SIZE / this.deezNuts.h[this.snap]));
		} else {
			this.dummyArrow.set_visible(false);
		}
		if(doInput) {
			var _this = flixel_FlxG.keys.justPressed;
			if(_this.keyManager.checkStatus(13,_this.status)) {
				ChartingState.lastSection = this.curSection;
				PlayState.SONG = ChartingState._song;
				var _this = flixel_FlxG.sound.music;
				_this.cleanup(_this.autoDestroy,true);
				if(!PlayState.isSM) {
					var _this = this.vocals;
					_this.cleanup(_this.autoDestroy,true);
				}
				var nextState = LoadingState.getNextState(new PlayState(),false);
				if(flixel_FlxG.game._state.switchTo(nextState)) {
					flixel_FlxG.game._requestedState = nextState;
				}
			}
			var _this = flixel_FlxG.keys.justPressed;
			if(_this.keyManager.checkStatus(69,_this.status)) {
				this.changeNoteSustain(60 / (timingSeg != null ? timingSeg.bpm : ChartingState._song.bpm) * 1000 / 4);
			}
			var _this = flixel_FlxG.keys.justPressed;
			if(_this.keyManager.checkStatus(81,_this.status)) {
				this.changeNoteSustain(-(60 / (timingSeg != null ? timingSeg.bpm : ChartingState._song.bpm) * 1000 / 4));
			}
			var _this = flixel_FlxG.keys.justPressed;
			if(_this.keyManager.checkStatus(9,_this.status)) {
				var _this = flixel_FlxG.keys.pressed;
				if(_this.keyManager.checkStatus(16,_this.status)) {
					var _g = this.UI_box;
					_g.set_selected_tab(_g.get_selected_tab() - 1);
					if(this.UI_box.get_selected_tab() < 0) {
						this.UI_box.set_selected_tab(2);
					}
				} else {
					var _g = this.UI_box;
					_g.set_selected_tab(_g.get_selected_tab() + 1);
					if(this.UI_box.get_selected_tab() >= 3) {
						this.UI_box.set_selected_tab(0);
					}
				}
			}
			if(!this.typingShit.hasFocus) {
				var _this = flixel_FlxG.keys.pressed;
				if(_this.keyManager.checkStatus(17,_this.status)) {
					var _this = flixel_FlxG.keys.justPressed;
					if(_this.keyManager.checkStatus(90,_this.status) && this.lastNote != null) {
						haxe_Log.trace(this.curRenderedNotes.members.indexOf(this.lastNote) != -1 ? "delete note" : "add note",{ fileName : "source/ChartingState.hx", lineNumber : 1915, className : "ChartingState", methodName : "update"});
						if(this.curRenderedNotes.members.indexOf(this.lastNote) != -1) {
							this.deleteNote(this.lastNote);
						} else {
							this.addNote(this.lastNote);
						}
					}
				}
				var shiftThing = 1;
				var _this = flixel_FlxG.keys.pressed;
				if(_this.keyManager.checkStatus(16,_this.status)) {
					shiftThing = 4;
				}
				var _this = flixel_FlxG.keys.justPressed;
				if(_this.keyManager.checkStatus(32,_this.status)) {
					if(flixel_FlxG.sound.music._channel != null) {
						flixel_FlxG.sound.music.pause();
						if(!PlayState.isSM) {
							this.vocals.pause();
						}
						this.claps.splice(0,this.claps.length);
					} else {
						if(!PlayState.isSM) {
							this.vocals.play();
						}
						flixel_FlxG.sound.music.play();
					}
				}
				if(flixel_FlxG.sound.music._time < 0 || this.curDecimalBeat < 0) {
					flixel_FlxG.sound.music.set_time(0);
				}
				var _this = flixel_FlxG.keys.pressed;
				if(!_this.keyManager.checkStatus(16,_this.status)) {
					var tmp;
					var _this = flixel_FlxG.keys.pressed;
					if(!_this.keyManager.checkStatus(87,_this.status)) {
						var _this = flixel_FlxG.keys.pressed;
						tmp = _this.keyManager.checkStatus(83,_this.status);
					} else {
						tmp = true;
					}
					if(tmp) {
						flixel_FlxG.sound.music.pause();
						if(!PlayState.isSM) {
							this.vocals.pause();
						}
						this.claps.splice(0,this.claps.length);
						var daTime = 700 * flixel_FlxG.elapsed;
						var _this = flixel_FlxG.keys.pressed;
						if(_this.keyManager.checkStatus(87,_this.status)) {
							var _g = flixel_FlxG.sound.music;
							_g.set_time(_g._time - daTime);
						} else {
							var _g = flixel_FlxG.sound.music;
							_g.set_time(_g._time + daTime);
						}
						if(!PlayState.isSM) {
							this.vocals.set_time(flixel_FlxG.sound.music._time);
						}
					}
				} else {
					var tmp;
					var _this = flixel_FlxG.keys.justPressed;
					if(!_this.keyManager.checkStatus(87,_this.status)) {
						var _this = flixel_FlxG.keys.justPressed;
						tmp = _this.keyManager.checkStatus(83,_this.status);
					} else {
						tmp = true;
					}
					if(tmp) {
						flixel_FlxG.sound.music.pause();
						if(!PlayState.isSM) {
							this.vocals.pause();
						}
						var daTime = Conductor.stepCrochet * 2;
						var _this = flixel_FlxG.keys.justPressed;
						if(_this.keyManager.checkStatus(87,_this.status)) {
							var _g = flixel_FlxG.sound.music;
							_g.set_time(_g._time - daTime);
						} else {
							var _g = flixel_FlxG.sound.music;
							_g.set_time(_g._time + daTime);
						}
						if(!PlayState.isSM) {
							this.vocals.set_time(flixel_FlxG.sound.music._time);
						}
					}
				}
			}
		}
		ChartingState._song.bpm = this.tempBpm;
		MusicBeatState.prototype.update.call(this,elapsed);
	}
	,changeNoteSustain: function(value) {
		if(this.curSelectedNote != null) {
			if(this.curSelectedNote[2] != null) {
				this.curSelectedNote[2] += value;
				this.curSelectedNote[2] = Math.max(this.curSelectedNote[2],0);
			}
		}
		this.updateNoteUI();
		this.updateGrid();
	}
	,resetSection: function(songBeginning) {
		if(songBeginning == null) {
			songBeginning = false;
		}
		flixel_FlxG.sound.music.pause();
		if(!PlayState.isSM) {
			this.vocals.pause();
		}
		flixel_FlxG.sound.music.set_time(0);
		if(!PlayState.isSM) {
			this.vocals.set_time(flixel_FlxG.sound.music._time);
		}
		this.updateGrid();
		if(!songBeginning) {
			this.updateSectionUI();
		}
	}
	,changeSection: function(sec,updateMusic) {
		if(updateMusic == null) {
			updateMusic = true;
		}
		if(sec == null) {
			sec = 0;
		}
		haxe_Log.trace("changing section" + sec,{ fileName : "source/ChartingState.hx", lineNumber : 2035, className : "ChartingState", methodName : "changeSection"});
		if(ChartingState._song.notes[sec] != null) {
			haxe_Log.trace("naw im not null",{ fileName : "source/ChartingState.hx", lineNumber : 2039, className : "ChartingState", methodName : "changeSection"});
			this.curSection = sec;
			this.updateGrid();
			if(updateMusic) {
				flixel_FlxG.sound.music.pause();
				if(!PlayState.isSM) {
					this.vocals.pause();
				}
				flixel_FlxG.sound.music.set_time(this.sectionStartTime());
				if(!PlayState.isSM) {
					this.vocals.set_time(flixel_FlxG.sound.music._time);
				}
				this.updateCurStep();
			}
			this.updateGrid();
			this.updateSectionUI();
		} else {
			haxe_Log.trace("bro wtf I AM NULL",{ fileName : "source/ChartingState.hx", lineNumber : 2068, className : "ChartingState", methodName : "changeSection"});
		}
	}
	,copySection: function(sectionNum) {
		if(sectionNum == null) {
			sectionNum = 1;
		}
		var a = this.curSection;
		var daSec = a > sectionNum ? a : sectionNum;
		var sect = this.lastUpdatedSection;
		if(sect == null) {
			return;
		}
		var _g = 0;
		var _g1 = ChartingState._song.notes[daSec - sectionNum].sectionNotes;
		while(_g < _g1.length) {
			var note = _g1[_g];
			++_g;
			var strum = note[0] + Conductor.stepCrochet * (ChartingState._song.notes[daSec].lengthInSteps * sectionNum);
			var copiedNote = [strum,note[1],note[2]];
			sect.sectionNotes.push(copiedNote);
		}
		this.updateGrid();
	}
	,updateSectionUI: function() {
		var sec = this.getSectionByTime(Conductor.songPosition);
		if(sec == null) {
			this.check_mustHitSection.set_checked(true);
			this.check_altAnim.set_checked(false);
		} else {
			this.check_mustHitSection.set_checked(sec.mustHitSection);
			this.check_altAnim.set_checked(sec.altAnim);
			this.check_changeBPM.set_checked(sec.changeBPM);
		}
	}
	,updateHeads: function() {
		if(this.check_mustHitSection.checked) {
			ChartingState.leftIcon.animation.play(ChartingState._song.player1);
			ChartingState.rightIcon.animation.play(ChartingState._song.player2);
		} else {
			ChartingState.leftIcon.animation.play(ChartingState._song.player2);
			ChartingState.rightIcon.animation.play(ChartingState._song.player1);
		}
	}
	,updateNoteUI: function() {
		if(this.curSelectedNote != null) {
			this.stepperSusLength.set_value(this.curSelectedNote[2]);
		}
	}
	,updateGrid: function() {
		while(this.curRenderedNotes.members.length > 0) this.curRenderedNotes.remove(this.curRenderedNotes.members[0],true);
		while(this.curRenderedSustains.members.length > 0) this.curRenderedSustains.remove(this.curRenderedSustains.members[0],true);
		var currentSection = 0;
		var _g = 0;
		var _g1 = ChartingState._song.notes;
		while(_g < _g1.length) {
			var section = _g1[_g];
			++_g;
			var _g2 = 0;
			var _g3 = section.sectionNotes;
			while(_g2 < _g3.length) {
				var i = _g3[_g2];
				++_g2;
				var seg = TimingStruct.getTimingAtTimestamp(i[0]);
				var daNoteInfo = i[1];
				var daStrumTime = i[0];
				var daSus = i[2];
				var note = new Note(daStrumTime,daNoteInfo % 4,null,false,true);
				note.rawNoteData = daNoteInfo;
				note.sustainLength = daSus;
				note.setGraphicSize(Math.floor(this.GRID_SIZE),Math.floor(this.GRID_SIZE));
				note.updateHitbox();
				note.set_x(Math.floor(daNoteInfo * this.GRID_SIZE));
				note.set_y(Math.floor(this.getYfromStrum(daStrumTime) * this.zoomFactor));
				if(this.curSelectedNote != null) {
					if(this.curSelectedNote[0] == note.strumTime) {
						this.lastNote = note;
					}
				}
				this.curRenderedNotes.add(note);
				var stepCrochet = 60 / seg.bpm * 1000 / 4;
				if(daSus > 0) {
					var sustainVis = new flixel_FlxSprite(note.x + this.GRID_SIZE / 2,note.y + this.GRID_SIZE).makeGraphic(8,Math.floor(this.getYfromStrum(note.strumTime + note.sustainLength) * this.zoomFactor - note.y));
					note.noteCharterObject = sustainVis;
					this.curRenderedSustains.add(sustainVis);
				}
			}
			++currentSection;
		}
	}
	,addSection: function(lengthInSteps) {
		if(lengthInSteps == null) {
			lengthInSteps = 16;
		}
		var daPos = 0;
		var start = 0;
		var bpm = ChartingState._song.bpm;
		var _g = 0;
		var _g1 = this.curSection;
		while(_g < _g1) {
			var i = _g++;
			var _g2 = 0;
			var _g3 = TimingStruct.AllTimings;
			while(_g2 < _g3.length) {
				var ii = _g3[_g2];
				++_g2;
				var data = TimingStruct.getTimingAtTimestamp(start);
				if((data != null ? data.bpm : ChartingState._song.bpm) != bpm && bpm != ii.bpm) {
					bpm = ii.bpm;
				}
			}
			start += 4 * (60 / bpm) * 1000;
		}
		var sec = { startTime : daPos, endTime : Infinity, lengthInSteps : lengthInSteps, bpm : ChartingState._song.bpm, changeBPM : false, mustHitSection : true, sectionNotes : [], typeOfSection : 0, altAnim : false};
		ChartingState._song.notes.push(sec);
	}
	,selectNote: function(note) {
		var swagNum = 0;
		var _g = 0;
		var _g1 = this.getSectionByTime(note.strumTime).sectionNotes;
		while(_g < _g1.length) {
			var i = _g1[_g];
			++_g;
			if(i[0] == note.strumTime && i[1] == note.rawNoteData) {
				this.curSelectedNote = this.getSectionByTime(note.strumTime).sectionNotes[swagNum];
			}
			++swagNum;
		}
		this.updateGrid();
		this.updateNoteUI();
	}
	,deleteNote: function(note) {
		this.lastNote = note;
		var section = this.getSectionByTime(note.strumTime);
		haxe_Log.trace(section,{ fileName : "source/ChartingState.hx", lineNumber : 2253, className : "ChartingState", methodName : "deleteNote"});
		var found = false;
		var _g = 0;
		var _g1 = section.sectionNotes;
		while(_g < _g1.length) {
			var i = _g1[_g];
			++_g;
			if(i[0] == note.strumTime && i[1] == note.rawNoteData) {
				HxOverrides.remove(section.sectionNotes,i);
				found = true;
			}
		}
		if(!found) {
			var _g = 0;
			var _g1 = ChartingState._song.notes;
			while(_g < _g1.length) {
				var i = _g1[_g];
				++_g;
				var _g2 = 0;
				var _g3 = i.sectionNotes;
				while(_g2 < _g3.length) {
					var n = _g3[_g2];
					++_g2;
					if(n[0] == note.strumTime && n[1] == note.rawNoteData) {
						HxOverrides.remove(i.sectionNotes,n);
					}
				}
			}
		}
		haxe_Log.trace("DELETED!",{ fileName : "source/ChartingState.hx", lineNumber : 2276, className : "ChartingState", methodName : "deleteNote"});
		this.updateGrid();
	}
	,clearSection: function() {
		this.getSectionByTime(Conductor.songPosition).sectionNotes = [];
		this.updateGrid();
	}
	,clearSong: function() {
		var _g = 0;
		var _g1 = ChartingState._song.notes.length;
		while(_g < _g1) {
			var daSection = _g++;
			ChartingState._song.notes[daSection].sectionNotes = [];
		}
		this.updateGrid();
	}
	,newSection: function(lengthInSteps,mustHitSection,altAnim) {
		if(altAnim == null) {
			altAnim = true;
		}
		if(mustHitSection == null) {
			mustHitSection = false;
		}
		if(lengthInSteps == null) {
			lengthInSteps = 16;
		}
		var daPos = 0;
		var currentSeg = TimingStruct.AllTimings[TimingStruct.AllTimings.length - 1];
		var currentBeat = 4;
		var _g = 0;
		var _g1 = ChartingState._song.notes;
		while(_g < _g1.length) {
			var i = _g1[_g];
			++_g;
			currentBeat += 4;
		}
		if(currentSeg == null) {
			return null;
		}
		var start = (currentBeat - currentSeg.startBeat) / (currentSeg.bpm / 60);
		daPos = (currentSeg.startTime + start) * 1000;
		var sec = { startTime : daPos, endTime : Infinity, lengthInSteps : lengthInSteps, bpm : ChartingState._song.bpm, changeBPM : false, mustHitSection : mustHitSection, sectionNotes : [], typeOfSection : 0, altAnim : altAnim};
		return sec;
	}
	,recalculateAllSectionTimes: function() {
		haxe_Log.trace("RECALCULATING SECTION TIMES",{ fileName : "source/ChartingState.hx", lineNumber : 2357, className : "ChartingState", methodName : "recalculateAllSectionTimes"});
		var _g = 0;
		var _g1 = ChartingState._song.notes.length;
		while(_g < _g1) {
			var i = _g++;
			var section = ChartingState._song.notes[i];
			var currentBeat = 4 * i;
			var currentSeg = TimingStruct.getTimingAtBeat(currentBeat);
			if(currentSeg == null) {
				return;
			}
			var start = (currentBeat - currentSeg.startBeat) / (currentSeg.bpm / 60);
			section.startTime = (currentSeg.startTime + start) * 1000;
			if(i != 0) {
				ChartingState._song.notes[i - 1].endTime = section.startTime;
			}
			section.endTime = Infinity;
		}
		this.once = true;
	}
	,once: null
	,shiftNotes: function(measure,step,ms) {
		if(ms == null) {
			ms = 0;
		}
		if(step == null) {
			step = 0;
		}
		if(measure == null) {
			measure = 0;
		}
		var newSong = [];
		var millisecadd = (measure * 4 + step / 4) * (60000 / this.currentBPM) + ms;
		var totaladdsection = millisecadd / (60000 / this.currentBPM) / 4 | 0;
		haxe_Log.trace(millisecadd,{ fileName : "source/ChartingState.hx", lineNumber : 2390, className : "ChartingState", methodName : "shiftNotes", customParams : [totaladdsection]});
		if(millisecadd > 0) {
			var _g = 0;
			var _g1 = totaladdsection;
			while(_g < _g1) {
				var i = _g++;
				newSong.unshift(this.newSection());
			}
		}
		var _g = 0;
		var _g1 = ChartingState._song.notes.length;
		while(_g < _g1) {
			var daSection1 = _g++;
			newSong.push(this.newSection(16,ChartingState._song.notes[daSection1].mustHitSection,ChartingState._song.notes[daSection1].altAnim));
		}
		var _g = 0;
		var _g1 = ChartingState._song.notes.length;
		while(_g < _g1) {
			var daSection = _g++;
			var aimtosetsection = daSection + (totaladdsection | 0);
			if(aimtosetsection < 0) {
				aimtosetsection = 0;
			}
			newSong[aimtosetsection].mustHitSection = ChartingState._song.notes[daSection].mustHitSection;
			newSong[aimtosetsection].altAnim = ChartingState._song.notes[daSection].altAnim;
			var _g2 = 0;
			var _g3 = ChartingState._song.notes[daSection].sectionNotes.length;
			while(_g2 < _g3) {
				var daNote = _g2++;
				var newtiming = ChartingState._song.notes[daSection].sectionNotes[daNote][0] + millisecadd;
				if(newtiming < 0) {
					newtiming = 0;
				}
				var futureSection = Math.floor(newtiming / 4 / (60000 / this.currentBPM));
				ChartingState._song.notes[daSection].sectionNotes[daNote][0] = newtiming;
				newSong[futureSection].sectionNotes.push(ChartingState._song.notes[daSection].sectionNotes[daNote]);
			}
		}
		ChartingState._song.notes = newSong;
		this.recalculateAllSectionTimes();
		this.updateGrid();
		this.updateSectionUI();
		this.updateNoteUI();
	}
	,getSectionByTime: function(ms,changeCurSectionIndex) {
		if(changeCurSectionIndex == null) {
			changeCurSectionIndex = false;
		}
		var index = 0;
		var _g = 0;
		var _g1 = ChartingState._song.notes;
		while(_g < _g1.length) {
			var i = _g1[_g];
			++_g;
			if(ms >= i.startTime && ms < i.endTime) {
				if(changeCurSectionIndex) {
					this.curSection = index;
				}
				return i;
			}
			++index;
		}
		return null;
	}
	,getNoteByTime: function(ms) {
		var _g = 0;
		var _g1 = ChartingState._song.notes;
		while(_g < _g1.length) {
			var i = _g1[_g];
			++_g;
			var _g2 = 0;
			var _g3 = i.sectionNotes;
			while(_g2 < _g3.length) {
				var n = _g3[_g2];
				++_g2;
				if(n[0] == ms) {
					return i;
				}
			}
		}
		return null;
	}
	,addNote: function(n) {
		var strum = this.getStrumTime(this.dummyArrow.y) / this.zoomFactor;
		haxe_Log.trace(strum + " from " + this.dummyArrow.y,{ fileName : "source/ChartingState.hx", lineNumber : 2470, className : "ChartingState", methodName : "addNote"});
		haxe_Log.trace("adding note with " + strum + " from dummyArrow",{ fileName : "source/ChartingState.hx", lineNumber : 2472, className : "ChartingState", methodName : "addNote"});
		var section = this.getSectionByTime(strum);
		if(section == null) {
			return;
		}
		var noteStrum = strum;
		var noteData = Math.floor(flixel_FlxG.mouse.x / this.GRID_SIZE);
		var noteSus = 0;
		if(n != null) {
			section.sectionNotes.push([n.strumTime,n.noteData,n.sustainLength]);
		} else {
			section.sectionNotes.push([noteStrum,noteData,noteSus]);
		}
		var thingy = section.sectionNotes[section.sectionNotes.length - 1];
		this.curSelectedNote = thingy;
		this.updateGrid();
		this.updateNoteUI();
		this.autosaveSong();
	}
	,getStrumTime: function(yPos) {
		return flixel_math_FlxMath.remapToRange(yPos,0,ChartingState.lengthInSteps,0,ChartingState.lengthInSteps);
	}
	,getYfromStrum: function(strumTime) {
		return flixel_math_FlxMath.remapToRange(strumTime,0,ChartingState.lengthInSteps,0,ChartingState.lengthInSteps);
	}
	,daSpacing: null
	,loadLevel: function() {
		haxe_Log.trace(ChartingState._song.notes,{ fileName : "source/ChartingState.hx", lineNumber : 2535, className : "ChartingState", methodName : "loadLevel"});
	}
	,getNotes: function() {
		var noteData = [];
		var _g = 0;
		var _g1 = ChartingState._song.notes;
		while(_g < _g1.length) {
			var i = _g1[_g];
			++_g;
			noteData.push(i.sectionNotes);
		}
		return noteData;
	}
	,loadJson: function(song) {
		var format = StringTools.replace(PlayState.SONG.song.toLowerCase()," ","-");
		switch(format) {
		case "Dad-Battle":
			format = "Dadbattle";
			break;
		case "Philly-Nice":
			format = "Philly";
			break;
		}
		PlayState.SONG = Song.loadFromJson(format,format);
		var nextState = LoadingState.getNextState(new ChartingState(),false);
		if(flixel_FlxG.game._state.switchTo(nextState)) {
			flixel_FlxG.game._requestedState = nextState;
		}
	}
	,loadAutosave: function() {
		PlayState.SONG = Song.parseJSONshit(flixel_FlxG.save.data.autosave);
		var nextState = LoadingState.getNextState(new ChartingState(),false);
		if(flixel_FlxG.game._state.switchTo(nextState)) {
			flixel_FlxG.game._requestedState = nextState;
		}
	}
	,autosaveSong: function() {
		flixel_FlxG.save.data.autosave = JSON.stringify({ "song" : ChartingState._song});
		flixel_FlxG.save.flush();
	}
	,saveLevel: function() {
		var json = { "song" : ChartingState._song};
		var data = JSON.stringify(json,null," ");
		if(data != null && data.length > 0) {
			this._file = new openfl_net_FileReference();
			this._file.addEventListener("complete",$bind(this,this.onSaveComplete));
			this._file.addEventListener("cancel",$bind(this,this.onSaveCancel));
			this._file.addEventListener("ioError",$bind(this,this.onSaveError));
			this._file.save(StringTools.trim(data),ChartingState._song.song.toLowerCase() + ".json");
		}
	}
	,onSaveComplete: function(_) {
		this._file.removeEventListener("complete",$bind(this,this.onSaveComplete));
		this._file.removeEventListener("cancel",$bind(this,this.onSaveCancel));
		this._file.removeEventListener("ioError",$bind(this,this.onSaveError));
		this._file = null;
	}
	,onSaveCancel: function(_) {
		this._file.removeEventListener("complete",$bind(this,this.onSaveComplete));
		this._file.removeEventListener("cancel",$bind(this,this.onSaveCancel));
		this._file.removeEventListener("ioError",$bind(this,this.onSaveError));
		this._file = null;
	}
	,onSaveError: function(_) {
		this._file.removeEventListener("complete",$bind(this,this.onSaveComplete));
		this._file.removeEventListener("cancel",$bind(this,this.onSaveCancel));
		this._file.removeEventListener("ioError",$bind(this,this.onSaveError));
		this._file = null;
	}
	,__class__: ChartingState
});
Math.__name__ = "Math";
var Conductor = function() {
};
$hxClasses["Conductor"] = Conductor;
Conductor.__name__ = "Conductor";
Conductor.songPosition = null;
Conductor.lastSongPos = null;
Conductor.recalculateTimings = function() {
	Conductor.safeFrames = flixel_FlxG.save.data.frames;
	Conductor.safeZoneOffset = Math.floor(Conductor.safeFrames / 60 * 1000);
	Conductor.timeScale = Conductor.safeZoneOffset / 166;
};
Conductor.mapBPMChanges = function(song) {
	Conductor.bpmChangeMap = [];
	var curBPM = song.bpm;
	var totalSteps = 0;
	var totalPos = 0;
	var _g = 0;
	var _g1 = song.notes.length;
	while(_g < _g1) {
		var i = _g++;
		if(song.notes[i].changeBPM && song.notes[i].bpm != curBPM) {
			curBPM = song.notes[i].bpm;
			var event = { stepTime : totalSteps, songTime : totalPos, bpm : curBPM};
			Conductor.bpmChangeMap.push(event);
		}
		var deltaSteps = song.notes[i].lengthInSteps;
		totalSteps += deltaSteps;
		totalPos += 60 / curBPM * 1000 / 4 * deltaSteps;
	}
	haxe_Log.trace("new BPM map BUDDY " + Std.string(Conductor.bpmChangeMap),{ fileName : "source/Conductor.hx", lineNumber : 68, className : "Conductor", methodName : "mapBPMChanges"});
};
Conductor.recalculateTimingStruct = function(SONG) {
	var _g = 0;
	var _g1 = SONG.eventObjects;
	while(_g < _g1.length) {
		var i = _g1[_g];
		++_g;
	}
};
Conductor.changeBPM = function(newBpm,recalcLength) {
	if(recalcLength == null) {
		recalcLength = true;
	}
	Conductor.bpm = newBpm;
	Conductor.crochet = 60 / Conductor.bpm * 1000;
	Conductor.stepCrochet = Conductor.crochet / 4;
};
Conductor.prototype = {
	__class__: Conductor
};
var Device = $hxEnums["Device"] = { __ename__ : "Device", __constructs__ : ["Keys","Gamepad"]
	,Keys: {_hx_index:0,__enum__:"Device",toString:$estr}
	,Gamepad: ($_=function(id) { return {_hx_index:1,id:id,__enum__:"Device",toString:$estr}; },$_.__params__ = ["id"],$_)
};
var Control = $hxEnums["Control"] = { __ename__ : "Control", __constructs__ : ["UP","LEFT","RIGHT","DOWN","RESET","ACCEPT","BACK","PAUSE","CHEAT"]
	,UP: {_hx_index:0,__enum__:"Control",toString:$estr}
	,LEFT: {_hx_index:1,__enum__:"Control",toString:$estr}
	,RIGHT: {_hx_index:2,__enum__:"Control",toString:$estr}
	,DOWN: {_hx_index:3,__enum__:"Control",toString:$estr}
	,RESET: {_hx_index:4,__enum__:"Control",toString:$estr}
	,ACCEPT: {_hx_index:5,__enum__:"Control",toString:$estr}
	,BACK: {_hx_index:6,__enum__:"Control",toString:$estr}
	,PAUSE: {_hx_index:7,__enum__:"Control",toString:$estr}
	,CHEAT: {_hx_index:8,__enum__:"Control",toString:$estr}
};
var KeyboardScheme = $hxEnums["KeyboardScheme"] = { __ename__ : "KeyboardScheme", __constructs__ : ["Solo","Duo","None","Custom"]
	,Solo: {_hx_index:0,__enum__:"KeyboardScheme",toString:$estr}
	,Duo: ($_=function(first) { return {_hx_index:1,first:first,__enum__:"KeyboardScheme",toString:$estr}; },$_.__params__ = ["first"],$_)
	,None: {_hx_index:2,__enum__:"KeyboardScheme",toString:$estr}
	,Custom: {_hx_index:3,__enum__:"KeyboardScheme",toString:$estr}
};
var flixel_input_actions_FlxActionSet = function(Name,DigitalActions,AnalogActions) {
	this.active = true;
	this.name = "";
	this.name = Name;
	if(DigitalActions == null) {
		DigitalActions = [];
	}
	if(AnalogActions == null) {
		AnalogActions = [];
	}
	this.digitalActions = DigitalActions;
	this.analogActions = AnalogActions;
};
$hxClasses["flixel.input.actions.FlxActionSet"] = flixel_input_actions_FlxActionSet;
flixel_input_actions_FlxActionSet.__name__ = "flixel.input.actions.FlxActionSet";
flixel_input_actions_FlxActionSet.__interfaces__ = [flixel_util_IFlxDestroyable];
flixel_input_actions_FlxActionSet.fromJson = function(Data,CallbackDigital,CallbackAnalog) {
	var digitalActions = [];
	var analogActions = [];
	if(Data == null) {
		return null;
	}
	if(Data.digitalActions != null) {
		var arrD = Data.digitalActions;
		var _g = 0;
		while(_g < arrD.length) {
			var d = arrD[_g];
			++_g;
			var dName = d;
			var action = new flixel_input_actions_FlxActionDigital(dName,CallbackDigital);
			digitalActions.push(action);
		}
	}
	if(Data.analogActions != null) {
		var arrA = Data.analogActions;
		var _g = 0;
		while(_g < arrA.length) {
			var a = arrA[_g];
			++_g;
			var aName = a;
			var action = new flixel_input_actions_FlxActionAnalog(aName,CallbackAnalog);
			analogActions.push(action);
		}
	}
	if(Data.name != null) {
		var name = Data.name;
		var set = new flixel_input_actions_FlxActionSet(name,digitalActions,analogActions);
		return set;
	}
	return null;
};
flixel_input_actions_FlxActionSet.prototype = {
	name: null
	,digitalActions: null
	,analogActions: null
	,active: null
	,toJson: function() {
		var space = "\t";
		return JSON.stringify(this,function(key,value) {
			if(((value) instanceof flixel_input_actions_FlxAction)) {
				var fa = value;
				return { "type" : fa.type, "name" : fa.name, "steamHandle" : fa.steamHandle};
			}
			return value;
		},space);
	}
	,attachSteamController: function(Handle,Attach) {
		if(Attach == null) {
			Attach = true;
		}
		this.attachSteamControllerSub(Handle,Attach,flixel_input_actions_FlxInputType.DIGITAL,this.digitalActions,null);
		this.attachSteamControllerSub(Handle,Attach,flixel_input_actions_FlxInputType.ANALOG,null,this.analogActions);
	}
	,add: function(Action1) {
		if(Action1.type == flixel_input_actions_FlxInputType.DIGITAL) {
			var dAction = Action1;
			if(this.digitalActions.indexOf(dAction) != -1) {
				return false;
			}
			this.digitalActions.push(dAction);
			return true;
		} else if(Action1.type == flixel_input_actions_FlxInputType.ANALOG) {
			var aAction = Action1;
			if(this.analogActions.indexOf(aAction) != -1) {
				return false;
			}
			this.analogActions.push(aAction);
			return true;
		}
		return false;
	}
	,destroy: function() {
		this.digitalActions = flixel_util_FlxDestroyUtil.destroyArray(this.digitalActions);
		this.analogActions = flixel_util_FlxDestroyUtil.destroyArray(this.analogActions);
	}
	,remove: function(Action1,Destroy) {
		if(Destroy == null) {
			Destroy = true;
		}
		var result = false;
		if(Action1.type == flixel_input_actions_FlxInputType.DIGITAL) {
			result = HxOverrides.remove(this.digitalActions,Action1);
			if(result && Destroy) {
				Action1.destroy();
			}
		} else if(Action1.type == flixel_input_actions_FlxInputType.ANALOG) {
			result = HxOverrides.remove(this.analogActions,Action1);
			if(result && Destroy) {
				Action1.destroy();
			}
		}
		return result;
	}
	,update: function() {
		if(!this.active) {
			return;
		}
		var _g = 0;
		var _g1 = this.digitalActions;
		while(_g < _g1.length) {
			var digitalAction = _g1[_g];
			++_g;
			digitalAction.update();
		}
		var _g = 0;
		var _g1 = this.analogActions;
		while(_g < _g1.length) {
			var analogAction = _g1[_g];
			++_g;
			analogAction.update();
		}
	}
	,attachSteamControllerSub: function(Handle,Attach,InputType,DigitalActions,AnalogActions) {
		var length = InputType == flixel_input_actions_FlxInputType.DIGITAL ? DigitalActions.length : AnalogActions.length;
		var _g = 0;
		var _g1 = length;
		while(_g < _g1) {
			var i = _g++;
			var action = InputType == flixel_input_actions_FlxInputType.DIGITAL ? DigitalActions[i] : AnalogActions[i];
			if(action.steamHandle != -1) {
				var inputExists = false;
				var theInput = null;
				if(action.inputs != null) {
					var _g2 = 0;
					var _g3 = action.inputs;
					while(_g2 < _g3.length) {
						var input = _g3[_g2];
						++_g2;
						if(input.device == flixel_input_actions_FlxInputDevice.STEAM_CONTROLLER && input.deviceID == Handle) {
							inputExists = true;
							theInput = input;
						}
					}
				}
				if(Attach) {
					if(!inputExists) {
						if(InputType == flixel_input_actions_FlxInputType.DIGITAL) {
							DigitalActions[i].add(new flixel_input_actions_FlxActionInputDigitalSteam(action.steamHandle,2,Handle));
						} else if(InputType == flixel_input_actions_FlxInputType.ANALOG) {
							AnalogActions[i].add(new flixel_input_actions_FlxActionInputAnalogSteam(action.steamHandle,1,3,Handle));
						}
					}
				} else if(inputExists) {
					action.remove(theInput);
				}
			}
		}
	}
	,__class__: flixel_input_actions_FlxActionSet
};
var Controls = function(name,scheme) {
	if(scheme == null) {
		scheme = KeyboardScheme.None;
	}
	this.keyboardScheme = KeyboardScheme.None;
	this.gamepadsAdded = [];
	this.byName = new haxe_ds_StringMap();
	this._cheat = new flixel_input_actions_FlxActionDigital("cheat");
	this._reset = new flixel_input_actions_FlxActionDigital("reset");
	this._pause = new flixel_input_actions_FlxActionDigital("pause");
	this._back = new flixel_input_actions_FlxActionDigital("back");
	this._accept = new flixel_input_actions_FlxActionDigital("accept");
	this._downR = new flixel_input_actions_FlxActionDigital("down-release");
	this._rightR = new flixel_input_actions_FlxActionDigital("right-release");
	this._leftR = new flixel_input_actions_FlxActionDigital("left-release");
	this._upR = new flixel_input_actions_FlxActionDigital("up-release");
	this._downP = new flixel_input_actions_FlxActionDigital("down-press");
	this._rightP = new flixel_input_actions_FlxActionDigital("right-press");
	this._leftP = new flixel_input_actions_FlxActionDigital("left-press");
	this._upP = new flixel_input_actions_FlxActionDigital("up-press");
	this._down = new flixel_input_actions_FlxActionDigital("down");
	this._right = new flixel_input_actions_FlxActionDigital("right");
	this._left = new flixel_input_actions_FlxActionDigital("left");
	this._up = new flixel_input_actions_FlxActionDigital("up");
	flixel_input_actions_FlxActionSet.call(this,name);
	this.add(this._up);
	this.add(this._left);
	this.add(this._right);
	this.add(this._down);
	this.add(this._upP);
	this.add(this._leftP);
	this.add(this._rightP);
	this.add(this._downP);
	this.add(this._upR);
	this.add(this._leftR);
	this.add(this._rightR);
	this.add(this._downR);
	this.add(this._accept);
	this.add(this._back);
	this.add(this._pause);
	this.add(this._reset);
	this.add(this._cheat);
	var _g = 0;
	var _g1 = this.digitalActions;
	while(_g < _g1.length) {
		var action = _g1[_g];
		++_g;
		this.byName.h[action.name] = action;
	}
	this.setKeyboardScheme(scheme,false);
};
$hxClasses["Controls"] = Controls;
Controls.__name__ = "Controls";
Controls.init = function() {
	var actions = new flixel_input_actions_FlxActionManager();
	flixel_FlxG.inputs.add_flixel_input_actions_FlxActionManager(actions);
};
Controls.addKeys = function(action,keys,state) {
	var _g = 0;
	while(_g < keys.length) {
		var key = keys[_g];
		++_g;
		action.addKey(key,state);
	}
};
Controls.removeKeys = function(action,keys) {
	var i = action.inputs.length;
	while(i-- > 0) {
		var input = action.inputs[i];
		if(input.device == flixel_input_actions_FlxInputDevice.KEYBOARD && keys.indexOf(input.inputID) != -1) {
			action.remove(input);
		}
	}
};
Controls.addButtons = function(action,buttons,state,id) {
	var _g = 0;
	while(_g < buttons.length) {
		var button = buttons[_g];
		++_g;
		action.addGamepad(button,state,id);
	}
};
Controls.removeButtons = function(action,gamepadID,buttons) {
	var i = action.inputs.length;
	while(i-- > 0) {
		var input = action.inputs[i];
		if(input.device == flixel_input_actions_FlxInputDevice.GAMEPAD && (gamepadID == -1 || input.deviceID == gamepadID) && buttons.indexOf(input.inputID) != -1) {
			action.remove(input);
		}
	}
};
Controls.isDevice = function(input,device) {
	switch(device._hx_index) {
	case 0:
		return input.device == flixel_input_actions_FlxInputDevice.KEYBOARD;
	case 1:
		var id = device.id;
		if(input.device == flixel_input_actions_FlxInputDevice.GAMEPAD) {
			if(id != -1) {
				return input.deviceID == id;
			} else {
				return true;
			}
		} else {
			return false;
		}
		break;
	}
};
Controls.isGamepad = function(input,deviceID) {
	if(input.device == flixel_input_actions_FlxInputDevice.GAMEPAD) {
		if(deviceID != -1) {
			return input.deviceID == deviceID;
		} else {
			return true;
		}
	} else {
		return false;
	}
};
Controls.__super__ = flixel_input_actions_FlxActionSet;
Controls.prototype = $extend(flixel_input_actions_FlxActionSet.prototype,{
	_up: null
	,_left: null
	,_right: null
	,_down: null
	,_upP: null
	,_leftP: null
	,_rightP: null
	,_downP: null
	,_upR: null
	,_leftR: null
	,_rightR: null
	,_downR: null
	,_accept: null
	,_back: null
	,_pause: null
	,_reset: null
	,_cheat: null
	,byName: null
	,gamepadsAdded: null
	,keyboardScheme: null
	,get_UP: function() {
		return this._up.check();
	}
	,get_LEFT: function() {
		return this._left.check();
	}
	,get_RIGHT: function() {
		return this._right.check();
	}
	,get_DOWN: function() {
		return this._down.check();
	}
	,get_UP_P: function() {
		return this._upP.check();
	}
	,get_LEFT_P: function() {
		return this._leftP.check();
	}
	,get_RIGHT_P: function() {
		return this._rightP.check();
	}
	,get_DOWN_P: function() {
		return this._downP.check();
	}
	,get_UP_R: function() {
		return this._upR.check();
	}
	,get_LEFT_R: function() {
		return this._leftR.check();
	}
	,get_RIGHT_R: function() {
		return this._rightR.check();
	}
	,get_DOWN_R: function() {
		return this._downR.check();
	}
	,get_ACCEPT: function() {
		return this._accept.check();
	}
	,get_BACK: function() {
		return this._back.check();
	}
	,get_PAUSE: function() {
		return this._pause.check();
	}
	,get_RESET: function() {
		return this._reset.check();
	}
	,get_CHEAT: function() {
		return this._cheat.check();
	}
	,update: function() {
		flixel_input_actions_FlxActionSet.prototype.update.call(this);
	}
	,checkByName: function(name) {
		return this.byName.h[name].check();
	}
	,getDialogueName: function(action) {
		var input = action.inputs[0];
		var _g = input.device;
		switch(_g._hx_index) {
		case 3:
			var tmp = input.inputID;
			return "[" + (tmp == null ? "null" : flixel_input_keyboard_FlxKey.toStringMap.h[tmp]) + "]";
		case 4:
			var tmp = input.inputID;
			return "(" + (tmp == null ? "null" : flixel_input_gamepad_FlxGamepadInputID.toStringMap.h[tmp]) + ")";
		default:
			var device = _g;
			throw haxe_Exception.thrown("unhandled device: " + Std.string(device));
		}
	}
	,getDialogueNameFromToken: function(token) {
		return this.getDialogueName(this.getActionFromControl(Type.createEnum(Control,token.toUpperCase(),null)));
	}
	,getActionFromControl: function(control) {
		switch(control._hx_index) {
		case 0:
			return this._up;
		case 1:
			return this._left;
		case 2:
			return this._right;
		case 3:
			return this._down;
		case 4:
			return this._reset;
		case 5:
			return this._accept;
		case 6:
			return this._back;
		case 7:
			return this._pause;
		case 8:
			return this._cheat;
		}
	}
	,forEachBound: function(control,func) {
		switch(control._hx_index) {
		case 0:
			func(this._up,1);
			func(this._upP,2);
			func(this._upR,-1);
			break;
		case 1:
			func(this._left,1);
			func(this._leftP,2);
			func(this._leftR,-1);
			break;
		case 2:
			func(this._right,1);
			func(this._rightP,2);
			func(this._rightR,-1);
			break;
		case 3:
			func(this._down,1);
			func(this._downP,2);
			func(this._downR,-1);
			break;
		case 4:
			func(this._reset,2);
			break;
		case 5:
			func(this._accept,2);
			break;
		case 6:
			func(this._back,2);
			break;
		case 7:
			func(this._pause,2);
			break;
		case 8:
			func(this._cheat,2);
			break;
		}
	}
	,replaceBinding: function(control,device,toAdd,toRemove) {
		if(toAdd == toRemove) {
			return;
		}
		switch(device._hx_index) {
		case 0:
			if(toRemove != null) {
				this.unbindKeys(control,[toRemove]);
			}
			if(toAdd != null) {
				this.bindKeys(control,[toAdd]);
			}
			break;
		case 1:
			var id = device.id;
			if(toRemove != null) {
				this.unbindButtons(control,id,[toRemove]);
			}
			if(toAdd != null) {
				this.bindButtons(control,id,[toAdd]);
			}
			break;
		}
	}
	,copyFrom: function(controls,device) {
		var _g = haxe_ds_StringMap.kvIterator(controls.byName.h);
		while(_g.hasNext()) {
			var _g1 = _g.next();
			var name = _g1.key;
			var action = _g1.value;
			var _g2 = 0;
			var _g3 = action.inputs;
			while(_g2 < _g3.length) {
				var input = _g3[_g2];
				++_g2;
				if(device == null || Controls.isDevice(input,device)) {
					this.byName.h[name].add(input);
				}
			}
		}
		if(device == null) {
			var _g = 0;
			var _g1 = controls.gamepadsAdded;
			while(_g < _g1.length) {
				var gamepad = _g1[_g];
				++_g;
				if(this.gamepadsAdded.indexOf(gamepad) == -1) {
					this.gamepadsAdded.push(gamepad);
				}
			}
			this.mergeKeyboardScheme(controls.keyboardScheme);
		} else {
			switch(device._hx_index) {
			case 0:
				this.mergeKeyboardScheme(controls.keyboardScheme);
				break;
			case 1:
				var id = device.id;
				this.gamepadsAdded.push(id);
				break;
			}
		}
	}
	,copyTo: function(controls,device) {
		controls.copyFrom(this,device);
	}
	,mergeKeyboardScheme: function(scheme) {
		if(scheme != KeyboardScheme.None) {
			if(this.keyboardScheme._hx_index == 2) {
				this.keyboardScheme = scheme;
			} else {
				this.keyboardScheme = KeyboardScheme.Custom;
			}
		}
	}
	,bindKeys: function(control,keys) {
		switch(control._hx_index) {
		case 0:
			var action = this._up;
			var state = 1;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				action.addKey(key,state);
			}
			var action = this._upP;
			var state = 2;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				action.addKey(key,state);
			}
			var action = this._upR;
			var state = -1;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				action.addKey(key,state);
			}
			break;
		case 1:
			var action = this._left;
			var state = 1;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				action.addKey(key,state);
			}
			var action = this._leftP;
			var state = 2;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				action.addKey(key,state);
			}
			var action = this._leftR;
			var state = -1;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				action.addKey(key,state);
			}
			break;
		case 2:
			var action = this._right;
			var state = 1;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				action.addKey(key,state);
			}
			var action = this._rightP;
			var state = 2;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				action.addKey(key,state);
			}
			var action = this._rightR;
			var state = -1;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				action.addKey(key,state);
			}
			break;
		case 3:
			var action = this._down;
			var state = 1;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				action.addKey(key,state);
			}
			var action = this._downP;
			var state = 2;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				action.addKey(key,state);
			}
			var action = this._downR;
			var state = -1;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				action.addKey(key,state);
			}
			break;
		case 4:
			var action = this._reset;
			var state = 2;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				action.addKey(key,state);
			}
			break;
		case 5:
			var action = this._accept;
			var state = 2;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				action.addKey(key,state);
			}
			break;
		case 6:
			var action = this._back;
			var state = 2;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				action.addKey(key,state);
			}
			break;
		case 7:
			var action = this._pause;
			var state = 2;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				action.addKey(key,state);
			}
			break;
		case 8:
			var action = this._cheat;
			var state = 2;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				action.addKey(key,state);
			}
			break;
		}
	}
	,unbindKeys: function(control,keys) {
		switch(control._hx_index) {
		case 0:
			Controls.removeKeys(this._up,keys);
			Controls.removeKeys(this._upP,keys);
			Controls.removeKeys(this._upR,keys);
			break;
		case 1:
			Controls.removeKeys(this._left,keys);
			Controls.removeKeys(this._leftP,keys);
			Controls.removeKeys(this._leftR,keys);
			break;
		case 2:
			Controls.removeKeys(this._right,keys);
			Controls.removeKeys(this._rightP,keys);
			Controls.removeKeys(this._rightR,keys);
			break;
		case 3:
			Controls.removeKeys(this._down,keys);
			Controls.removeKeys(this._downP,keys);
			Controls.removeKeys(this._downR,keys);
			break;
		case 4:
			Controls.removeKeys(this._reset,keys);
			break;
		case 5:
			Controls.removeKeys(this._accept,keys);
			break;
		case 6:
			Controls.removeKeys(this._back,keys);
			break;
		case 7:
			Controls.removeKeys(this._pause,keys);
			break;
		case 8:
			Controls.removeKeys(this._cheat,keys);
			break;
		}
	}
	,setKeyboardScheme: function(scheme,reset) {
		if(reset == null) {
			reset = true;
		}
		this.loadKeyBinds();
	}
	,loadKeyBinds: function() {
		this.removeKeyboard();
		if(this.gamepadsAdded.length != 0) {
			this.removeGamepad();
		}
		KeyBinds.keyCheck();
		var buttons = new haxe_ds_EnumValueMap();
		var s = flixel_FlxG.save.data.gpupBind;
		s = s.toUpperCase();
		buttons.set(Control.UP,[Object.prototype.hasOwnProperty.call(flixel_input_gamepad_FlxGamepadInputID.fromStringMap.h,s) ? flixel_input_gamepad_FlxGamepadInputID.fromStringMap.h[s] : -1]);
		var s = flixel_FlxG.save.data.gpleftBind;
		s = s.toUpperCase();
		buttons.set(Control.LEFT,[Object.prototype.hasOwnProperty.call(flixel_input_gamepad_FlxGamepadInputID.fromStringMap.h,s) ? flixel_input_gamepad_FlxGamepadInputID.fromStringMap.h[s] : -1]);
		var s = flixel_FlxG.save.data.gpdownBind;
		s = s.toUpperCase();
		buttons.set(Control.DOWN,[Object.prototype.hasOwnProperty.call(flixel_input_gamepad_FlxGamepadInputID.fromStringMap.h,s) ? flixel_input_gamepad_FlxGamepadInputID.fromStringMap.h[s] : -1]);
		var s = flixel_FlxG.save.data.gprightBind;
		s = s.toUpperCase();
		buttons.set(Control.RIGHT,[Object.prototype.hasOwnProperty.call(flixel_input_gamepad_FlxGamepadInputID.fromStringMap.h,s) ? flixel_input_gamepad_FlxGamepadInputID.fromStringMap.h[s] : -1]);
		buttons.set(Control.ACCEPT,[0]);
		buttons.set(Control.BACK,[1]);
		buttons.set(Control.PAUSE,[7]);
		this.addGamepad(0,buttons);
		var s = flixel_FlxG.save.data.upBind;
		s = s.toUpperCase();
		var keys = [Object.prototype.hasOwnProperty.call(flixel_input_keyboard_FlxKey.fromStringMap.h,s) ? flixel_input_keyboard_FlxKey.fromStringMap.h[s] : -1,38];
		switch(Control.UP._hx_index) {
		case 0:
			var action = this._up;
			var state = 1;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				action.addKey(key,state);
			}
			var action = this._upP;
			var state = 2;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				action.addKey(key,state);
			}
			var action = this._upR;
			var state = -1;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				action.addKey(key,state);
			}
			break;
		case 1:
			var action = this._left;
			var state = 1;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				action.addKey(key,state);
			}
			var action = this._leftP;
			var state = 2;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				action.addKey(key,state);
			}
			var action = this._leftR;
			var state = -1;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				action.addKey(key,state);
			}
			break;
		case 2:
			var action = this._right;
			var state = 1;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				action.addKey(key,state);
			}
			var action = this._rightP;
			var state = 2;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				action.addKey(key,state);
			}
			var action = this._rightR;
			var state = -1;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				action.addKey(key,state);
			}
			break;
		case 3:
			var action = this._down;
			var state = 1;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				action.addKey(key,state);
			}
			var action = this._downP;
			var state = 2;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				action.addKey(key,state);
			}
			var action = this._downR;
			var state = -1;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				action.addKey(key,state);
			}
			break;
		case 4:
			var action = this._reset;
			var state = 2;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				action.addKey(key,state);
			}
			break;
		case 5:
			var action = this._accept;
			var state = 2;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				action.addKey(key,state);
			}
			break;
		case 6:
			var action = this._back;
			var state = 2;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				action.addKey(key,state);
			}
			break;
		case 7:
			var action = this._pause;
			var state = 2;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				action.addKey(key,state);
			}
			break;
		case 8:
			var action = this._cheat;
			var state = 2;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				action.addKey(key,state);
			}
			break;
		}
		var s = flixel_FlxG.save.data.downBind;
		s = s.toUpperCase();
		var keys = [Object.prototype.hasOwnProperty.call(flixel_input_keyboard_FlxKey.fromStringMap.h,s) ? flixel_input_keyboard_FlxKey.fromStringMap.h[s] : -1,40];
		switch(Control.DOWN._hx_index) {
		case 0:
			var action = this._up;
			var state = 1;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				action.addKey(key,state);
			}
			var action = this._upP;
			var state = 2;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				action.addKey(key,state);
			}
			var action = this._upR;
			var state = -1;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				action.addKey(key,state);
			}
			break;
		case 1:
			var action = this._left;
			var state = 1;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				action.addKey(key,state);
			}
			var action = this._leftP;
			var state = 2;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				action.addKey(key,state);
			}
			var action = this._leftR;
			var state = -1;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				action.addKey(key,state);
			}
			break;
		case 2:
			var action = this._right;
			var state = 1;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				action.addKey(key,state);
			}
			var action = this._rightP;
			var state = 2;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				action.addKey(key,state);
			}
			var action = this._rightR;
			var state = -1;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				action.addKey(key,state);
			}
			break;
		case 3:
			var action = this._down;
			var state = 1;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				action.addKey(key,state);
			}
			var action = this._downP;
			var state = 2;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				action.addKey(key,state);
			}
			var action = this._downR;
			var state = -1;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				action.addKey(key,state);
			}
			break;
		case 4:
			var action = this._reset;
			var state = 2;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				action.addKey(key,state);
			}
			break;
		case 5:
			var action = this._accept;
			var state = 2;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				action.addKey(key,state);
			}
			break;
		case 6:
			var action = this._back;
			var state = 2;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				action.addKey(key,state);
			}
			break;
		case 7:
			var action = this._pause;
			var state = 2;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				action.addKey(key,state);
			}
			break;
		case 8:
			var action = this._cheat;
			var state = 2;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				action.addKey(key,state);
			}
			break;
		}
		var s = flixel_FlxG.save.data.leftBind;
		s = s.toUpperCase();
		var keys = [Object.prototype.hasOwnProperty.call(flixel_input_keyboard_FlxKey.fromStringMap.h,s) ? flixel_input_keyboard_FlxKey.fromStringMap.h[s] : -1,37];
		switch(Control.LEFT._hx_index) {
		case 0:
			var action = this._up;
			var state = 1;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				action.addKey(key,state);
			}
			var action = this._upP;
			var state = 2;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				action.addKey(key,state);
			}
			var action = this._upR;
			var state = -1;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				action.addKey(key,state);
			}
			break;
		case 1:
			var action = this._left;
			var state = 1;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				action.addKey(key,state);
			}
			var action = this._leftP;
			var state = 2;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				action.addKey(key,state);
			}
			var action = this._leftR;
			var state = -1;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				action.addKey(key,state);
			}
			break;
		case 2:
			var action = this._right;
			var state = 1;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				action.addKey(key,state);
			}
			var action = this._rightP;
			var state = 2;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				action.addKey(key,state);
			}
			var action = this._rightR;
			var state = -1;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				action.addKey(key,state);
			}
			break;
		case 3:
			var action = this._down;
			var state = 1;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				action.addKey(key,state);
			}
			var action = this._downP;
			var state = 2;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				action.addKey(key,state);
			}
			var action = this._downR;
			var state = -1;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				action.addKey(key,state);
			}
			break;
		case 4:
			var action = this._reset;
			var state = 2;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				action.addKey(key,state);
			}
			break;
		case 5:
			var action = this._accept;
			var state = 2;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				action.addKey(key,state);
			}
			break;
		case 6:
			var action = this._back;
			var state = 2;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				action.addKey(key,state);
			}
			break;
		case 7:
			var action = this._pause;
			var state = 2;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				action.addKey(key,state);
			}
			break;
		case 8:
			var action = this._cheat;
			var state = 2;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				action.addKey(key,state);
			}
			break;
		}
		var s = flixel_FlxG.save.data.rightBind;
		s = s.toUpperCase();
		var keys = [Object.prototype.hasOwnProperty.call(flixel_input_keyboard_FlxKey.fromStringMap.h,s) ? flixel_input_keyboard_FlxKey.fromStringMap.h[s] : -1,39];
		switch(Control.RIGHT._hx_index) {
		case 0:
			var action = this._up;
			var state = 1;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				action.addKey(key,state);
			}
			var action = this._upP;
			var state = 2;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				action.addKey(key,state);
			}
			var action = this._upR;
			var state = -1;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				action.addKey(key,state);
			}
			break;
		case 1:
			var action = this._left;
			var state = 1;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				action.addKey(key,state);
			}
			var action = this._leftP;
			var state = 2;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				action.addKey(key,state);
			}
			var action = this._leftR;
			var state = -1;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				action.addKey(key,state);
			}
			break;
		case 2:
			var action = this._right;
			var state = 1;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				action.addKey(key,state);
			}
			var action = this._rightP;
			var state = 2;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				action.addKey(key,state);
			}
			var action = this._rightR;
			var state = -1;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				action.addKey(key,state);
			}
			break;
		case 3:
			var action = this._down;
			var state = 1;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				action.addKey(key,state);
			}
			var action = this._downP;
			var state = 2;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				action.addKey(key,state);
			}
			var action = this._downR;
			var state = -1;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				action.addKey(key,state);
			}
			break;
		case 4:
			var action = this._reset;
			var state = 2;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				action.addKey(key,state);
			}
			break;
		case 5:
			var action = this._accept;
			var state = 2;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				action.addKey(key,state);
			}
			break;
		case 6:
			var action = this._back;
			var state = 2;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				action.addKey(key,state);
			}
			break;
		case 7:
			var action = this._pause;
			var state = 2;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				action.addKey(key,state);
			}
			break;
		case 8:
			var action = this._cheat;
			var state = 2;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				action.addKey(key,state);
			}
			break;
		}
		var keys = [90,32,13];
		switch(Control.ACCEPT._hx_index) {
		case 0:
			var action = this._up;
			var state = 1;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				action.addKey(key,state);
			}
			var action = this._upP;
			var state = 2;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				action.addKey(key,state);
			}
			var action = this._upR;
			var state = -1;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				action.addKey(key,state);
			}
			break;
		case 1:
			var action = this._left;
			var state = 1;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				action.addKey(key,state);
			}
			var action = this._leftP;
			var state = 2;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				action.addKey(key,state);
			}
			var action = this._leftR;
			var state = -1;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				action.addKey(key,state);
			}
			break;
		case 2:
			var action = this._right;
			var state = 1;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				action.addKey(key,state);
			}
			var action = this._rightP;
			var state = 2;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				action.addKey(key,state);
			}
			var action = this._rightR;
			var state = -1;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				action.addKey(key,state);
			}
			break;
		case 3:
			var action = this._down;
			var state = 1;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				action.addKey(key,state);
			}
			var action = this._downP;
			var state = 2;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				action.addKey(key,state);
			}
			var action = this._downR;
			var state = -1;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				action.addKey(key,state);
			}
			break;
		case 4:
			var action = this._reset;
			var state = 2;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				action.addKey(key,state);
			}
			break;
		case 5:
			var action = this._accept;
			var state = 2;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				action.addKey(key,state);
			}
			break;
		case 6:
			var action = this._back;
			var state = 2;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				action.addKey(key,state);
			}
			break;
		case 7:
			var action = this._pause;
			var state = 2;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				action.addKey(key,state);
			}
			break;
		case 8:
			var action = this._cheat;
			var state = 2;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				action.addKey(key,state);
			}
			break;
		}
		var keys = [8,27];
		switch(Control.BACK._hx_index) {
		case 0:
			var action = this._up;
			var state = 1;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				action.addKey(key,state);
			}
			var action = this._upP;
			var state = 2;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				action.addKey(key,state);
			}
			var action = this._upR;
			var state = -1;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				action.addKey(key,state);
			}
			break;
		case 1:
			var action = this._left;
			var state = 1;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				action.addKey(key,state);
			}
			var action = this._leftP;
			var state = 2;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				action.addKey(key,state);
			}
			var action = this._leftR;
			var state = -1;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				action.addKey(key,state);
			}
			break;
		case 2:
			var action = this._right;
			var state = 1;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				action.addKey(key,state);
			}
			var action = this._rightP;
			var state = 2;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				action.addKey(key,state);
			}
			var action = this._rightR;
			var state = -1;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				action.addKey(key,state);
			}
			break;
		case 3:
			var action = this._down;
			var state = 1;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				action.addKey(key,state);
			}
			var action = this._downP;
			var state = 2;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				action.addKey(key,state);
			}
			var action = this._downR;
			var state = -1;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				action.addKey(key,state);
			}
			break;
		case 4:
			var action = this._reset;
			var state = 2;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				action.addKey(key,state);
			}
			break;
		case 5:
			var action = this._accept;
			var state = 2;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				action.addKey(key,state);
			}
			break;
		case 6:
			var action = this._back;
			var state = 2;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				action.addKey(key,state);
			}
			break;
		case 7:
			var action = this._pause;
			var state = 2;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				action.addKey(key,state);
			}
			break;
		case 8:
			var action = this._cheat;
			var state = 2;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				action.addKey(key,state);
			}
			break;
		}
		var keys = [13,27];
		switch(Control.PAUSE._hx_index) {
		case 0:
			var action = this._up;
			var state = 1;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				action.addKey(key,state);
			}
			var action = this._upP;
			var state = 2;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				action.addKey(key,state);
			}
			var action = this._upR;
			var state = -1;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				action.addKey(key,state);
			}
			break;
		case 1:
			var action = this._left;
			var state = 1;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				action.addKey(key,state);
			}
			var action = this._leftP;
			var state = 2;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				action.addKey(key,state);
			}
			var action = this._leftR;
			var state = -1;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				action.addKey(key,state);
			}
			break;
		case 2:
			var action = this._right;
			var state = 1;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				action.addKey(key,state);
			}
			var action = this._rightP;
			var state = 2;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				action.addKey(key,state);
			}
			var action = this._rightR;
			var state = -1;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				action.addKey(key,state);
			}
			break;
		case 3:
			var action = this._down;
			var state = 1;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				action.addKey(key,state);
			}
			var action = this._downP;
			var state = 2;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				action.addKey(key,state);
			}
			var action = this._downR;
			var state = -1;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				action.addKey(key,state);
			}
			break;
		case 4:
			var action = this._reset;
			var state = 2;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				action.addKey(key,state);
			}
			break;
		case 5:
			var action = this._accept;
			var state = 2;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				action.addKey(key,state);
			}
			break;
		case 6:
			var action = this._back;
			var state = 2;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				action.addKey(key,state);
			}
			break;
		case 7:
			var action = this._pause;
			var state = 2;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				action.addKey(key,state);
			}
			break;
		case 8:
			var action = this._cheat;
			var state = 2;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				action.addKey(key,state);
			}
			break;
		}
		var s = flixel_FlxG.save.data.killBind;
		s = s.toUpperCase();
		var keys = [Object.prototype.hasOwnProperty.call(flixel_input_keyboard_FlxKey.fromStringMap.h,s) ? flixel_input_keyboard_FlxKey.fromStringMap.h[s] : -1];
		switch(Control.RESET._hx_index) {
		case 0:
			var action = this._up;
			var state = 1;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				action.addKey(key,state);
			}
			var action = this._upP;
			var state = 2;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				action.addKey(key,state);
			}
			var action = this._upR;
			var state = -1;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				action.addKey(key,state);
			}
			break;
		case 1:
			var action = this._left;
			var state = 1;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				action.addKey(key,state);
			}
			var action = this._leftP;
			var state = 2;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				action.addKey(key,state);
			}
			var action = this._leftR;
			var state = -1;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				action.addKey(key,state);
			}
			break;
		case 2:
			var action = this._right;
			var state = 1;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				action.addKey(key,state);
			}
			var action = this._rightP;
			var state = 2;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				action.addKey(key,state);
			}
			var action = this._rightR;
			var state = -1;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				action.addKey(key,state);
			}
			break;
		case 3:
			var action = this._down;
			var state = 1;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				action.addKey(key,state);
			}
			var action = this._downP;
			var state = 2;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				action.addKey(key,state);
			}
			var action = this._downR;
			var state = -1;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				action.addKey(key,state);
			}
			break;
		case 4:
			var action = this._reset;
			var state = 2;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				action.addKey(key,state);
			}
			break;
		case 5:
			var action = this._accept;
			var state = 2;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				action.addKey(key,state);
			}
			break;
		case 6:
			var action = this._back;
			var state = 2;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				action.addKey(key,state);
			}
			break;
		case 7:
			var action = this._pause;
			var state = 2;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				action.addKey(key,state);
			}
			break;
		case 8:
			var action = this._cheat;
			var state = 2;
			var _g = 0;
			while(_g < keys.length) {
				var key = keys[_g];
				++_g;
				action.addKey(key,state);
			}
			break;
		}
	}
	,removeKeyboard: function() {
		var _g = 0;
		var _g1 = this.digitalActions;
		while(_g < _g1.length) {
			var action = _g1[_g];
			++_g;
			var i = action.inputs.length;
			while(i-- > 0) {
				var input = action.inputs[i];
				if(input.device == flixel_input_actions_FlxInputDevice.KEYBOARD) {
					action.remove(input);
				}
			}
		}
	}
	,addGamepad: function(id,buttonMap) {
		if(this.gamepadsAdded.indexOf(id) != -1) {
			HxOverrides.remove(this.gamepadsAdded,id);
		}
		this.gamepadsAdded.push(id);
		var _g = new haxe_iterators_MapKeyValueIterator(buttonMap);
		while(_g.hasNext()) {
			var _g1 = _g.next();
			var control = _g1.key;
			var buttons = _g1.value;
			var id1 = id;
			var buttons1 = buttons;
			switch(control._hx_index) {
			case 0:
				var action = this._up;
				var state = 1;
				var _g2 = 0;
				while(_g2 < buttons1.length) {
					var button = buttons1[_g2];
					++_g2;
					action.addGamepad(button,state,id1);
				}
				var action1 = this._upP;
				var state1 = 2;
				var _g3 = 0;
				while(_g3 < buttons1.length) {
					var button1 = buttons1[_g3];
					++_g3;
					action1.addGamepad(button1,state1,id1);
				}
				var action2 = this._upR;
				var state2 = -1;
				var _g4 = 0;
				while(_g4 < buttons1.length) {
					var button2 = buttons1[_g4];
					++_g4;
					action2.addGamepad(button2,state2,id1);
				}
				break;
			case 1:
				var action3 = this._left;
				var state3 = 1;
				var _g5 = 0;
				while(_g5 < buttons1.length) {
					var button3 = buttons1[_g5];
					++_g5;
					action3.addGamepad(button3,state3,id1);
				}
				var action4 = this._leftP;
				var state4 = 2;
				var _g6 = 0;
				while(_g6 < buttons1.length) {
					var button4 = buttons1[_g6];
					++_g6;
					action4.addGamepad(button4,state4,id1);
				}
				var action5 = this._leftR;
				var state5 = -1;
				var _g7 = 0;
				while(_g7 < buttons1.length) {
					var button5 = buttons1[_g7];
					++_g7;
					action5.addGamepad(button5,state5,id1);
				}
				break;
			case 2:
				var action6 = this._right;
				var state6 = 1;
				var _g8 = 0;
				while(_g8 < buttons1.length) {
					var button6 = buttons1[_g8];
					++_g8;
					action6.addGamepad(button6,state6,id1);
				}
				var action7 = this._rightP;
				var state7 = 2;
				var _g9 = 0;
				while(_g9 < buttons1.length) {
					var button7 = buttons1[_g9];
					++_g9;
					action7.addGamepad(button7,state7,id1);
				}
				var action8 = this._rightR;
				var state8 = -1;
				var _g10 = 0;
				while(_g10 < buttons1.length) {
					var button8 = buttons1[_g10];
					++_g10;
					action8.addGamepad(button8,state8,id1);
				}
				break;
			case 3:
				var action9 = this._down;
				var state9 = 1;
				var _g11 = 0;
				while(_g11 < buttons1.length) {
					var button9 = buttons1[_g11];
					++_g11;
					action9.addGamepad(button9,state9,id1);
				}
				var action10 = this._downP;
				var state10 = 2;
				var _g12 = 0;
				while(_g12 < buttons1.length) {
					var button10 = buttons1[_g12];
					++_g12;
					action10.addGamepad(button10,state10,id1);
				}
				var action11 = this._downR;
				var state11 = -1;
				var _g13 = 0;
				while(_g13 < buttons1.length) {
					var button11 = buttons1[_g13];
					++_g13;
					action11.addGamepad(button11,state11,id1);
				}
				break;
			case 4:
				var action12 = this._reset;
				var state12 = 2;
				var _g14 = 0;
				while(_g14 < buttons1.length) {
					var button12 = buttons1[_g14];
					++_g14;
					action12.addGamepad(button12,state12,id1);
				}
				break;
			case 5:
				var action13 = this._accept;
				var state13 = 2;
				var _g15 = 0;
				while(_g15 < buttons1.length) {
					var button13 = buttons1[_g15];
					++_g15;
					action13.addGamepad(button13,state13,id1);
				}
				break;
			case 6:
				var action14 = this._back;
				var state14 = 2;
				var _g16 = 0;
				while(_g16 < buttons1.length) {
					var button14 = buttons1[_g16];
					++_g16;
					action14.addGamepad(button14,state14,id1);
				}
				break;
			case 7:
				var action15 = this._pause;
				var state15 = 2;
				var _g17 = 0;
				while(_g17 < buttons1.length) {
					var button15 = buttons1[_g17];
					++_g17;
					action15.addGamepad(button15,state15,id1);
				}
				break;
			case 8:
				var action16 = this._cheat;
				var state16 = 2;
				var _g18 = 0;
				while(_g18 < buttons1.length) {
					var button16 = buttons1[_g18];
					++_g18;
					action16.addGamepad(button16,state16,id1);
				}
				break;
			}
		}
	}
	,addGamepadLiteral: function(id,buttonMap) {
		this.gamepadsAdded.push(id);
		var _g = new haxe_iterators_MapKeyValueIterator(buttonMap);
		while(_g.hasNext()) {
			var _g1 = _g.next();
			var control = _g1.key;
			var buttons = _g1.value;
			var id1 = id;
			var buttons1 = buttons;
			switch(control._hx_index) {
			case 0:
				var action = this._up;
				var state = 1;
				var _g2 = 0;
				while(_g2 < buttons1.length) {
					var button = buttons1[_g2];
					++_g2;
					action.addGamepad(button,state,id1);
				}
				var action1 = this._upP;
				var state1 = 2;
				var _g3 = 0;
				while(_g3 < buttons1.length) {
					var button1 = buttons1[_g3];
					++_g3;
					action1.addGamepad(button1,state1,id1);
				}
				var action2 = this._upR;
				var state2 = -1;
				var _g4 = 0;
				while(_g4 < buttons1.length) {
					var button2 = buttons1[_g4];
					++_g4;
					action2.addGamepad(button2,state2,id1);
				}
				break;
			case 1:
				var action3 = this._left;
				var state3 = 1;
				var _g5 = 0;
				while(_g5 < buttons1.length) {
					var button3 = buttons1[_g5];
					++_g5;
					action3.addGamepad(button3,state3,id1);
				}
				var action4 = this._leftP;
				var state4 = 2;
				var _g6 = 0;
				while(_g6 < buttons1.length) {
					var button4 = buttons1[_g6];
					++_g6;
					action4.addGamepad(button4,state4,id1);
				}
				var action5 = this._leftR;
				var state5 = -1;
				var _g7 = 0;
				while(_g7 < buttons1.length) {
					var button5 = buttons1[_g7];
					++_g7;
					action5.addGamepad(button5,state5,id1);
				}
				break;
			case 2:
				var action6 = this._right;
				var state6 = 1;
				var _g8 = 0;
				while(_g8 < buttons1.length) {
					var button6 = buttons1[_g8];
					++_g8;
					action6.addGamepad(button6,state6,id1);
				}
				var action7 = this._rightP;
				var state7 = 2;
				var _g9 = 0;
				while(_g9 < buttons1.length) {
					var button7 = buttons1[_g9];
					++_g9;
					action7.addGamepad(button7,state7,id1);
				}
				var action8 = this._rightR;
				var state8 = -1;
				var _g10 = 0;
				while(_g10 < buttons1.length) {
					var button8 = buttons1[_g10];
					++_g10;
					action8.addGamepad(button8,state8,id1);
				}
				break;
			case 3:
				var action9 = this._down;
				var state9 = 1;
				var _g11 = 0;
				while(_g11 < buttons1.length) {
					var button9 = buttons1[_g11];
					++_g11;
					action9.addGamepad(button9,state9,id1);
				}
				var action10 = this._downP;
				var state10 = 2;
				var _g12 = 0;
				while(_g12 < buttons1.length) {
					var button10 = buttons1[_g12];
					++_g12;
					action10.addGamepad(button10,state10,id1);
				}
				var action11 = this._downR;
				var state11 = -1;
				var _g13 = 0;
				while(_g13 < buttons1.length) {
					var button11 = buttons1[_g13];
					++_g13;
					action11.addGamepad(button11,state11,id1);
				}
				break;
			case 4:
				var action12 = this._reset;
				var state12 = 2;
				var _g14 = 0;
				while(_g14 < buttons1.length) {
					var button12 = buttons1[_g14];
					++_g14;
					action12.addGamepad(button12,state12,id1);
				}
				break;
			case 5:
				var action13 = this._accept;
				var state13 = 2;
				var _g15 = 0;
				while(_g15 < buttons1.length) {
					var button13 = buttons1[_g15];
					++_g15;
					action13.addGamepad(button13,state13,id1);
				}
				break;
			case 6:
				var action14 = this._back;
				var state14 = 2;
				var _g16 = 0;
				while(_g16 < buttons1.length) {
					var button14 = buttons1[_g16];
					++_g16;
					action14.addGamepad(button14,state14,id1);
				}
				break;
			case 7:
				var action15 = this._pause;
				var state15 = 2;
				var _g17 = 0;
				while(_g17 < buttons1.length) {
					var button15 = buttons1[_g17];
					++_g17;
					action15.addGamepad(button15,state15,id1);
				}
				break;
			case 8:
				var action16 = this._cheat;
				var state16 = 2;
				var _g18 = 0;
				while(_g18 < buttons1.length) {
					var button16 = buttons1[_g18];
					++_g18;
					action16.addGamepad(button16,state16,id1);
				}
				break;
			}
		}
	}
	,removeGamepad: function(deviceID) {
		if(deviceID == null) {
			deviceID = -1;
		}
		var _g = 0;
		var _g1 = this.digitalActions;
		while(_g < _g1.length) {
			var action = _g1[_g];
			++_g;
			var i = action.inputs.length;
			while(i-- > 0) {
				var input = action.inputs[i];
				if(input.device == flixel_input_actions_FlxInputDevice.GAMEPAD && (deviceID == -1 || input.deviceID == deviceID)) {
					action.remove(input);
				}
			}
		}
		HxOverrides.remove(this.gamepadsAdded,deviceID);
	}
	,addDefaultGamepad: function(id) {
		var _g = new haxe_ds_EnumValueMap();
		_g.set(Control.ACCEPT,[0]);
		_g.set(Control.BACK,[1]);
		_g.set(Control.UP,[11,34]);
		_g.set(Control.DOWN,[12,36]);
		_g.set(Control.LEFT,[13,37]);
		_g.set(Control.RIGHT,[14,35]);
		_g.set(Control.PAUSE,[7]);
		_g.set(Control.RESET,[3]);
		this.gamepadsAdded.push(id);
		var _g1 = new haxe_iterators_MapKeyValueIterator(_g);
		while(_g1.hasNext()) {
			var _g = _g1.next();
			var control = _g.key;
			var buttons = _g.value;
			var id1 = id;
			var buttons1 = buttons;
			switch(control._hx_index) {
			case 0:
				var action = this._up;
				var state = 1;
				var _g2 = 0;
				while(_g2 < buttons1.length) {
					var button = buttons1[_g2];
					++_g2;
					action.addGamepad(button,state,id1);
				}
				var action1 = this._upP;
				var state1 = 2;
				var _g3 = 0;
				while(_g3 < buttons1.length) {
					var button1 = buttons1[_g3];
					++_g3;
					action1.addGamepad(button1,state1,id1);
				}
				var action2 = this._upR;
				var state2 = -1;
				var _g4 = 0;
				while(_g4 < buttons1.length) {
					var button2 = buttons1[_g4];
					++_g4;
					action2.addGamepad(button2,state2,id1);
				}
				break;
			case 1:
				var action3 = this._left;
				var state3 = 1;
				var _g5 = 0;
				while(_g5 < buttons1.length) {
					var button3 = buttons1[_g5];
					++_g5;
					action3.addGamepad(button3,state3,id1);
				}
				var action4 = this._leftP;
				var state4 = 2;
				var _g6 = 0;
				while(_g6 < buttons1.length) {
					var button4 = buttons1[_g6];
					++_g6;
					action4.addGamepad(button4,state4,id1);
				}
				var action5 = this._leftR;
				var state5 = -1;
				var _g7 = 0;
				while(_g7 < buttons1.length) {
					var button5 = buttons1[_g7];
					++_g7;
					action5.addGamepad(button5,state5,id1);
				}
				break;
			case 2:
				var action6 = this._right;
				var state6 = 1;
				var _g8 = 0;
				while(_g8 < buttons1.length) {
					var button6 = buttons1[_g8];
					++_g8;
					action6.addGamepad(button6,state6,id1);
				}
				var action7 = this._rightP;
				var state7 = 2;
				var _g9 = 0;
				while(_g9 < buttons1.length) {
					var button7 = buttons1[_g9];
					++_g9;
					action7.addGamepad(button7,state7,id1);
				}
				var action8 = this._rightR;
				var state8 = -1;
				var _g10 = 0;
				while(_g10 < buttons1.length) {
					var button8 = buttons1[_g10];
					++_g10;
					action8.addGamepad(button8,state8,id1);
				}
				break;
			case 3:
				var action9 = this._down;
				var state9 = 1;
				var _g11 = 0;
				while(_g11 < buttons1.length) {
					var button9 = buttons1[_g11];
					++_g11;
					action9.addGamepad(button9,state9,id1);
				}
				var action10 = this._downP;
				var state10 = 2;
				var _g12 = 0;
				while(_g12 < buttons1.length) {
					var button10 = buttons1[_g12];
					++_g12;
					action10.addGamepad(button10,state10,id1);
				}
				var action11 = this._downR;
				var state11 = -1;
				var _g13 = 0;
				while(_g13 < buttons1.length) {
					var button11 = buttons1[_g13];
					++_g13;
					action11.addGamepad(button11,state11,id1);
				}
				break;
			case 4:
				var action12 = this._reset;
				var state12 = 2;
				var _g14 = 0;
				while(_g14 < buttons1.length) {
					var button12 = buttons1[_g14];
					++_g14;
					action12.addGamepad(button12,state12,id1);
				}
				break;
			case 5:
				var action13 = this._accept;
				var state13 = 2;
				var _g15 = 0;
				while(_g15 < buttons1.length) {
					var button13 = buttons1[_g15];
					++_g15;
					action13.addGamepad(button13,state13,id1);
				}
				break;
			case 6:
				var action14 = this._back;
				var state14 = 2;
				var _g16 = 0;
				while(_g16 < buttons1.length) {
					var button14 = buttons1[_g16];
					++_g16;
					action14.addGamepad(button14,state14,id1);
				}
				break;
			case 7:
				var action15 = this._pause;
				var state15 = 2;
				var _g17 = 0;
				while(_g17 < buttons1.length) {
					var button15 = buttons1[_g17];
					++_g17;
					action15.addGamepad(button15,state15,id1);
				}
				break;
			case 8:
				var action16 = this._cheat;
				var state16 = 2;
				var _g18 = 0;
				while(_g18 < buttons1.length) {
					var button16 = buttons1[_g18];
					++_g18;
					action16.addGamepad(button16,state16,id1);
				}
				break;
			}
		}
	}
	,bindButtons: function(control,id,buttons) {
		switch(control._hx_index) {
		case 0:
			var action = this._up;
			var state = 1;
			var _g = 0;
			while(_g < buttons.length) {
				var button = buttons[_g];
				++_g;
				action.addGamepad(button,state,id);
			}
			var action = this._upP;
			var state = 2;
			var _g = 0;
			while(_g < buttons.length) {
				var button = buttons[_g];
				++_g;
				action.addGamepad(button,state,id);
			}
			var action = this._upR;
			var state = -1;
			var _g = 0;
			while(_g < buttons.length) {
				var button = buttons[_g];
				++_g;
				action.addGamepad(button,state,id);
			}
			break;
		case 1:
			var action = this._left;
			var state = 1;
			var _g = 0;
			while(_g < buttons.length) {
				var button = buttons[_g];
				++_g;
				action.addGamepad(button,state,id);
			}
			var action = this._leftP;
			var state = 2;
			var _g = 0;
			while(_g < buttons.length) {
				var button = buttons[_g];
				++_g;
				action.addGamepad(button,state,id);
			}
			var action = this._leftR;
			var state = -1;
			var _g = 0;
			while(_g < buttons.length) {
				var button = buttons[_g];
				++_g;
				action.addGamepad(button,state,id);
			}
			break;
		case 2:
			var action = this._right;
			var state = 1;
			var _g = 0;
			while(_g < buttons.length) {
				var button = buttons[_g];
				++_g;
				action.addGamepad(button,state,id);
			}
			var action = this._rightP;
			var state = 2;
			var _g = 0;
			while(_g < buttons.length) {
				var button = buttons[_g];
				++_g;
				action.addGamepad(button,state,id);
			}
			var action = this._rightR;
			var state = -1;
			var _g = 0;
			while(_g < buttons.length) {
				var button = buttons[_g];
				++_g;
				action.addGamepad(button,state,id);
			}
			break;
		case 3:
			var action = this._down;
			var state = 1;
			var _g = 0;
			while(_g < buttons.length) {
				var button = buttons[_g];
				++_g;
				action.addGamepad(button,state,id);
			}
			var action = this._downP;
			var state = 2;
			var _g = 0;
			while(_g < buttons.length) {
				var button = buttons[_g];
				++_g;
				action.addGamepad(button,state,id);
			}
			var action = this._downR;
			var state = -1;
			var _g = 0;
			while(_g < buttons.length) {
				var button = buttons[_g];
				++_g;
				action.addGamepad(button,state,id);
			}
			break;
		case 4:
			var action = this._reset;
			var state = 2;
			var _g = 0;
			while(_g < buttons.length) {
				var button = buttons[_g];
				++_g;
				action.addGamepad(button,state,id);
			}
			break;
		case 5:
			var action = this._accept;
			var state = 2;
			var _g = 0;
			while(_g < buttons.length) {
				var button = buttons[_g];
				++_g;
				action.addGamepad(button,state,id);
			}
			break;
		case 6:
			var action = this._back;
			var state = 2;
			var _g = 0;
			while(_g < buttons.length) {
				var button = buttons[_g];
				++_g;
				action.addGamepad(button,state,id);
			}
			break;
		case 7:
			var action = this._pause;
			var state = 2;
			var _g = 0;
			while(_g < buttons.length) {
				var button = buttons[_g];
				++_g;
				action.addGamepad(button,state,id);
			}
			break;
		case 8:
			var action = this._cheat;
			var state = 2;
			var _g = 0;
			while(_g < buttons.length) {
				var button = buttons[_g];
				++_g;
				action.addGamepad(button,state,id);
			}
			break;
		}
	}
	,unbindButtons: function(control,gamepadID,buttons) {
		switch(control._hx_index) {
		case 0:
			Controls.removeButtons(this._up,gamepadID,buttons);
			Controls.removeButtons(this._upP,gamepadID,buttons);
			Controls.removeButtons(this._upR,gamepadID,buttons);
			break;
		case 1:
			Controls.removeButtons(this._left,gamepadID,buttons);
			Controls.removeButtons(this._leftP,gamepadID,buttons);
			Controls.removeButtons(this._leftR,gamepadID,buttons);
			break;
		case 2:
			Controls.removeButtons(this._right,gamepadID,buttons);
			Controls.removeButtons(this._rightP,gamepadID,buttons);
			Controls.removeButtons(this._rightR,gamepadID,buttons);
			break;
		case 3:
			Controls.removeButtons(this._down,gamepadID,buttons);
			Controls.removeButtons(this._downP,gamepadID,buttons);
			Controls.removeButtons(this._downR,gamepadID,buttons);
			break;
		case 4:
			Controls.removeButtons(this._reset,gamepadID,buttons);
			break;
		case 5:
			Controls.removeButtons(this._accept,gamepadID,buttons);
			break;
		case 6:
			Controls.removeButtons(this._back,gamepadID,buttons);
			break;
		case 7:
			Controls.removeButtons(this._pause,gamepadID,buttons);
			break;
		case 8:
			Controls.removeButtons(this._cheat,gamepadID,buttons);
			break;
		}
	}
	,getInputsFor: function(control,device,list) {
		if(list == null) {
			list = [];
		}
		switch(device._hx_index) {
		case 0:
			var _g = 0;
			var _g1 = this.getActionFromControl(control).inputs;
			while(_g < _g1.length) {
				var input = _g1[_g];
				++_g;
				if(input.device == flixel_input_actions_FlxInputDevice.KEYBOARD) {
					list.push(input.inputID);
				}
			}
			break;
		case 1:
			var id = device.id;
			var _g = 0;
			var _g1 = this.getActionFromControl(control).inputs;
			while(_g < _g1.length) {
				var input = _g1[_g];
				++_g;
				if(input.deviceID == id) {
					list.push(input.inputID);
				}
			}
			break;
		}
		return list;
	}
	,removeDevice: function(device) {
		switch(device._hx_index) {
		case 0:
			this.setKeyboardScheme(KeyboardScheme.None);
			break;
		case 1:
			var id = device.id;
			this.removeGamepad(id);
			break;
		}
	}
	,__class__: Controls
	,__properties__: {get_CHEAT:"get_CHEAT",get_RESET:"get_RESET",get_PAUSE:"get_PAUSE",get_BACK:"get_BACK",get_ACCEPT:"get_ACCEPT",get_DOWN_R:"get_DOWN_R",get_RIGHT_R:"get_RIGHT_R",get_LEFT_R:"get_LEFT_R",get_UP_R:"get_UP_R",get_DOWN_P:"get_DOWN_P",get_RIGHT_P:"get_RIGHT_P",get_LEFT_P:"get_LEFT_P",get_UP_P:"get_UP_P",get_DOWN:"get_DOWN",get_RIGHT:"get_RIGHT",get_LEFT:"get_LEFT",get_UP:"get_UP"}
});
var ConvertScore = function() { };
$hxClasses["ConvertScore"] = ConvertScore;
ConvertScore.__name__ = "ConvertScore";
ConvertScore.convertScore = function(noteDiff) {
	var daRating = Ratings.CalculateRating(noteDiff,166);
	switch(daRating) {
	case "bad":
		return 0;
	case "good":
		return 200;
	case "shit":
		return -300;
	case "sick":
		return 350;
	}
	return 0;
};
var CoolUtil = function() { };
$hxClasses["CoolUtil"] = CoolUtil;
CoolUtil.__name__ = "CoolUtil";
CoolUtil.difficultyFromInt = function(difficulty) {
	return CoolUtil.difficultyArray[difficulty];
};
CoolUtil.coolTextFile = function(path) {
	var daList = StringTools.trim(lime_utils_Assets.getText(path)).split("\n");
	var _g = 0;
	var _g1 = daList.length;
	while(_g < _g1) {
		var i = _g++;
		daList[i] = StringTools.trim(daList[i]);
	}
	return daList;
};
CoolUtil.coolStringFile = function(path) {
	var daList = StringTools.trim(path).split("\n");
	var _g = 0;
	var _g1 = daList.length;
	while(_g < _g1) {
		var i = _g++;
		daList[i] = StringTools.trim(daList[i]);
	}
	return daList;
};
CoolUtil.numberArray = function(max,min) {
	if(min == null) {
		min = 0;
	}
	var dumbArray = [];
	var _g = min;
	var _g1 = max;
	while(_g < _g1) {
		var i = _g++;
		dumbArray.push(i);
	}
	return dumbArray;
};
var DialogueBox = function(talkingRight,dialogueList) {
	if(talkingRight == null) {
		talkingRight = true;
	}
	this.isEnding = false;
	this.dialogueStarted = false;
	this.dialogueOpened = false;
	this.dialogueList = [];
	this.curCharacter = "";
	var _gthis = this;
	flixel_group_FlxTypedSpriteGroup.call(this);
	switch(PlayState.SONG.song.toLowerCase()) {
	case "senpai":
		flixel_FlxG.sound.playMusic(Paths.getPath("music/" + "Lunchbox" + "." + "mp3","MUSIC",null),0);
		var _this = flixel_FlxG.sound.music;
		var Duration = 1;
		var From = 0;
		var To = 0.8;
		if(To == null) {
			To = 1;
		}
		if(From == null) {
			From = 0;
		}
		if(Duration == null) {
			Duration = 1;
		}
		if(_this._channel == null) {
			_this.play();
		}
		if(_this.fadeTween != null) {
			_this.fadeTween.cancel();
		}
		_this.fadeTween = flixel_tweens_FlxTween.num(From,To,Duration,{ onComplete : null},$bind(_this,_this.volumeTween));
		break;
	case "thorns":
		flixel_FlxG.sound.playMusic(Paths.getPath("music/" + "LunchboxScary" + "." + "mp3","MUSIC",null),0);
		var _this = flixel_FlxG.sound.music;
		var Duration = 1;
		var From = 0;
		var To = 0.8;
		if(To == null) {
			To = 1;
		}
		if(From == null) {
			From = 0;
		}
		if(Duration == null) {
			Duration = 1;
		}
		if(_this._channel == null) {
			_this.play();
		}
		if(_this.fadeTween != null) {
			_this.fadeTween.cancel();
		}
		_this.fadeTween = flixel_tweens_FlxTween.num(From,To,Duration,{ onComplete : null},$bind(_this,_this.volumeTween));
		break;
	}
	this.bgFade = new flixel_FlxSprite(-200,-200).makeGraphic(flixel_FlxG.width * 1.3 | 0,flixel_FlxG.height * 1.3 | 0,-4988968);
	this.bgFade.scrollFactor.set();
	this.bgFade.set_alpha(0);
	this.add(this.bgFade);
	if(PlayState.SONG.song.toLowerCase() == "senpai" || PlayState.SONG.song.toLowerCase() == "roses" || PlayState.SONG.song.toLowerCase() == "thorns") {
		new flixel_util_FlxTimer().start(0.83,function(tmr) {
			var _g = _gthis.bgFade;
			_g.set_alpha(_g.alpha + 0.13999999999999999);
			if(_gthis.bgFade.alpha > 0.7) {
				_gthis.bgFade.set_alpha(0.7);
			}
		},5);
	}
	if(PlayState.SONG.song.toLowerCase() == "asteroids" || PlayState.SONG.song.toLowerCase() == "weightless" || PlayState.SONG.song.toLowerCase() == "event horizon") {
		new flixel_util_FlxTimer().start(0.83,function(tmr) {
			var _g = _gthis.bgFade;
			_g.set_alpha(_g.alpha + 0.125);
			if(_gthis.bgFade.alpha > 0.5) {
				_gthis.bgFade.set_alpha(0.5);
			}
		},5);
	}
	this.box = new flixel_FlxSprite(-20,45);
	this.spacebox = new flixel_FlxSprite(-20,350);
	var hasDialog = false;
	switch(PlayState.SONG.song.toLowerCase()) {
	case "asteroids":
		hasDialog = true;
		var library = null;
		var usecahce = flixel_FlxG.save.data.cacheImages;
		usecahce = false;
		this.spacebox.set_frames(flixel_graphics_frames_FlxAtlasFrames.fromSparrow(Paths.getPath("images/" + "space/dialogueBox-space" + ".png","IMAGE",library),Paths.getPath("images/" + "space/dialogueBox-space" + ".xml","TEXT",library)));
		this.spacebox.set_antialiasing(true);
		this.spacebox.animation.addByPrefix("spaceOpen","Text Box Appear",20,false);
		this.spacebox.animation.addByIndices("normal","Text Box Appear",[6],"",24);
		break;
	case "event horizon":
		hasDialog = true;
		var library = null;
		var usecahce = flixel_FlxG.save.data.cacheImages;
		usecahce = false;
		this.spacebox.set_frames(flixel_graphics_frames_FlxAtlasFrames.fromSparrow(Paths.getPath("images/" + "space/dialogueBox-space" + ".png","IMAGE",library),Paths.getPath("images/" + "space/dialogueBox-space" + ".xml","TEXT",library)));
		this.spacebox.set_antialiasing(true);
		this.spacebox.animation.addByPrefix("spaceOpen","Text Box Appear",20,false);
		this.spacebox.animation.addByIndices("normal","Text Box Appear",[6],"",24);
		break;
	case "roses":
		hasDialog = true;
		flixel_FlxG.sound.play(Paths.sound("ANGRY_TEXT_BOX"));
		var library = null;
		var usecahce = flixel_FlxG.save.data.cacheImages;
		usecahce = false;
		this.box.set_frames(flixel_graphics_frames_FlxAtlasFrames.fromSparrow(Paths.getPath("images/" + "weeb/pixelUI/dialogueBox-senpaiMad" + ".png","IMAGE",library),Paths.getPath("images/" + "weeb/pixelUI/dialogueBox-senpaiMad" + ".xml","TEXT",library)));
		this.box.animation.addByPrefix("normalOpen","SENPAI ANGRY IMPACT SPEECH",24,false);
		this.box.animation.addByIndices("normal","SENPAI ANGRY IMPACT SPEECH",[4],"",24);
		break;
	case "senpai":
		hasDialog = true;
		var library = null;
		var usecahce = flixel_FlxG.save.data.cacheImages;
		usecahce = false;
		this.box.set_frames(flixel_graphics_frames_FlxAtlasFrames.fromSparrow(Paths.getPath("images/" + "weeb/pixelUI/dialogueBox-pixel" + ".png","IMAGE",library),Paths.getPath("images/" + "weeb/pixelUI/dialogueBox-pixel" + ".xml","TEXT",library)));
		this.box.animation.addByPrefix("normalOpen","Text Box Appear",24,false);
		this.box.animation.addByIndices("normal","Text Box Appear",[4],"",24);
		break;
	case "thorns":
		hasDialog = true;
		var library = null;
		var usecahce = flixel_FlxG.save.data.cacheImages;
		usecahce = false;
		this.box.set_frames(flixel_graphics_frames_FlxAtlasFrames.fromSparrow(Paths.getPath("images/" + "weeb/pixelUI/dialogueBox-evil" + ".png","IMAGE",library),Paths.getPath("images/" + "weeb/pixelUI/dialogueBox-evil" + ".xml","TEXT",library)));
		this.box.animation.addByPrefix("normalOpen","Spirit Textbox spawn",24,false);
		this.box.animation.addByIndices("normal","Spirit Textbox spawn",[11],"",24);
		var face = new flixel_FlxSprite(320,170).loadGraphic(Paths.getPath("images/" + "weeb/spiritFaceForward" + ".png","IMAGE",null));
		face.setGraphicSize(face.get_width() * 6 | 0);
		this.add(face);
		break;
	case "weightless":
		hasDialog = true;
		var library = null;
		var usecahce = flixel_FlxG.save.data.cacheImages;
		usecahce = false;
		this.spacebox.set_frames(flixel_graphics_frames_FlxAtlasFrames.fromSparrow(Paths.getPath("images/" + "space/dialogueBox-space" + ".png","IMAGE",library),Paths.getPath("images/" + "space/dialogueBox-space" + ".xml","TEXT",library)));
		this.spacebox.set_antialiasing(true);
		this.spacebox.animation.addByPrefix("spaceOpen","Text Box Appear",20,false);
		this.spacebox.animation.addByIndices("normal","Text Box Appear",[6],"",24);
		break;
	}
	this.dialogueList = dialogueList;
	if(!hasDialog) {
		return;
	}
	if(PlayState.SONG.song.toLowerCase() == "senpai" || PlayState.SONG.song.toLowerCase() == "roses" || PlayState.SONG.song.toLowerCase() == "thorns") {
		this.portraitLeft = new flixel_FlxSprite(-20,40);
		var library = null;
		var usecahce = flixel_FlxG.save.data.cacheImages;
		usecahce = false;
		this.portraitLeft.set_frames(flixel_graphics_frames_FlxAtlasFrames.fromSparrow(Paths.getPath("images/" + "weeb/senpaiPortrait" + ".png","IMAGE",library),Paths.getPath("images/" + "weeb/senpaiPortrait" + ".xml","TEXT",library)));
		this.portraitLeft.animation.addByPrefix("enter","Senpai Portrait Enter",24,false);
		this.portraitLeft.setGraphicSize(this.portraitLeft.get_width() * PlayState.daPixelZoom * 0.9 | 0);
		this.portraitLeft.updateHitbox();
		this.portraitLeft.scrollFactor.set();
		this.add(this.portraitLeft);
		this.portraitLeft.set_visible(false);
		this.portraitRight = new flixel_FlxSprite(0,40);
		var library = null;
		var usecahce = flixel_FlxG.save.data.cacheImages;
		usecahce = false;
		this.portraitRight.set_frames(flixel_graphics_frames_FlxAtlasFrames.fromSparrow(Paths.getPath("images/" + "weeb/bfPortrait" + ".png","IMAGE",library),Paths.getPath("images/" + "weeb/bfPortrait" + ".xml","TEXT",library)));
		this.portraitRight.animation.addByPrefix("enter","Boyfriend portrait enter",24,false);
		this.portraitRight.setGraphicSize(this.portraitRight.get_width() * PlayState.daPixelZoom * 0.9 | 0);
		this.portraitRight.updateHitbox();
		this.portraitRight.scrollFactor.set();
		this.add(this.portraitRight);
		this.portraitRight.set_visible(false);
	}
	if(PlayState.SONG.song.toLowerCase() == "asteroids" || PlayState.SONG.song.toLowerCase() == "weightless" || PlayState.SONG.song.toLowerCase() == "event horizon") {
		this.vnormTextsound = "VnormText";
		this.vmadTextsound = "VmadText";
		this.bfTextsound = "BfText";
		this.portraitLeft = new flixel_FlxSprite(180,100);
		var library = null;
		var usecahce = flixel_FlxG.save.data.cacheImages;
		usecahce = false;
		this.portraitLeft.set_frames(flixel_graphics_frames_FlxAtlasFrames.fromSparrow(Paths.getPath("images/" + "space/voidPics" + ".png","IMAGE",library),Paths.getPath("images/" + "space/voidPics" + ".xml","TEXT",library)));
		this.portraitLeft.animation.addByPrefix("voidnormal","Void Normal",20,false);
		this.portraitLeft.animation.addByPrefix("voidsmug","Void Smug",20,false);
		this.portraitLeft.animation.addByPrefix("voidumm","Void Umm",20,false);
		this.portraitLeft.animation.addByPrefix("voidwornout","Void Worn Out",20,false);
		this.portraitLeft.animation.addByPrefix("voidmad","Void Mad",20,false);
		this.portraitLeft.animation.addByPrefix("voidrage","Void Rage",20,false);
		this.portraitLeft.set_antialiasing(true);
		this.portraitLeft.setGraphicSize(this.portraitLeft.get_width() * 0.8 | 0);
		this.portraitLeft.updateHitbox();
		this.portraitLeft.scrollFactor.set();
		this.add(this.portraitLeft);
		this.portraitLeft.set_visible(false);
		this.portraitRight = new flixel_FlxSprite(760,110);
		var library = null;
		var usecahce = flixel_FlxG.save.data.cacheImages;
		usecahce = false;
		this.portraitRight.set_frames(flixel_graphics_frames_FlxAtlasFrames.fromSparrow(Paths.getPath("images/" + "space/bfPics" + ".png","IMAGE",library),Paths.getPath("images/" + "space/bfPics" + ".xml","TEXT",library)));
		this.portraitRight.animation.addByPrefix("bfnormal","Bf Normal",20,false);
		this.portraitRight.animation.addByPrefix("bfsmug","Bf Smug",20,false);
		this.portraitRight.set_antialiasing(true);
		this.portraitRight.setGraphicSize(this.portraitRight.get_width() * 0.8 | 0);
		this.portraitRight.updateHitbox();
		this.portraitRight.scrollFactor.set();
		this.add(this.portraitRight);
		this.portraitRight.set_visible(false);
	}
	if(PlayState.SONG.song.toLowerCase() == "senpai" || PlayState.SONG.song.toLowerCase() == "roses" || PlayState.SONG.song.toLowerCase() == "thorns") {
		this.box.animation.play("normalOpen");
		this.box.setGraphicSize(this.box.get_width() * PlayState.daPixelZoom * 0.9 | 0);
		this.box.updateHitbox();
		this.add(this.box);
		this.handSelect = new flixel_FlxSprite(flixel_FlxG.width * 0.9,flixel_FlxG.height * 0.9).loadGraphic(Paths.getPath("images/" + "weeb/pixelUI/hand_textbox" + ".png","IMAGE",null));
		this.add(this.handSelect);
	}
	if(PlayState.SONG.song.toLowerCase() == "asteroids" || PlayState.SONG.song.toLowerCase() == "weightless" || PlayState.SONG.song.toLowerCase() == "event horizon") {
		this.spacebox.animation.play("spaceOpen");
		this.spacebox.set_antialiasing(true);
		this.spacebox.setGraphicSize(this.spacebox.get_width() * 1.5 | 0);
		this.spacebox.updateHitbox();
		this.add(this.spacebox);
		this.arrowSelect = new flixel_FlxSprite(810,800).loadGraphic(Paths.getPath("images/" + "space/arrow_textbox" + ".png","IMAGE",null));
		this.arrowSelect.setGraphicSize(this.arrowSelect.get_width() * 1.1 | 0);
		this.arrowSelect.set_antialiasing(true);
		this.add(this.arrowSelect);
	}
	this.box.screenCenter(flixel_util_FlxAxes.X);
	this.spacebox.screenCenter(flixel_util_FlxAxes.X);
	if(PlayState.SONG.song.toLowerCase() == "senpai" || PlayState.SONG.song.toLowerCase() == "roses" || PlayState.SONG.song.toLowerCase() == "thorns") {
		this.portraitLeft.screenCenter(flixel_util_FlxAxes.X);
	}
	var tmp = !talkingRight;
	if(PlayState.SONG.song.toLowerCase() == "senpai" || PlayState.SONG.song.toLowerCase() == "roses" || PlayState.SONG.song.toLowerCase() == "thorns") {
		this.dropText = new flixel_text_FlxText(242,502,flixel_FlxG.width * 0.6 | 0,"",32);
		this.dropText.set_font("Pixel Arial 11 Bold");
		this.dropText.set_color(-2583404);
		this.add(this.dropText);
		this.swagDialogue = new flixel_addons_text_FlxTypeText(240,500,flixel_FlxG.width * 0.6 | 0,"",32);
		this.swagDialogue.set_font("Pixel Arial 11 Bold");
		this.swagDialogue.set_color(-12640223);
		var tmp = flixel_FlxG.sound.load(Paths.sound("pixelText"),0.6);
		this.swagDialogue.sounds = [tmp];
		this.add(this.swagDialogue);
	}
	if(PlayState.SONG.song.toLowerCase() == "asteroids" || PlayState.SONG.song.toLowerCase() == "weightless" || PlayState.SONG.song.toLowerCase() == "event horizon") {
		this.dropText = new flixel_text_FlxText(258,515,flixel_FlxG.width * 0.6 | 0,"",40);
		this.dropText.set_font("Exo Bold");
		this.dropText.set_color(-16645598);
		this.add(this.dropText);
		this.swagDialogue = new flixel_addons_text_FlxTypeText(253,510,flixel_FlxG.width * 0.6 | 0,"",40);
		this.swagDialogue.set_font("Exo Bold");
		this.swagDialogue.set_color(-935425);
		var tmp = flixel_FlxG.sound.load(Paths.sound("Textsounds" + this.vnormTextsound),0.5);
		this.swagDialogue.sounds = [tmp];
		this.add(this.swagDialogue);
	}
	this.dialogue = new Alphabet(0,80,"",false,true);
};
$hxClasses["DialogueBox"] = DialogueBox;
DialogueBox.__name__ = "DialogueBox";
DialogueBox.__super__ = flixel_group_FlxTypedSpriteGroup;
DialogueBox.prototype = $extend(flixel_group_FlxTypedSpriteGroup.prototype,{
	box: null
	,spacebox: null
	,curCharacter: null
	,dialogue: null
	,dialogueList: null
	,swagDialogue: null
	,dropText: null
	,vnormTextsound: null
	,vmadTextsound: null
	,bfTextsound: null
	,finishThing: null
	,portraitLeft: null
	,portraitRight: null
	,handSelect: null
	,arrowSelect: null
	,bgFade: null
	,dialogueOpened: null
	,dialogueStarted: null
	,update: function(elapsed) {
		var _gthis = this;
		if(PlayState.SONG.song.toLowerCase() == "roses") {
			this.portraitLeft.set_visible(false);
		}
		if(PlayState.SONG.song.toLowerCase() == "thorns") {
			this.portraitLeft.set_visible(false);
			this.swagDialogue.set_color(-1);
			this.dropText.set_color(-16777216);
		}
		this.dropText.set_text(this.swagDialogue.text);
		if(this.box.animation._curAnim != null) {
			if(this.box.animation._curAnim.name == "normalOpen" && this.box.animation._curAnim.finished) {
				this.box.animation.play("normal");
				this.dialogueOpened = true;
			}
		}
		if(this.spacebox.animation._curAnim != null) {
			if(this.spacebox.animation._curAnim.name == "spaceOpen" && this.spacebox.animation._curAnim.finished) {
				this.spacebox.animation.play("normal");
				this.dialogueOpened = true;
			}
		}
		if(this.dialogueOpened && !this.dialogueStarted) {
			this.startDialogue();
			this.dialogueStarted = true;
		}
		if(PlayerSettings.player1.controls._accept.check() && this.dialogueStarted == true) {
			this.remove(this.dialogue);
			if(PlayState.SONG.song.toLowerCase() == "senpai" || PlayState.SONG.song.toLowerCase() == "roses" || PlayState.SONG.song.toLowerCase() == "thorns") {
				flixel_FlxG.sound.play(Paths.sound("clickText"),0.8);
			}
			if(PlayState.SONG.song.toLowerCase() == "asteroids" || PlayState.SONG.song.toLowerCase() == "weightless" || PlayState.SONG.song.toLowerCase() == "event horizon") {
				flixel_FlxG.sound.play(Paths.sound("clickTextSpace"),0.8);
			}
			if(this.dialogueList[1] == null && this.dialogueList[0] != null) {
				if(!this.isEnding) {
					this.isEnding = true;
					if(PlayState.SONG.song.toLowerCase() == "senpai" || PlayState.SONG.song.toLowerCase() == "thorns") {
						var _this = flixel_FlxG.sound.music;
						var Duration = 2.2;
						var To = 0;
						if(To == null) {
							To = 0;
						}
						if(Duration == null) {
							Duration = 1;
						}
						if(_this.fadeTween != null) {
							_this.fadeTween.cancel();
						}
						_this.fadeTween = flixel_tweens_FlxTween.num(_this._volume,To,Duration,{ onComplete : null},$bind(_this,_this.volumeTween));
					}
					new flixel_util_FlxTimer().start(0.2,function(tmr) {
						if(PlayState.SONG.song.toLowerCase() == "senpai" || PlayState.SONG.song.toLowerCase() == "roses" || PlayState.SONG.song.toLowerCase() == "thorns") {
							var _g = _gthis.box;
							_g.set_alpha(_g.alpha - 0.2);
							var _g = _gthis.bgFade;
							_g.set_alpha(_g.alpha - 0.13999999999999999);
						}
						if(PlayState.SONG.song.toLowerCase() == "asteroids" || PlayState.SONG.song.toLowerCase() == "weightless" || PlayState.SONG.song.toLowerCase() == "event horizon") {
							var _g = _gthis.spacebox;
							_g.set_alpha(_g.alpha - 0.25);
							var _g = _gthis.bgFade;
							_g.set_alpha(_g.alpha - 0.125);
						}
						_gthis.portraitLeft.set_visible(false);
						_gthis.portraitRight.set_visible(false);
						var _g = _gthis.swagDialogue;
						_g.set_alpha(_g.alpha - 0.2);
						_gthis.dropText.set_alpha(_gthis.swagDialogue.alpha);
					},5);
					new flixel_util_FlxTimer().start(1.2,function(tmr) {
						_gthis.finishThing();
						_gthis.kill();
					});
				}
			} else {
				HxOverrides.remove(this.dialogueList,this.dialogueList[0]);
				this.startDialogue();
			}
		}
		flixel_group_FlxTypedSpriteGroup.prototype.update.call(this,elapsed);
	}
	,isEnding: null
	,startDialogue: function() {
		this.cleanDialog();
		this.swagDialogue.resetText(this.dialogueList[0]);
		this.swagDialogue.start(0.04,true);
		switch(this.curCharacter) {
		case "bf":
			this.portraitLeft.set_visible(false);
			if(!this.portraitRight.visible) {
				this.portraitRight.set_visible(true);
				this.portraitRight.animation.play("enter");
			}
			break;
		case "bf1":
			var tmp = flixel_FlxG.sound.load(Paths.sound("Textsounds/" + this.bfTextsound),0.5);
			this.swagDialogue.sounds = [tmp];
			this.portraitLeft.set_visible(false);
			if(!this.portraitRight.visible) {
				this.portraitRight.set_visible(true);
			}
			this.portraitRight.animation.play("bfnormal");
			break;
		case "bf2":
			var tmp = flixel_FlxG.sound.load(Paths.sound("Textsounds/" + this.bfTextsound),0.5);
			this.swagDialogue.sounds = [tmp];
			this.portraitLeft.set_visible(false);
			if(!this.portraitRight.visible) {
				this.portraitRight.set_visible(true);
			}
			this.portraitRight.animation.play("bfsmug");
			break;
		case "dad":
			this.portraitRight.set_visible(false);
			if(!this.portraitLeft.visible) {
				this.portraitLeft.set_visible(true);
				this.portraitLeft.animation.play("enter");
			}
			break;
		case "v1":
			var tmp = flixel_FlxG.sound.load(Paths.sound("Textsounds/" + this.vnormTextsound),0.5);
			this.swagDialogue.sounds = [tmp];
			this.portraitRight.set_visible(false);
			if(!this.portraitLeft.visible) {
				this.portraitLeft.set_visible(true);
			}
			this.portraitLeft.animation.play("voidnormal");
			break;
		case "v2":
			var tmp = flixel_FlxG.sound.load(Paths.sound("Textsounds/" + this.vnormTextsound),0.5);
			this.swagDialogue.sounds = [tmp];
			this.portraitRight.set_visible(false);
			if(!this.portraitLeft.visible) {
				this.portraitLeft.set_visible(true);
			}
			this.portraitLeft.animation.play("voidsmug");
			break;
		case "v3":
			var tmp = flixel_FlxG.sound.load(Paths.sound("Textsounds/" + this.vnormTextsound),0.5);
			this.swagDialogue.sounds = [tmp];
			this.portraitRight.set_visible(false);
			if(!this.portraitLeft.visible) {
				this.portraitLeft.set_visible(true);
			}
			this.portraitLeft.animation.play("voidumm");
			break;
		case "v4":
			var tmp = flixel_FlxG.sound.load(Paths.sound("Textsounds/" + this.vnormTextsound),0.5);
			this.swagDialogue.sounds = [tmp];
			this.portraitRight.set_visible(false);
			if(!this.portraitLeft.visible) {
				this.portraitLeft.set_visible(true);
			}
			this.portraitLeft.animation.play("voidwornout");
			break;
		case "v5":
			var tmp = flixel_FlxG.sound.load(Paths.sound("Textsounds/" + this.vmadTextsound),0.5);
			this.swagDialogue.sounds = [tmp];
			this.portraitRight.set_visible(false);
			if(!this.portraitLeft.visible) {
				this.portraitLeft.set_visible(true);
			}
			this.portraitLeft.animation.play("voidmad");
			break;
		case "v6":
			var tmp = flixel_FlxG.sound.load(Paths.sound("Textsounds/" + this.vmadTextsound),0.5);
			this.swagDialogue.sounds = [tmp];
			this.portraitRight.set_visible(false);
			if(!this.portraitLeft.visible) {
				this.portraitLeft.set_visible(true);
			}
			this.portraitLeft.animation.play("voidrage");
			break;
		}
	}
	,cleanDialog: function() {
		var splitName = this.dialogueList[0].split(":");
		this.curCharacter = splitName[1];
		this.dialogueList[0] = StringTools.trim(HxOverrides.substr(this.dialogueList[0],splitName[1].length + 2,null));
	}
	,__class__: DialogueBox
});
var SmallNote = function(strum,data) {
	this.strumTime = strum;
	this.noteData = data;
};
$hxClasses["SmallNote"] = SmallNote;
SmallNote.__name__ = "SmallNote";
SmallNote.prototype = {
	strumTime: null
	,noteData: null
	,__class__: SmallNote
};
var DiffCalc = function() { };
$hxClasses["DiffCalc"] = DiffCalc;
DiffCalc.__name__ = "DiffCalc";
DiffCalc.CalculateDiff = function(song,accuracy) {
	if(accuracy == null) {
		accuracy = .93;
	}
	haxe_Log.trace("calcuilafjwaf",{ fileName : "source/DiffCalc.hx", lineNumber : 26, className : "DiffCalc", methodName : "CalculateDiff"});
	var cleanedNotes = [];
	if(song.notes == null) {
		return 0.0;
	}
	if(song.notes.length == 0) {
		return 0.0;
	}
	var _g = 0;
	var _g1 = song.notes;
	while(_g < _g1.length) {
		var i = _g1[_g];
		++_g;
		var _g2 = 0;
		var _g3 = i.sectionNotes;
		while(_g2 < _g3.length) {
			var ii = _g3[_g2];
			++_g2;
			if(ii[1] > 3 && !i.mustHitSection) {
				cleanedNotes.push(new SmallNote(ii[0],Math.floor(Math.abs(ii[1]))));
			} else if(ii[1] < 4 && i.mustHitSection) {
				cleanedNotes.push(new SmallNote(ii[0],Math.floor(Math.abs(ii[1]))));
			}
		}
	}
	haxe_Log.trace(cleanedNotes.length + " - playable notes",{ fileName : "source/DiffCalc.hx", lineNumber : 48, className : "DiffCalc", methodName : "CalculateDiff"});
	var handOne = [];
	var handTwo = [];
	cleanedNotes.sort(function(a,b) {
		return a.strumTime - b.strumTime | 0;
	});
	var firstNoteTime = cleanedNotes[0].strumTime;
	var _g = 0;
	while(_g < cleanedNotes.length) {
		var i = cleanedNotes[_g];
		++_g;
		i.strumTime = (i.strumTime - firstNoteTime) * 2;
	}
	var _g = 0;
	while(_g < cleanedNotes.length) {
		var i = cleanedNotes[_g];
		++_g;
		switch(i.noteData) {
		case 0:
			handOne.push(i);
			break;
		case 1:
			handOne.push(i);
			break;
		case 2:
			handTwo.push(i);
			break;
		case 3:
			handTwo.push(i);
			break;
		}
	}
	var leftHandCol = [];
	var leftMHandCol = [];
	var rightMHandCol = [];
	var rightHandCol = [];
	var _g = 0;
	var _g1 = handOne.length - 1;
	while(_g < _g1) {
		var i = _g++;
		if(handOne[i].noteData == 0) {
			leftHandCol.push(handOne[i].strumTime);
		} else {
			leftMHandCol.push(handOne[i].strumTime);
		}
	}
	var _g = 0;
	var _g1 = handTwo.length - 1;
	while(_g < _g1) {
		var i = _g++;
		if(handTwo[i].noteData == 3) {
			rightHandCol.push(handTwo[i].strumTime);
		} else {
			rightMHandCol.push(handTwo[i].strumTime);
		}
	}
	var length = cleanedNotes[cleanedNotes.length - 1].strumTime / 1000 / 0.5;
	var this1 = new Array(Math.floor(length));
	var segmentsOne = this1;
	var this1 = new Array(Math.floor(length));
	var segmentsTwo = this1;
	var _g = 0;
	var _g1 = segmentsOne.length;
	while(_g < _g1) {
		var i = _g++;
		segmentsOne[i] = [];
	}
	var _g = 0;
	var _g1 = segmentsTwo.length;
	while(_g < _g1) {
		var i = _g++;
		segmentsTwo[i] = [];
	}
	var _g = 0;
	while(_g < handOne.length) {
		var i = handOne[_g];
		++_g;
		var index = i.strumTime * 2 / 1000 | 0;
		if(index + 1 > length) {
			continue;
		}
		segmentsOne[index].push(i);
	}
	var _g = 0;
	while(_g < handTwo.length) {
		var i = handTwo[_g];
		++_g;
		var index = i.strumTime * 2 / 1000 | 0;
		if(index + 1 > length) {
			continue;
		}
		segmentsTwo[index].push(i);
	}
	var hand_npsOne = [];
	var hand_npsTwo = [];
	var _g = 0;
	while(_g < segmentsOne.length) {
		var i = segmentsOne[_g];
		++_g;
		if(i == null) {
			continue;
		}
		hand_npsOne.push(i.length * DiffCalc.scale * 1.6);
	}
	var _g = 0;
	while(_g < segmentsTwo.length) {
		var i = segmentsTwo[_g];
		++_g;
		if(i == null) {
			continue;
		}
		hand_npsTwo.push(i.length * DiffCalc.scale * 1.6);
	}
	var hand_diffOne = [];
	var hand_diffTwo = [];
	var _g = 0;
	var _g1 = segmentsOne.length;
	while(_g < _g1) {
		var i = _g++;
		var ve = segmentsOne[i];
		if(ve == null) {
			continue;
		}
		var fuckYouOne = [];
		var fuckYouTwo = [];
		var _g2 = 0;
		while(_g2 < ve.length) {
			var note = ve[_g2];
			++_g2;
			switch(note.noteData) {
			case 0:
				fuckYouOne.push(note);
				break;
			case 1:
				fuckYouTwo.push(note);
				break;
			}
		}
		var one = DiffCalc.fingieCalc(fuckYouOne,leftHandCol);
		var two = DiffCalc.fingieCalc(fuckYouTwo,leftMHandCol);
		var bigFuck = ((one > two ? one : two) * 8 + hand_npsOne[i] / DiffCalc.scale * 5) / 13 * DiffCalc.scale;
		hand_diffOne.push(bigFuck);
	}
	var _g = 0;
	var _g1 = segmentsTwo.length;
	while(_g < _g1) {
		var i = _g++;
		var ve = segmentsTwo[i];
		if(ve == null) {
			continue;
		}
		var fuckYouOne = [];
		var fuckYouTwo = [];
		var _g2 = 0;
		while(_g2 < ve.length) {
			var note = ve[_g2];
			++_g2;
			switch(note.noteData) {
			case 2:
				fuckYouOne.push(note);
				break;
			case 3:
				fuckYouTwo.push(note);
				break;
			}
		}
		var one = DiffCalc.fingieCalc(fuckYouOne,rightMHandCol);
		var two = DiffCalc.fingieCalc(fuckYouTwo,rightHandCol);
		var bigFuck = ((one > two ? one : two) * 8 + hand_npsTwo[i] / DiffCalc.scale * 5) / 13 * DiffCalc.scale;
		hand_diffTwo.push(bigFuck);
	}
	DiffCalc.smoothBrain(hand_npsOne,0);
	DiffCalc.smoothBrain(hand_npsTwo,0);
	DiffCalc.smoothBrainTwo(hand_diffOne);
	DiffCalc.smoothBrainTwo(hand_diffTwo);
	DiffCalc.smoothBrain(hand_npsOne,0);
	DiffCalc.smoothBrain(hand_npsTwo,0);
	DiffCalc.smoothBrainTwo(hand_diffOne);
	DiffCalc.smoothBrainTwo(hand_diffTwo);
	DiffCalc.smoothBrain(hand_npsOne,0);
	DiffCalc.smoothBrain(hand_npsTwo,0);
	DiffCalc.smoothBrainTwo(hand_diffOne);
	DiffCalc.smoothBrainTwo(hand_diffTwo);
	DiffCalc.smoothBrain(hand_npsOne,0);
	DiffCalc.smoothBrain(hand_npsTwo,0);
	DiffCalc.smoothBrainTwo(hand_diffOne);
	DiffCalc.smoothBrainTwo(hand_diffTwo);
	var point_npsOne = [];
	var point_npsTwo = [];
	var _g = 0;
	while(_g < segmentsOne.length) {
		var i = segmentsOne[_g];
		++_g;
		if(i == null) {
			continue;
		}
		point_npsOne.push(i.length);
	}
	var _g = 0;
	while(_g < segmentsTwo.length) {
		var i = segmentsTwo[_g];
		++_g;
		if(i == null) {
			continue;
		}
		point_npsTwo.push(i.length);
	}
	var maxPoints = 0;
	var _g = 0;
	while(_g < point_npsOne.length) {
		var i = point_npsOne[_g];
		++_g;
		maxPoints += i;
	}
	var _g = 0;
	while(_g < point_npsTwo.length) {
		var i = point_npsTwo[_g];
		++_g;
		maxPoints += i;
	}
	if(accuracy > .965) {
		accuracy = .965;
	}
	DiffCalc.lastDiffHandOne = hand_diffOne;
	DiffCalc.lastDiffHandTwo = hand_diffTwo;
	return HelperFunctions.truncateFloat(DiffCalc.chisel(accuracy,hand_diffOne,hand_diffTwo,point_npsOne,point_npsTwo,maxPoints),2);
};
DiffCalc.chisel = function(scoreGoal,diffOne,diffTwo,pointsOne,pointsTwo,maxPoints) {
	var lowerBound = 0;
	var upperBound = 100;
	while(upperBound - lowerBound > 0.01) {
		var average = (upperBound + lowerBound) / 2;
		var amtOfPoints = DiffCalc.calcuate(average,diffOne,pointsOne) + DiffCalc.calcuate(average,diffTwo,pointsTwo);
		if(amtOfPoints / maxPoints < scoreGoal) {
			lowerBound = average;
		} else {
			upperBound = average;
		}
	}
	return upperBound;
};
DiffCalc.calcuate = function(midPoint,diff,points) {
	var output = 0;
	var _g = 0;
	var _g1 = diff.length;
	while(_g < _g1) {
		var i = _g++;
		var res = diff[i];
		if(midPoint > res) {
			output += points[i];
		} else {
			output += points[i] * Math.pow(midPoint / res,1.2);
		}
	}
	return output;
};
DiffCalc.findStupid = function(strumTime,array) {
	var _g = 0;
	var _g1 = array.length;
	while(_g < _g1) {
		var i = _g++;
		if(array[i] == strumTime) {
			return i;
		}
	}
	return -1;
};
DiffCalc.fingieCalc = function(floats,columArray) {
	var sum = 0;
	if(floats.length == 0) {
		return 0;
	}
	var startIndex = DiffCalc.findStupid(floats[0].strumTime,columArray);
	if(startIndex == -1) {
		return 0;
	}
	var _g = 0;
	while(_g < floats.length) {
		var i = floats[_g];
		++_g;
		sum += columArray[startIndex + 1] - columArray[startIndex];
		++startIndex;
	}
	if(sum == 0) {
		return 0;
	}
	return 1375 * floats.length / sum;
};
DiffCalc.smoothBrain = function(npsVector,weirdchamp) {
	var floatOne = weirdchamp;
	var floatTwo = weirdchamp;
	var _g = 0;
	var _g1 = npsVector.length;
	while(_g < _g1) {
		var i = _g++;
		var result = npsVector[i];
		var chunker = floatOne;
		floatOne = floatTwo;
		floatTwo = result;
		npsVector[i] = (chunker + floatOne + floatTwo) / 3;
	}
};
DiffCalc.smoothBrainTwo = function(diffVector) {
	var floatZero = 0;
	var _g = 0;
	var _g1 = diffVector.length;
	while(_g < _g1) {
		var i = _g++;
		var result = diffVector[i];
		var fuck = floatZero;
		floatZero = result;
		diffVector[i] = (fuck + floatZero) / 2;
	}
};
var flixel_FlxSubState = function(BGColor) {
	if(BGColor == null) {
		BGColor = 0;
	}
	this._created = false;
	flixel_FlxState.call(this);
	this.closeCallback = null;
	this.openCallback = null;
	if(flixel_FlxG.renderTile) {
		this._bgSprite = new flixel_system_FlxBGSprite();
	}
	this.set_bgColor(BGColor);
};
$hxClasses["flixel.FlxSubState"] = flixel_FlxSubState;
flixel_FlxSubState.__name__ = "flixel.FlxSubState";
flixel_FlxSubState.__super__ = flixel_FlxState;
flixel_FlxSubState.prototype = $extend(flixel_FlxState.prototype,{
	openCallback: null
	,closeCallback: null
	,_bgSprite: null
	,_parentState: null
	,_bgColor: null
	,_created: null
	,draw: function() {
		if(flixel_FlxG.renderBlit) {
			var _g = 0;
			var _g1 = this.get_cameras();
			while(_g < _g1.length) {
				var camera = _g1[_g];
				++_g;
				camera.fill(this._bgColor);
			}
		} else {
			this._bgSprite.draw();
		}
		flixel_FlxState.prototype.draw.call(this);
	}
	,destroy: function() {
		flixel_FlxState.prototype.destroy.call(this);
		this.closeCallback = null;
		this.openCallback = null;
		this._parentState = null;
		this._bgSprite = null;
	}
	,close: function() {
		if(this._parentState != null && this._parentState.subState == this) {
			this._parentState.closeSubState();
		}
	}
	,get_bgColor: function() {
		return this._bgColor;
	}
	,set_bgColor: function(Value) {
		if(flixel_FlxG.renderTile && this._bgSprite != null) {
			this._bgSprite.get_pixels().setPixel32(0,0,Value);
		}
		return this._bgColor = Value;
	}
	,__class__: flixel_FlxSubState
});
var DiffOverview = function(BGColor) {
	this.unspawnNotes = [];
	this.frames = 0;
	this.oldStep = 0;
	this.currentStep = 0;
	this.stopDoingShit = false;
	flixel_FlxSubState.call(this,BGColor);
};
$hxClasses["DiffOverview"] = DiffOverview;
DiffOverview.__name__ = "DiffOverview";
DiffOverview.__super__ = flixel_FlxSubState;
DiffOverview.prototype = $extend(flixel_FlxSubState.prototype,{
	blackBox: null
	,handOne: null
	,handTwo: null
	,giantText: null
	,SONG: null
	,strumLine: null
	,camHUD: null
	,offset: null
	,create: function() {
		Conductor.songPosition = 0;
		Conductor.lastSongPos = 0;
		this.camHUD = new flixel_FlxCamera();
		this.camHUD.bgColor &= 16777215;
		this.camHUD.bgColor |= 0;
		var camGame = new flixel_FlxCamera();
		flixel_FlxG.cameras.add(camGame);
		flixel_FlxG.cameras.add(this.camHUD);
		flixel_FlxCamera._defaultCameras = [camGame];
		DiffOverview.playerStrums = new flixel_group_FlxTypedGroup();
		this.SONG = FreeplayState.songData.h[FreeplayState.songs[FreeplayState.curSelected].songName][FreeplayState.curDifficulty];
		this.strumLine = new flixel_FlxSprite(0,flixel_FlxG.height / 2 - 295).makeGraphic(flixel_FlxG.width,10);
		this.strumLine.scrollFactor.set();
		this.blackBox = new flixel_FlxSprite(0,0).makeGraphic(flixel_FlxG.width,flixel_FlxG.height,-16777216);
		this.blackBox.set_alpha(0);
		this.add(this.blackBox);
		FreeplayState.openedPreview = true;
		this.handOne = DiffCalc.lastDiffHandOne;
		this.handTwo = DiffCalc.lastDiffHandTwo;
		var _g = 0;
		while(_g < 4) {
			var i = _g++;
			var babyArrow = new flixel_FlxSprite(0,this.strumLine.y);
			var usecahce = flixel_FlxG.save.data.cacheImages;
			usecahce = false;
			babyArrow.set_frames(flixel_graphics_frames_FlxAtlasFrames.fromSparrow(Paths.getPath("images/" + "NOTE_assets" + ".png","IMAGE","shared"),Paths.getPath("images/" + "NOTE_assets" + ".xml","TEXT","shared")));
			babyArrow.animation.addByPrefix("green","arrowUP");
			babyArrow.animation.addByPrefix("blue","arrowDOWN");
			babyArrow.animation.addByPrefix("purple","arrowLEFT");
			babyArrow.animation.addByPrefix("red","arrowRIGHT");
			if(flixel_FlxG.save.data.antialiasing) {
				babyArrow.set_antialiasing(true);
			}
			babyArrow.setGraphicSize(babyArrow.get_width() * 0.7 | 0);
			switch(Math.abs(i)) {
			case 0:
				var _g1 = babyArrow;
				_g1.set_x(_g1.x + Note.swagWidth * 0);
				babyArrow.animation.addByPrefix("static","arrowLEFT");
				babyArrow.animation.addByPrefix("pressed","left press",24,false);
				babyArrow.animation.addByPrefix("confirm","left confirm",24,false);
				break;
			case 1:
				var _g2 = babyArrow;
				_g2.set_x(_g2.x + Note.swagWidth);
				babyArrow.animation.addByPrefix("static","arrowDOWN");
				babyArrow.animation.addByPrefix("pressed","down press",24,false);
				babyArrow.animation.addByPrefix("confirm","down confirm",24,false);
				break;
			case 2:
				var _g3 = babyArrow;
				_g3.set_x(_g3.x + Note.swagWidth * 2);
				babyArrow.animation.addByPrefix("static","arrowUP");
				babyArrow.animation.addByPrefix("pressed","up press",24,false);
				babyArrow.animation.addByPrefix("confirm","up confirm",24,false);
				break;
			case 3:
				var _g4 = babyArrow;
				_g4.set_x(_g4.x + Note.swagWidth * 3);
				babyArrow.animation.addByPrefix("static","arrowRIGHT");
				babyArrow.animation.addByPrefix("pressed","right press",24,false);
				babyArrow.animation.addByPrefix("confirm","right confirm",24,false);
				break;
			}
			babyArrow.updateHitbox();
			babyArrow.scrollFactor.set();
			var _g5 = babyArrow;
			_g5.set_y(_g5.y - 10);
			babyArrow.set_alpha(1);
			babyArrow.ID = i;
			DiffOverview.playerStrums.add(babyArrow);
			babyArrow.animation.play("static");
			var _g6 = babyArrow;
			_g6.set_x(_g6.x + 50);
			var _g7 = babyArrow;
			_g7.set_x(_g7.x + flixel_FlxG.width / 2);
		}
		this.add(DiffOverview.playerStrums);
		this.generateSong("assItch");
		DiffOverview.playerStrums.set_cameras([this.camHUD]);
		this.notes.set_cameras([this.camHUD]);
		this.blackBox.set_cameras([this.camHUD]);
		this.blackBox.set_x(DiffOverview.playerStrums.members[0].x);
		this.blackBox.set_y(this.strumLine.y);
		this.camHUD.set_zoom(0.6);
		this.camHUD.set_alpha(0);
		this.camHUD.set_height(5000);
		this.blackBox.set_height(this.camHUD.height);
		var _g = this.camHUD;
		_g.set_x(_g.x + 280);
		var _g = this.blackBox;
		_g.set_y(_g.y - 100);
		var _g = this.blackBox;
		_g.set_x(_g.x - 100);
		this.offset = new flixel_text_FlxText(10,flixel_FlxG.height - 40,0,"Offset: " + HelperFunctions.truncateFloat(flixel_FlxG.save.data.offset,0) + " (LEFT/RIGHT to decrease/increase)",16);
		var _this = this.offset;
		var Color = -16777216;
		var Size = 4;
		var Quality = 1;
		if(Quality == null) {
			Quality = 1;
		}
		if(Size == null) {
			Size = 1;
		}
		if(Color == null) {
			Color = 0;
		}
		_this.set_borderStyle(flixel_text_FlxTextBorderStyle.OUTLINE);
		_this.set_borderColor(Color);
		_this.set_borderSize(Size);
		_this.set_borderQuality(Quality);
		this.offset.set_color(-1);
		this.offset.scrollFactor.set();
		flixel_tweens_FlxTween.tween(this.blackBox,{ alpha : 0.5},1,{ ease : flixel_tweens_FlxEase.expoInOut});
		flixel_tweens_FlxTween.tween(this.camHUD,{ alpha : 1},0.5,{ ease : flixel_tweens_FlxEase.expoInOut});
		flixel_tweens_FlxTween.tween(this.offset,{ alpha : 1},0.5,{ ease : flixel_tweens_FlxEase.expoInOut});
		haxe_Log.trace("pog",{ fileName : "source/DiffOverview.hx", lineNumber : 168, className : "DiffOverview", methodName : "create"});
		flixel_FlxSubState.prototype.create.call(this);
	}
	,endSong: function() {
		if(this.stopDoingShit) {
			return;
		}
	}
	,resyncVocals: function() {
		this.vocals.pause();
		flixel_FlxG.sound.music.play();
		Conductor.songPosition = flixel_FlxG.sound.music._time;
		this.vocals.set_time(Conductor.songPosition);
		this.vocals.play();
	}
	,stopDoingShit: null
	,currentStep: null
	,oldStep: null
	,updateCurStep: function() {
		var lastChange = { stepTime : 0, songTime : 0, bpm : 0};
		var _g = 0;
		var _g1 = Conductor.bpmChangeMap.length;
		while(_g < _g1) {
			var i = _g++;
			if(Conductor.songPosition >= Conductor.bpmChangeMap[i].songTime) {
				lastChange = Conductor.bpmChangeMap[i];
			}
		}
		this.currentStep = lastChange.stepTime + Math.floor((Conductor.songPosition - lastChange.songTime) / Conductor.stepCrochet);
	}
	,stepHit: function() {
		if(flixel_FlxG.sound.music._time > Conductor.songPosition + 20 || flixel_FlxG.sound.music._time < Conductor.songPosition - 20) {
			haxe_Log.trace("resync",{ fileName : "source/DiffOverview.hx", lineNumber : 214, className : "DiffOverview", methodName : "stepHit"});
			this.resyncVocals();
		}
		this.oldStep = this.currentStep;
	}
	,offsetChange: function() {
		var _g = 0;
		var _g1 = this.unspawnNotes;
		while(_g < _g1.length) {
			var i = _g1[_g];
			++_g;
			i.strumTime = i.baseStrum + flixel_FlxG.save.data.offset;
		}
		var i = new flixel_group_FlxTypedGroupIterator(this.notes.members,null);
		while(i.hasNext()) {
			var i1 = i.next();
			i1.strumTime = i1.baseStrum + flixel_FlxG.save.data.offset;
		}
	}
	,frames: null
	,update: function(elapsed) {
		var _gthis = this;
		flixel_FlxSubState.prototype.update.call(this,elapsed);
		if(this.frames < 10) {
			this.frames++;
			return;
		}
		if(this.stopDoingShit) {
			return;
		}
		this.updateCurStep();
		if(this.oldStep != this.currentStep && this.currentStep > 0) {
			this.stepHit();
		}
		var _this = flixel_FlxG.keys.pressed;
		if(_this.keyManager.checkStatus(32,_this.status)) {
			this.stopDoingShit = true;
			this.quit();
		}
		var gamepad = flixel_FlxG.gamepads.lastActive;
		if(gamepad != null) {
			var _this = gamepad.justPressed;
			var id = 2;
			var _this1 = _this.gamepad;
			var Status = _this.status;
			var tmp;
			switch(id) {
			case -2:
				tmp = _this1.anyButton(Status);
				break;
			case -1:
				tmp = !_this1.anyButton(Status);
				break;
			default:
				var RawID = _this1.mapping.getRawID(id);
				var button = _this1.buttons[RawID];
				tmp = button != null && button.hasState(Status);
			}
			if(tmp) {
				this.stopDoingShit = true;
				this.quit();
			}
		}
		if(this.vocals != null) {
			if(this.vocals._channel != null) {
				Conductor.songPosition += flixel_FlxG.elapsed * 1000;
			}
		}
		if(this.unspawnNotes[0] != null) {
			if(this.unspawnNotes[0].strumTime - Conductor.songPosition < 3500) {
				var dunceNote = this.unspawnNotes[0];
				this.notes.add(dunceNote);
				var index = this.unspawnNotes.indexOf(dunceNote);
				this.unspawnNotes.splice(index,1);
			}
		}
		this.notes.forEachAlive(function(daNote) {
			if(daNote.tooLate) {
				daNote.set_active(false);
				daNote.set_visible(false);
			} else {
				daNote.set_visible(true);
				daNote.set_active(true);
			}
			daNote.set_y(DiffOverview.playerStrums.members[Math.floor(Math.abs(daNote.noteData))].y - 0.45 * (Conductor.songPosition - daNote.strumTime) * flixel_math_FlxMath.roundDecimal(_gthis.SONG.speed,2));
			if(daNote.isSustainNote) {
				var _g = daNote;
				_g.set_y(_g.y - daNote.get_height() / 2);
				if((!daNote.mustPress || daNote.wasGoodHit || daNote.prevNote.wasGoodHit && !daNote.canBeHit) && daNote.y + daNote.offset.y * daNote.scale.y <= _gthis.strumLine.y + Note.swagWidth / 2) {
					var swagRect = new flixel_math_FlxRect(0,0,daNote.get_width() / daNote.scale.x,daNote.get_height() / daNote.scale.y);
					swagRect.y = (DiffOverview.playerStrums.members[Math.floor(Math.abs(daNote.noteData))].y + Note.swagWidth / 2 - daNote.y) / daNote.scale.y;
					swagRect.height -= swagRect.y;
					daNote.set_clipRect(swagRect);
				}
			}
			daNote.set_visible(DiffOverview.playerStrums.members[Math.floor(Math.abs(daNote.noteData))].visible);
			daNote.set_x(DiffOverview.playerStrums.members[Math.floor(Math.abs(daNote.noteData))].x);
			if(!daNote.isSustainNote) {
				daNote.set_angle(DiffOverview.playerStrums.members[Math.floor(Math.abs(daNote.noteData))].angle);
			}
			daNote.set_alpha(DiffOverview.playerStrums.members[Math.floor(Math.abs(daNote.noteData))].alpha);
			if(daNote.y < _gthis.strumLine.y) {
				if(daNote.canBeHit && daNote.mustPress || daNote.tooLate && daNote.mustPress) {
					daNote.wasGoodHit = true;
					_gthis.vocals.set_volume(1);
					daNote.kill();
					_gthis.notes.remove(daNote,true);
					daNote.destroy();
				}
			}
		});
	}
	,quit: function() {
		flixel_tweens_FlxTween.tween(this.blackBox,{ alpha : 0},1,{ ease : flixel_tweens_FlxEase.expoInOut});
		flixel_tweens_FlxTween.tween(this.camHUD,{ alpha : 0},1,{ ease : flixel_tweens_FlxEase.expoInOut});
		flixel_tweens_FlxTween.tween(this.offset,{ alpha : 0},1,{ ease : flixel_tweens_FlxEase.expoInOut});
		var _this = this.vocals;
		if(_this.fadeTween != null) {
			_this.fadeTween.cancel();
		}
		_this.fadeTween = flixel_tweens_FlxTween.num(_this._volume,0,1,{ onComplete : null},$bind(_this,_this.volumeTween));
		FreeplayState.openedPreview = false;
	}
	,vocals: null
	,notes: null
	,unspawnNotes: null
	,generateSong: function(dataPath) {
		var songData = FreeplayState.songData.h[FreeplayState.songs[FreeplayState.curSelected].songName][FreeplayState.curDifficulty];
		Conductor.changeBPM(songData.bpm);
		if(this.SONG.needsVoices) {
			var tmp = new flixel_system_FlxSound();
			var songLowercase = StringTools.replace(this.SONG.song," ","-").toLowerCase();
			switch(songLowercase) {
			case "dad-battle":
				songLowercase = "dadbattle";
				break;
			case "philly-nice":
				songLowercase = "philly";
				break;
			}
			this.vocals = tmp.loadEmbedded("songs:assets/songs/" + songLowercase + "/Voices." + "mp3");
		} else {
			this.vocals = new flixel_system_FlxSound();
		}
		haxe_Log.trace("loaded vocals",{ fileName : "source/DiffOverview.hx", lineNumber : 405, className : "DiffOverview", methodName : "generateSong"});
		flixel_FlxG.sound.list.add(this.vocals);
		this.notes = new flixel_group_FlxTypedGroup();
		this.add(this.notes);
		var noteData = songData.notes;
		var playerCounter = 0;
		var daBeats = 0;
		var _g = 0;
		while(_g < noteData.length) {
			var section = noteData[_g];
			++_g;
			var coolSection = section.lengthInSteps / 4 | 0;
			var _g1 = 0;
			var _g2 = section.sectionNotes;
			while(_g1 < _g2.length) {
				var songNotes = _g2[_g1];
				++_g1;
				var daStrumTime = songNotes[0] + flixel_FlxG.save.data.offset;
				if(daStrumTime < 0) {
					daStrumTime = 0;
				}
				var daNoteData = songNotes[1] % 4 | 0;
				var gottaHitNote = section.mustHitSection;
				if(songNotes[1] > 3) {
					gottaHitNote = !section.mustHitSection;
				}
				var oldNote;
				if(this.unspawnNotes.length > 0) {
					oldNote = this.unspawnNotes[this.unspawnNotes.length - 1 | 0];
				} else {
					oldNote = null;
				}
				var swagNote = new Note(daStrumTime,daNoteData,oldNote,false,true);
				if(!gottaHitNote) {
					continue;
				}
				swagNote.baseStrum = Math.round(songNotes[0]);
				swagNote.sustainLength = songNotes[2];
				swagNote.scrollFactor.set(0,0);
				var susLength = swagNote.sustainLength;
				susLength /= Conductor.stepCrochet;
				this.unspawnNotes.push(swagNote);
				var _g3 = 0;
				var _g4 = Math.floor(susLength);
				while(_g3 < _g4) {
					var susNote = _g3++;
					oldNote = this.unspawnNotes[this.unspawnNotes.length - 1 | 0];
					var sustainNote = new Note(daStrumTime + Conductor.stepCrochet * susNote + Conductor.stepCrochet,daNoteData,oldNote,true,true);
					sustainNote.scrollFactor.set();
					this.unspawnNotes.push(sustainNote);
					sustainNote.mustPress = gottaHitNote;
					if(sustainNote.mustPress) {
						var _g5 = sustainNote;
						_g5.set_x(_g5.x + flixel_FlxG.width / 2);
					}
				}
				swagNote.mustPress = gottaHitNote;
				if(swagNote.mustPress) {
					var _g6 = swagNote;
					_g6.set_x(_g6.x + flixel_FlxG.width / 2);
				}
			}
			++daBeats;
		}
		this.unspawnNotes.sort($bind(this,this.sortByShit));
		Conductor.mapBPMChanges(this.SONG);
		Conductor.changeBPM(this.SONG.bpm);
		var tmp = flixel_FlxG.sound;
		var songLowercase = StringTools.replace(this.SONG.song," ","-").toLowerCase();
		switch(songLowercase) {
		case "dad-battle":
			songLowercase = "dadbattle";
			break;
		case "philly-nice":
			songLowercase = "philly";
			break;
		}
		tmp.playMusic("songs:assets/songs/" + songLowercase + "/Inst." + "mp3",1,false);
		flixel_FlxG.sound.music.onComplete = $bind(this,this.endSong);
		this.vocals.play();
	}
	,sortByShit: function(Obj1,Obj2) {
		var Value1 = Obj1.strumTime;
		var Value2 = Obj2.strumTime;
		var result = 0;
		if(Value1 < Value2) {
			result = -1;
		} else if(Value1 > Value2) {
			result = 1;
		}
		return result;
	}
	,__class__: DiffOverview
});
var EReg = function(r,opt) {
	this.r = new RegExp(r,opt.split("u").join(""));
};
$hxClasses["EReg"] = EReg;
EReg.__name__ = "EReg";
EReg.prototype = {
	r: null
	,match: function(s) {
		if(this.r.global) {
			this.r.lastIndex = 0;
		}
		this.r.m = this.r.exec(s);
		this.r.s = s;
		return this.r.m != null;
	}
	,matched: function(n) {
		if(this.r.m != null && n >= 0 && n < this.r.m.length) {
			return this.r.m[n];
		} else {
			throw haxe_Exception.thrown("EReg::matched");
		}
	}
	,matchedRight: function() {
		if(this.r.m == null) {
			throw haxe_Exception.thrown("No string matched");
		}
		var sz = this.r.m.index + this.r.m[0].length;
		return HxOverrides.substr(this.r.s,sz,this.r.s.length - sz);
	}
	,matchedPos: function() {
		if(this.r.m == null) {
			throw haxe_Exception.thrown("No string matched");
		}
		return { pos : this.r.m.index, len : this.r.m[0].length};
	}
	,matchSub: function(s,pos,len) {
		if(len == null) {
			len = -1;
		}
		if(this.r.global) {
			this.r.lastIndex = pos;
			this.r.m = this.r.exec(len < 0 ? s : HxOverrides.substr(s,0,pos + len));
			var b = this.r.m != null;
			if(b) {
				this.r.s = s;
			}
			return b;
		} else {
			var b = this.match(len < 0 ? HxOverrides.substr(s,pos,null) : HxOverrides.substr(s,pos,len));
			if(b) {
				this.r.s = s;
				this.r.m.index += pos;
			}
			return b;
		}
	}
	,split: function(s) {
		var d = "#__delim__#";
		return s.replace(this.r,d).split(d);
	}
	,map: function(s,f) {
		var offset = 0;
		var buf_b = "";
		while(true) {
			if(offset >= s.length) {
				break;
			} else if(!this.matchSub(s,offset)) {
				buf_b += Std.string(HxOverrides.substr(s,offset,null));
				break;
			}
			var p = this.matchedPos();
			buf_b += Std.string(HxOverrides.substr(s,offset,p.pos - offset));
			buf_b += Std.string(f(this));
			if(p.len == 0) {
				buf_b += Std.string(HxOverrides.substr(s,p.pos,1));
				offset = p.pos + 1;
			} else {
				offset = p.pos + p.len;
			}
			if(!this.r.global) {
				break;
			}
		}
		if(!this.r.global && offset > 0 && offset < s.length) {
			buf_b += Std.string(HxOverrides.substr(s,offset,null));
		}
		return buf_b;
	}
	,__class__: EReg
};
var EndWeekSubState = function(TransIn,TransOut) {
	MusicBeatState.call(this,TransIn,TransOut);
};
$hxClasses["EndWeekSubState"] = EndWeekSubState;
EndWeekSubState.__name__ = "EndWeekSubState";
EndWeekSubState.__super__ = MusicBeatState;
EndWeekSubState.prototype = $extend(MusicBeatState.prototype,{
	create: function() {
		MusicBeatState.prototype.create.call(this);
		var bg = new flixel_FlxSprite().loadGraphic(Paths.getPath("images/" + "voidend" + ".png","IMAGE","shared"));
		bg.set_antialiasing(true);
		bg.screenCenter();
		this.add(bg);
		var txt = new flixel_text_FlxText(0,380,flixel_FlxG.width,"After a long and intense show, Bf had out-rapped the legendary A.C. Void! (Who" + "\nrightfully seemed pretty livid losing for the first time in centuries.)" + "\n\nEveryone got an incredible performance, and Bf and Gf casually returned" + "\nto earth and ordered a pizza. Everyone was happy. (Except Void. Obviously.)" + "\n\nTHE END(?)" + "\n\n\nYou've got skills... but Void's not finished just yet. If you" + "\nactually thought this was kind of easy, there's another challenge..." + "\nMORE COMING SOON!",28);
		var txt1 = txt;
		var color = flixel_util_FlxColor._new();
		var Alpha = 255;
		if(Alpha == null) {
			Alpha = 255;
		}
		color &= -16711681;
		color |= 13107200;
		color &= -65281;
		color |= 51200;
		color &= -256;
		color |= 200;
		color &= 16777215;
		color |= (Alpha > 255 ? 255 : Alpha < 0 ? 0 : Alpha) << 24;
		txt1.setFormat("VCR OSD Mono",28,color,"center");
		txt.set_borderColor(-16777216);
		txt.set_borderSize(4);
		txt.set_borderStyle(flixel_text_FlxTextBorderStyle.OUTLINE);
		txt.screenCenter(flixel_util_FlxAxes.X);
		this.add(txt);
		new flixel_util_FlxTimer().start(3.4,function(tmr) {
			if(txt.y == 395) {
				flixel_tweens_FlxTween.tween(txt,{ y : 380},3.3,{ ease : flixel_tweens_FlxEase.quadInOut});
			} else {
				flixel_tweens_FlxTween.tween(txt,{ y : 395},3.3,{ ease : flixel_tweens_FlxEase.quadInOut});
			}
		},0);
	}
	,update: function(elapsed) {
		if(PlayerSettings.player1.controls._accept.check()) {
			this.transIn = flixel_addons_transition_FlxTransitionableState.defaultTransIn;
			this.transOut = flixel_addons_transition_FlxTransitionableState.defaultTransOut;
			EndWeekSubState.leftState = true;
			Conductor.changeBPM(102);
			var nextState = new MainMenuState();
			if(flixel_FlxG.game._state.switchTo(nextState)) {
				flixel_FlxG.game._requestedState = nextState;
			}
		}
		MusicBeatState.prototype.update.call(this,elapsed);
	}
	,__class__: EndWeekSubState
});
var EtternaFunctions = function() { };
$hxClasses["EtternaFunctions"] = EtternaFunctions;
EtternaFunctions.__name__ = "EtternaFunctions";
EtternaFunctions.erf = function(x) {
	var sign = 1;
	if(x < 0) {
		sign = -1;
	}
	x = Math.abs(x);
	var t = 1.0 / (1.0 + EtternaFunctions.p * x);
	var y = 1.0 - ((((EtternaFunctions.a5 * t + EtternaFunctions.a4) * t + EtternaFunctions.a3) * t + EtternaFunctions.a2) * t + EtternaFunctions.a1) * t * Math.exp(-x * x);
	return sign * y;
};
EtternaFunctions.getNotes = function() {
	var notes = 0;
	var _g = 0;
	var _g1 = PlayState.SONG.notes.length;
	while(_g < _g1) {
		var i = _g++;
		var _g2 = 0;
		var _g3 = PlayState.SONG.notes[i].sectionNotes.length;
		while(_g2 < _g3) {
			var ii = _g2++;
			var n = PlayState.SONG.notes[i].sectionNotes[ii];
			if(n[1] <= 0) {
				++notes;
			}
		}
	}
	return notes;
};
EtternaFunctions.getHolds = function() {
	var notes = 0;
	var _g = 0;
	var _g1 = PlayState.SONG.notes.length;
	while(_g < _g1) {
		var i = _g++;
		haxe_Log.trace(PlayState.SONG.notes[i],{ fileName : "source/EtternaFunctions.hx", lineNumber : 46, className : "EtternaFunctions", methodName : "getHolds"});
		var _g2 = 0;
		var _g3 = PlayState.SONG.notes[i].sectionNotes.length;
		while(_g2 < _g3) {
			var ii = _g2++;
			var n = PlayState.SONG.notes[i].sectionNotes[ii];
			haxe_Log.trace(n,{ fileName : "source/EtternaFunctions.hx", lineNumber : 50, className : "EtternaFunctions", methodName : "getHolds"});
			if(n[1] > 0) {
				++notes;
			}
		}
	}
	return notes;
};
EtternaFunctions.getMapMaxScore = function() {
	return EtternaFunctions.getNotes() * 350;
};
EtternaFunctions.wife3 = function(maxms,ts) {
	var max_points = 1.0;
	var miss_weight = -5.5;
	var ridic = 5 * ts;
	var max_boo_weight = 180 * ts;
	var ts_pow = 0.75;
	var zero = 65 * Math.pow(ts,ts_pow);
	var power = 2.5;
	var dev = 22.7 * Math.pow(ts,ts_pow);
	if(maxms <= ridic) {
		return max_points;
	} else if(maxms <= zero) {
		return max_points * EtternaFunctions.erf((zero - maxms) / dev);
	} else if(maxms <= max_boo_weight) {
		return (maxms - zero) * miss_weight / (max_boo_weight - zero);
	} else {
		return miss_weight;
	}
};
var FreeplayState = function(TransIn,TransOut) {
	this.iconArray = [];
	this.curPlaying = false;
	this.combo = "";
	this.intendedScore = 0;
	this.lerpScore = 0;
	MusicBeatState.call(this,TransIn,TransOut);
};
$hxClasses["FreeplayState"] = FreeplayState;
FreeplayState.__name__ = "FreeplayState";
FreeplayState.loadDiff = function(diff,format,name,array) {
	try {
		array.push(Song.loadFromJson(Highscore.formatSong(format,diff),name));
	} catch( _g ) {
	}
};
FreeplayState.__super__ = MusicBeatState;
FreeplayState.prototype = $extend(MusicBeatState.prototype,{
	selector: null
	,scoreText: null
	,comboText: null
	,diffText: null
	,diffCalcText: null
	,previewtext: null
	,lerpScore: null
	,intendedScore: null
	,combo: null
	,grpSongs: null
	,curPlaying: null
	,iconArray: null
	,create: function() {
		var initSonglist = CoolUtil.coolTextFile(Paths.getPath("data/freeplaySonglist" + ".txt","TEXT",null));
		FreeplayState.songData = new haxe_ds_StringMap();
		FreeplayState.songs = [];
		var _g = 0;
		var _g1 = initSonglist.length;
		while(_g < _g1) {
			var i = _g++;
			var data = initSonglist[i].split(":");
			var meta = new SongMetadata(data[0],Std.parseInt(data[2]),data[1]);
			FreeplayState.songs.push(meta);
			var format = StringTools.replace(meta.songName," ","-");
			switch(format) {
			case "Dad-Battle":
				format = "Dadbattle";
				break;
			case "Philly-Nice":
				format = "Philly";
				break;
			}
			var diffs = [];
			FreeplayState.loadDiff(0,format,meta.songName,diffs);
			FreeplayState.loadDiff(1,format,meta.songName,diffs);
			FreeplayState.loadDiff(2,format,meta.songName,diffs);
			FreeplayState.songData.h[meta.songName] = diffs;
			haxe_Log.trace("loaded diffs for " + meta.songName,{ fileName : "source/FreeplayState.hx", lineNumber : 92, className : "FreeplayState", methodName : "create"});
		}
		haxe_Log.trace("tryin to load sm files",{ fileName : "source/FreeplayState.hx", lineNumber : 96, className : "FreeplayState", methodName : "create"});
		var isDebug = false;
		this.persistentUpdate = true;
		var bg = new flixel_FlxSprite().loadGraphic(Paths.getPath("images/" + "menuBGBlue" + ".png","IMAGE",null));
		if(flixel_FlxG.save.data.antialiasing) {
			bg.set_antialiasing(true);
		}
		this.add(bg);
		this.grpSongs = new flixel_group_FlxTypedGroup();
		this.add(this.grpSongs);
		var _g = 0;
		var _g1 = FreeplayState.songs.length;
		while(_g < _g1) {
			var i = _g++;
			var songText = new Alphabet(0,70 * i + 30,FreeplayState.songs[i].songName,true,false,true);
			songText.isMenuItem = true;
			songText.targetY = i;
			this.grpSongs.add(songText);
			var icon = new HealthIcon(FreeplayState.songs[i].songCharacter);
			icon.sprTracker = songText;
			this.iconArray.push(icon);
			this.add(icon);
		}
		this.scoreText = new flixel_text_FlxText(flixel_FlxG.width * 0.7,5,0,"",32);
		this.scoreText.setFormat("assets/fonts/" + "vcr.ttf",32,-1,"right");
		var scoreBG = new flixel_FlxSprite(this.scoreText.x - 6,0).makeGraphic(flixel_FlxG.width * 0.35 | 0,105,-16777216);
		scoreBG.set_alpha(0.6);
		this.add(scoreBG);
		this.diffText = new flixel_text_FlxText(this.scoreText.x,this.scoreText.y + 36,0,"",24);
		this.diffText.set_font(this.scoreText._font);
		this.add(this.diffText);
		this.diffCalcText = new flixel_text_FlxText(this.scoreText.x,this.scoreText.y + 66,0,"",24);
		this.diffCalcText.set_font(this.scoreText._font);
		this.add(this.diffCalcText);
		this.previewtext = new flixel_text_FlxText(this.scoreText.x,this.scoreText.y + 94,0,"" + (KeyBinds.gamepad ? "X" : "SPACE") + " to preview",24);
		this.previewtext.set_font(this.scoreText._font);
		this.comboText = new flixel_text_FlxText(this.diffText.x + 100,this.diffText.y,0,"",24);
		this.comboText.set_font(this.diffText._font);
		this.add(this.comboText);
		this.add(this.scoreText);
		this.changeSelection();
		this.changeDiff();
		this.selector = new flixel_text_FlxText();
		this.selector.set_size(40);
		this.selector.set_text(">");
		var swag = new Alphabet(1,0,"swag");
		MusicBeatState.prototype.create.call(this);
	}
	,addSong: function(songName,weekNum,songCharacter) {
		FreeplayState.songs.push(new SongMetadata(songName,weekNum,songCharacter));
	}
	,addWeek: function(songs,weekNum,songCharacters) {
		if(songCharacters == null) {
			songCharacters = ["dad"];
		}
		var num = 0;
		var _g = 0;
		while(_g < songs.length) {
			var song = songs[_g];
			++_g;
			this.addSong(song,weekNum,songCharacters[num]);
			if(songCharacters.length != 1) {
				++num;
			}
		}
	}
	,update: function(elapsed) {
		MusicBeatState.prototype.update.call(this,elapsed);
		if(flixel_FlxG.sound.music._volume < 0.7) {
			var _g = flixel_FlxG.sound.music;
			_g.set_volume(_g._volume + 0.5 * flixel_FlxG.elapsed);
		}
		var a = this.lerpScore;
		this.lerpScore = Math.floor(a + 0.4 * (this.intendedScore - a));
		if(Math.abs(this.lerpScore - this.intendedScore) <= 10) {
			this.lerpScore = this.intendedScore;
		}
		this.scoreText.set_text("PERSONAL BEST:" + this.lerpScore);
		this.comboText.set_text(this.combo + "\n");
		if(flixel_FlxG.sound.music._volume > 0.8) {
			var _g = flixel_FlxG.sound.music;
			_g.set_volume(_g._volume - 0.5 * flixel_FlxG.elapsed);
		}
		var _this = flixel_FlxG.keys.justPressed;
		var upP = _this.keyManager.checkStatus(38,_this.status);
		var _this = flixel_FlxG.keys.justPressed;
		var downP = _this.keyManager.checkStatus(40,_this.status);
		var _this = flixel_FlxG.keys.justPressed;
		var accepted = _this.keyManager.checkStatus(13,_this.status);
		var gamepad = flixel_FlxG.gamepads.lastActive;
		if(gamepad != null) {
			var _this = gamepad.justPressed;
			var id = 11;
			var _this1 = _this.gamepad;
			var Status = _this.status;
			var tmp;
			switch(id) {
			case -2:
				tmp = _this1.anyButton(Status);
				break;
			case -1:
				tmp = !_this1.anyButton(Status);
				break;
			default:
				var RawID = _this1.mapping.getRawID(id);
				var button = _this1.buttons[RawID];
				tmp = button != null && button.hasState(Status);
			}
			if(tmp) {
				this.changeSelection(-1);
			}
			var _this = gamepad.justPressed;
			var id = 12;
			var _this1 = _this.gamepad;
			var Status = _this.status;
			var tmp;
			switch(id) {
			case -2:
				tmp = _this1.anyButton(Status);
				break;
			case -1:
				tmp = !_this1.anyButton(Status);
				break;
			default:
				var RawID = _this1.mapping.getRawID(id);
				var button = _this1.buttons[RawID];
				tmp = button != null && button.hasState(Status);
			}
			if(tmp) {
				this.changeSelection(1);
			}
			var _this = gamepad.justPressed;
			var id = 13;
			var _this1 = _this.gamepad;
			var Status = _this.status;
			var tmp;
			switch(id) {
			case -2:
				tmp = _this1.anyButton(Status);
				break;
			case -1:
				tmp = !_this1.anyButton(Status);
				break;
			default:
				var RawID = _this1.mapping.getRawID(id);
				var button = _this1.buttons[RawID];
				tmp = button != null && button.hasState(Status);
			}
			if(tmp) {
				this.changeDiff(-1);
			}
			var _this = gamepad.justPressed;
			var id = 14;
			var _this1 = _this.gamepad;
			var Status = _this.status;
			var tmp;
			switch(id) {
			case -2:
				tmp = _this1.anyButton(Status);
				break;
			case -1:
				tmp = !_this1.anyButton(Status);
				break;
			default:
				var RawID = _this1.mapping.getRawID(id);
				var button = _this1.buttons[RawID];
				tmp = button != null && button.hasState(Status);
			}
			if(tmp) {
				this.changeDiff(1);
			}
		}
		if(upP) {
			this.changeSelection(-1);
		}
		if(downP) {
			this.changeSelection(1);
		}
		var _this = flixel_FlxG.keys.justPressed;
		if(_this.keyManager.checkStatus(37,_this.status)) {
			this.changeDiff(-1);
		}
		var _this = flixel_FlxG.keys.justPressed;
		if(_this.keyManager.checkStatus(39,_this.status)) {
			this.changeDiff(1);
		}
		if(PlayerSettings.player1.controls._back.check()) {
			var nextState = new MainMenuState();
			if(flixel_FlxG.game._state.switchTo(nextState)) {
				flixel_FlxG.game._requestedState = nextState;
			}
		}
		if(accepted) {
			var songFormat = StringTools.replace(FreeplayState.songs[FreeplayState.curSelected].songName," ","-");
			switch(songFormat) {
			case "Dad-Battle":
				songFormat = "Dadbattle";
				break;
			case "Philly-Nice":
				songFormat = "Philly";
				break;
			}
			var hmm;
			try {
				hmm = FreeplayState.songData.h[FreeplayState.songs[FreeplayState.curSelected].songName][FreeplayState.curDifficulty];
				if(hmm == null) {
					return;
				}
			} catch( _g ) {
				return;
			}
			PlayState.SONG = hmm;
			PlayState.isStoryMode = false;
			PlayState.storyDifficulty = FreeplayState.curDifficulty;
			PlayState.storyWeek = FreeplayState.songs[FreeplayState.curSelected].week;
			haxe_Log.trace("CUR WEEK" + PlayState.storyWeek,{ fileName : "source/FreeplayState.hx", lineNumber : 360, className : "FreeplayState", methodName : "update"});
			PlayState.isSM = false;
			var nextState = LoadingState.getNextState(new PlayState(),false);
			if(flixel_FlxG.game._state.switchTo(nextState)) {
				flixel_FlxG.game._requestedState = nextState;
			}
		}
	}
	,changeDiff: function(change) {
		if(change == null) {
			change = 0;
		}
		FreeplayState.curDifficulty += change;
		if(FreeplayState.curDifficulty < 0) {
			FreeplayState.curDifficulty = 2;
		}
		if(FreeplayState.curDifficulty > 2) {
			FreeplayState.curDifficulty = 0;
		}
		var songHighscore = StringTools.replace(FreeplayState.songs[FreeplayState.curSelected].songName," ","-");
		switch(songHighscore) {
		case "Dad-Battle":
			songHighscore = "Dadbattle";
			break;
		case "Philly-Nice":
			songHighscore = "Philly";
			break;
		}
		this.intendedScore = Highscore.getScore(songHighscore,FreeplayState.curDifficulty);
		this.combo = Highscore.getCombo(songHighscore,FreeplayState.curDifficulty);
		this.diffCalcText.set_text("RATING: " + DiffCalc.CalculateDiff(FreeplayState.songData.h[FreeplayState.songs[FreeplayState.curSelected].songName][FreeplayState.curDifficulty]));
		this.diffText.set_text(CoolUtil.difficultyFromInt(FreeplayState.curDifficulty).toUpperCase());
	}
	,changeSelection: function(change) {
		if(change == null) {
			change = 0;
		}
		flixel_FlxG.sound.play(Paths.sound("scrollMenu"),0.4);
		FreeplayState.curSelected += change;
		if(FreeplayState.curSelected < 0) {
			FreeplayState.curSelected = FreeplayState.songs.length - 1;
		}
		if(FreeplayState.curSelected >= FreeplayState.songs.length) {
			FreeplayState.curSelected = 0;
		}
		var songHighscore = StringTools.replace(FreeplayState.songs[FreeplayState.curSelected].songName," ","-");
		switch(songHighscore) {
		case "Dad-Battle":
			songHighscore = "Dadbattle";
			break;
		case "Philly-Nice":
			songHighscore = "Philly";
			break;
		}
		this.intendedScore = Highscore.getScore(songHighscore,FreeplayState.curDifficulty);
		this.combo = Highscore.getCombo(songHighscore,FreeplayState.curDifficulty);
		this.diffCalcText.set_text("RATING: " + DiffCalc.CalculateDiff(FreeplayState.songData.h[FreeplayState.songs[FreeplayState.curSelected].songName][FreeplayState.curDifficulty]));
		var hmm;
		try {
			hmm = FreeplayState.songData.h[FreeplayState.songs[FreeplayState.curSelected].songName][FreeplayState.curDifficulty];
			if(hmm != null) {
				Conductor.changeBPM(hmm.bpm);
			}
		} catch( _g ) {
		}
		if(FreeplayState.openedPreview) {
			this.closeSubState();
			this.openSubState(new DiffOverview());
		}
		var bullShit = 0;
		var _g = 0;
		var _g1 = this.iconArray.length;
		while(_g < _g1) {
			var i = _g++;
			this.iconArray[i].set_alpha(0.6);
		}
		this.iconArray[FreeplayState.curSelected].set_alpha(1);
		var _g = 0;
		var _g1 = this.grpSongs.members;
		while(_g < _g1.length) {
			var item = _g1[_g];
			++_g;
			item.targetY = bullShit - FreeplayState.curSelected;
			++bullShit;
			item.set_alpha(0.6);
			if(item.targetY == 0) {
				item.set_alpha(1);
			}
		}
	}
	,__class__: FreeplayState
});
var SongMetadata = function(song,week,songCharacter) {
	this.songCharacter = "";
	this.week = 0;
	this.songName = "";
	this.songName = song;
	this.week = week;
	this.songCharacter = songCharacter;
};
$hxClasses["SongMetadata"] = SongMetadata;
SongMetadata.__name__ = "SongMetadata";
SongMetadata.prototype = {
	songName: null
	,week: null
	,songCharacter: null
	,__class__: SongMetadata
};
var GameDimensions = function() { };
$hxClasses["GameDimensions"] = GameDimensions;
GameDimensions.__name__ = "GameDimensions";
var MusicBeatSubstate = function() {
	this.curBeat = 0;
	this.curStep = 0;
	this.lastStep = 0;
	this.lastBeat = 0;
	flixel_FlxSubState.call(this);
};
$hxClasses["MusicBeatSubstate"] = MusicBeatSubstate;
MusicBeatSubstate.__name__ = "MusicBeatSubstate";
MusicBeatSubstate.__super__ = flixel_FlxSubState;
MusicBeatSubstate.prototype = $extend(flixel_FlxSubState.prototype,{
	lastBeat: null
	,lastStep: null
	,curStep: null
	,curBeat: null
	,get_controls: function() {
		return PlayerSettings.player1.controls;
	}
	,update: function(elapsed) {
		var nextStep = this.updateCurStep();
		if(nextStep >= 0) {
			if(nextStep > this.curStep) {
				var _g = this.curStep;
				var _g1 = nextStep;
				while(_g < _g1) {
					var i = _g++;
					this.curStep++;
					this.updateBeat();
					this.stepHit();
				}
			} else if(nextStep < this.curStep) {
				this.curStep = nextStep;
				this.updateBeat();
				this.stepHit();
			}
		}
		flixel_FlxSubState.prototype.update.call(this,elapsed);
	}
	,updateBeat: function() {
		this.lastBeat = this.curBeat;
		this.curBeat = Math.floor(this.curStep / 4);
	}
	,updateCurStep: function() {
		var lastChange = { stepTime : 0, songTime : 0, bpm : 0};
		var _g = 0;
		var _g1 = Conductor.bpmChangeMap.length;
		while(_g < _g1) {
			var i = _g++;
			if(Conductor.songPosition > Conductor.bpmChangeMap[i].songTime) {
				lastChange = Conductor.bpmChangeMap[i];
			}
		}
		return lastChange.stepTime + Math.floor((Conductor.songPosition - lastChange.songTime) / Conductor.stepCrochet);
	}
	,stepHit: function() {
		if(this.curStep % 4 == 0) {
			this.beatHit();
		}
	}
	,beatHit: function() {
	}
	,__class__: MusicBeatSubstate
	,__properties__: $extend(flixel_FlxSubState.prototype.__properties__,{get_controls:"get_controls"})
});
var GameOverSubstate = function(x,y) {
	this.isEnding = false;
	this.startVibin = false;
	this.stageSuffix = "";
	var daStage = PlayState.curStage;
	var daBf = "";
	if(PlayState.SONG.player1 == "bf-pixel") {
		this.stageSuffix = "-pixel";
		daBf = "bf-pixel-dead";
	} else {
		daBf = "bf";
	}
	MusicBeatSubstate.call(this);
	Conductor.songPosition = 0;
	this.bf = new Boyfriend(x,y,daBf);
	this.add(this.bf);
	this.camFollow = new flixel_FlxObject(this.bf.getGraphicMidpoint().x,this.bf.getGraphicMidpoint().y,1,1);
	this.add(this.camFollow);
	flixel_FlxG.sound.play(Paths.sound("fnf_loss_sfx" + this.stageSuffix));
	Conductor.changeBPM(100);
	flixel_FlxG.camera.scroll.set();
	flixel_FlxG.camera.target = null;
	this.bf.playAnim("firstDeath");
};
$hxClasses["GameOverSubstate"] = GameOverSubstate;
GameOverSubstate.__name__ = "GameOverSubstate";
GameOverSubstate.__super__ = MusicBeatSubstate;
GameOverSubstate.prototype = $extend(MusicBeatSubstate.prototype,{
	bf: null
	,camFollow: null
	,stageSuffix: null
	,startVibin: null
	,update: function(elapsed) {
		MusicBeatSubstate.prototype.update.call(this,elapsed);
		if(PlayerSettings.player1.controls._accept.check()) {
			this.endBullshit();
		}
		if(PlayerSettings.player1.controls._back.check()) {
			var _this = flixel_FlxG.sound.music;
			_this.cleanup(_this.autoDestroy,true);
			if(PlayState.isStoryMode) {
				var nextState = new StoryMenuState();
				if(flixel_FlxG.game._state.switchTo(nextState)) {
					flixel_FlxG.game._requestedState = nextState;
				}
			} else {
				var nextState = new FreeplayState();
				if(flixel_FlxG.game._state.switchTo(nextState)) {
					flixel_FlxG.game._requestedState = nextState;
				}
			}
			PlayState.loadRep = false;
		}
		if(this.bf.animation._curAnim.name == "firstDeath" && this.bf.animation._curAnim.curFrame == 12) {
			flixel_FlxG.camera.follow(this.camFollow,flixel_FlxCameraFollowStyle.LOCKON,0.01);
		}
		if(this.bf.animation._curAnim.name == "firstDeath" && this.bf.animation._curAnim.finished) {
			flixel_FlxG.sound.playMusic(Paths.getPath("music/" + ("gameOver" + this.stageSuffix) + "." + "mp3","MUSIC",null));
			this.startVibin = true;
		}
		if(flixel_FlxG.sound.music._channel != null) {
			Conductor.songPosition = flixel_FlxG.sound.music._time;
		}
	}
	,beatHit: function() {
		MusicBeatSubstate.prototype.beatHit.call(this);
		if(this.startVibin && !this.isEnding) {
			this.bf.playAnim("deathLoop",true);
		}
	}
	,isEnding: null
	,endBullshit: function() {
		if(!this.isEnding) {
			PlayState.startTime = 0;
			this.isEnding = true;
			this.bf.playAnim("deathConfirm",true);
			var _this = flixel_FlxG.sound.music;
			_this.cleanup(_this.autoDestroy,true);
			flixel_FlxG.sound.play(Paths.getPath("music/" + ("gameOverEnd" + this.stageSuffix) + "." + "mp3","MUSIC",null));
			new flixel_util_FlxTimer().start(0.7,function(tmr) {
				flixel_FlxG.camera.fade(-16777216,2,false,function() {
					var nextState = LoadingState.getNextState(new PlayState(),false);
					if(flixel_FlxG.game._state.switchTo(nextState)) {
						flixel_FlxG.game._requestedState = nextState;
					}
				});
			});
		}
	}
	,__class__: GameOverSubstate
});
var GameplayCustomizeState = function(TransIn,TransOut) {
	this.defaultY = flixel_FlxG.height / 2 - 50;
	this.defaultX = flixel_FlxG.width * 0.55 - 135;
	MusicBeatState.call(this,TransIn,TransOut);
};
$hxClasses["GameplayCustomizeState"] = GameplayCustomizeState;
GameplayCustomizeState.__name__ = "GameplayCustomizeState";
GameplayCustomizeState.__super__ = MusicBeatState;
GameplayCustomizeState.prototype = $extend(MusicBeatState.prototype,{
	defaultX: null
	,defaultY: null
	,background: null
	,curt: null
	,front: null
	,sick: null
	,text: null
	,blackBorder: null
	,bf: null
	,dad: null
	,gf: null
	,strumLine: null
	,strumLineNotes: null
	,playerStrums: null
	,camHUD: null
	,create: function() {
		this.sick = new flixel_FlxSprite().loadGraphic(Paths.getPath("images/" + "sick" + ".png","IMAGE","shared"));
		this.sick.scrollFactor.set();
		this.background = new flixel_FlxSprite(-600,-200).loadGraphic(Paths.getPath("images/" + "stageback" + ".png","IMAGE","shared"));
		this.curt = new flixel_FlxSprite(-500,-300).loadGraphic(Paths.getPath("images/" + "stagecurtains" + ".png","IMAGE","shared"));
		this.front = new flixel_FlxSprite(-650,600).loadGraphic(Paths.getPath("images/" + "stagefront" + ".png","IMAGE","shared"));
		this.persistentUpdate = true;
		MusicBeatState.prototype.create.call(this);
		this.camHUD = new flixel_FlxCamera();
		this.camHUD.bgColor &= 16777215;
		this.camHUD.bgColor |= 0;
		flixel_FlxG.cameras.add(this.camHUD);
		this.background.scrollFactor.set(0.9,0.9);
		this.curt.scrollFactor.set(0.9,0.9);
		this.front.scrollFactor.set(0.9,0.9);
		this.add(this.background);
		this.add(this.front);
		this.add(this.curt);
		var camFollow = new flixel_FlxObject(0,0,1,1);
		this.dad = new Character(100,100,"dad");
		this.bf = new Boyfriend(770,450,"bf");
		this.gf = new Character(400,130,"gf");
		this.gf.scrollFactor.set(0.95,0.95);
		var camPos = new flixel_math_FlxPoint(this.dad.getGraphicMidpoint().x + 400,this.dad.getGraphicMidpoint().y);
		camFollow.setPosition(camPos.x,camPos.y);
		this.add(this.gf);
		this.add(this.bf);
		this.add(this.dad);
		this.add(this.sick);
		this.add(camFollow);
		flixel_FlxG.camera.follow(camFollow,flixel_FlxCameraFollowStyle.LOCKON,0.01);
		flixel_FlxG.camera.set_zoom(0.9);
		var _this = flixel_FlxG.camera;
		var point = camFollow.getPosition();
		_this.scroll.set(point.x - _this.width * 0.5,point.y - _this.height * 0.5);
		if(point._weak) {
			point.put();
		}
		this.strumLine = new flixel_FlxSprite(0,flixel_FlxG.save.data.strumline).makeGraphic(flixel_FlxG.width,14);
		this.strumLine.scrollFactor.set();
		this.strumLine.set_alpha(0.4);
		this.add(this.strumLine);
		if(flixel_FlxG.save.data.downscroll) {
			this.strumLine.set_y(flixel_FlxG.height - 165);
		}
		this.strumLineNotes = new flixel_group_FlxTypedGroup();
		this.add(this.strumLineNotes);
		this.playerStrums = new flixel_group_FlxTypedGroup();
		this.sick.set_cameras([this.camHUD]);
		this.strumLine.set_cameras([this.camHUD]);
		this.playerStrums.set_cameras([this.camHUD]);
		this.generateStaticArrows(0);
		this.generateStaticArrows(1);
		this.text = new flixel_text_FlxText(5,flixel_FlxG.height + 40,0,"Click and drag around gameplay elements to customize their positions.\nPress R to reset.\nPress Escape to go back.",12);
		this.text.scrollFactor.set();
		this.text.setFormat("VCR OSD Mono",16,-1,"left",flixel_text_FlxTextBorderStyle.OUTLINE,-16777216);
		this.blackBorder = new flixel_FlxSprite(-30,flixel_FlxG.height + 40).makeGraphic(this.text.get_width() + 900 | 0,this.text.get_height() + 600 | 0,-16777216);
		this.blackBorder.set_alpha(0.5);
		this.add(this.blackBorder);
		this.add(this.text);
		flixel_tweens_FlxTween.tween(this.text,{ y : flixel_FlxG.height - 18},2,{ ease : flixel_tweens_FlxEase.elasticInOut});
		flixel_tweens_FlxTween.tween(this.blackBorder,{ y : flixel_FlxG.height - 18},2,{ ease : flixel_tweens_FlxEase.elasticInOut});
		if(!flixel_FlxG.save.data.changedHit) {
			flixel_FlxG.save.data.changedHitX = this.defaultX;
			flixel_FlxG.save.data.changedHitY = this.defaultY;
		}
		this.sick.set_x(flixel_FlxG.save.data.changedHitX);
		this.sick.set_y(flixel_FlxG.save.data.changedHitY);
		flixel_FlxG.mouse.set_visible(true);
	}
	,update: function(elapsed) {
		if(flixel_FlxG.sound.music != null) {
			Conductor.songPosition = flixel_FlxG.sound.music._time;
		}
		MusicBeatState.prototype.update.call(this,elapsed);
		flixel_FlxG.camera.set_zoom(0.9 + 0.95 * (flixel_FlxG.camera.zoom - 0.9));
		this.camHUD.set_zoom(1 + 0.95 * (this.camHUD.zoom - 1));
		var tmp;
		if(flixel_FlxG.mouse.overlaps(this.sick)) {
			var _this = flixel_FlxG.mouse._leftButton;
			tmp = _this.current == 1 || _this.current == 2;
		} else {
			tmp = false;
		}
		if(tmp) {
			this.sick.set_x(flixel_FlxG.mouse.x - this.sick.get_width() / 2);
			this.sick.set_y(flixel_FlxG.mouse.y - this.sick.get_height());
		}
		var i = new flixel_group_FlxTypedGroupIterator(this.playerStrums.members,null);
		while(i.hasNext()) {
			var i1 = i.next();
			i1.set_y(this.strumLine.y);
		}
		var i = new flixel_group_FlxTypedGroupIterator(this.strumLineNotes.members,null);
		while(i.hasNext()) {
			var i1 = i.next();
			i1.set_y(this.strumLine.y);
		}
		if(flixel_FlxG.mouse.overlaps(this.sick) && flixel_FlxG.mouse._leftButton.current == -1) {
			flixel_FlxG.save.data.changedHitX = this.sick.x;
			flixel_FlxG.save.data.changedHitY = this.sick.y;
			flixel_FlxG.save.data.changedHit = true;
		}
		var _this = flixel_FlxG.keys.justPressed;
		if(_this.keyManager.checkStatus(82,_this.status)) {
			this.sick.set_x(this.defaultX);
			this.sick.set_y(this.defaultY);
			flixel_FlxG.save.data.changedHitX = this.sick.x;
			flixel_FlxG.save.data.changedHitY = this.sick.y;
			flixel_FlxG.save.data.changedHit = false;
		}
		if(PlayerSettings.player1.controls._back.check()) {
			flixel_FlxG.mouse.set_visible(false);
			flixel_FlxG.sound.play(Paths.sound("cancelMenu"));
			var nextState = new OptionsMenu();
			if(flixel_FlxG.game._state.switchTo(nextState)) {
				flixel_FlxG.game._requestedState = nextState;
			}
		}
	}
	,beatHit: function() {
		MusicBeatState.prototype.beatHit.call(this);
		this.bf.playAnim("idle",true);
		this.dad.dance(true);
		this.gf.dance();
		var _g = flixel_FlxG.camera;
		_g.set_zoom(_g.zoom + 0.015);
		var _g = this.camHUD;
		_g.set_zoom(_g.zoom + 0.010);
		haxe_Log.trace("beat",{ fileName : "source/GameplayCustomizeState.hx", lineNumber : 203, className : "GameplayCustomizeState", methodName : "beatHit"});
	}
	,generateStaticArrows: function(player) {
		var _g = 0;
		while(_g < 4) {
			var i = _g++;
			var babyArrow = new flixel_FlxSprite(0,this.strumLine.y);
			var usecahce = flixel_FlxG.save.data.cacheImages;
			usecahce = false;
			babyArrow.set_frames(flixel_graphics_frames_FlxAtlasFrames.fromSparrow(Paths.getPath("images/" + "NOTE_assets" + ".png","IMAGE","shared"),Paths.getPath("images/" + "NOTE_assets" + ".xml","TEXT","shared")));
			babyArrow.animation.addByPrefix("green","arrowUP");
			babyArrow.animation.addByPrefix("blue","arrowDOWN");
			babyArrow.animation.addByPrefix("purple","arrowLEFT");
			babyArrow.animation.addByPrefix("red","arrowRIGHT");
			babyArrow.set_antialiasing(true);
			babyArrow.setGraphicSize(babyArrow.get_width() * 0.7 | 0);
			switch(Math.abs(i)) {
			case 0:
				var _g1 = babyArrow;
				_g1.set_x(_g1.x + Note.swagWidth * 0);
				babyArrow.animation.addByPrefix("static","arrowLEFT");
				babyArrow.animation.addByPrefix("pressed","left press",24,false);
				babyArrow.animation.addByPrefix("confirm","left confirm",24,false);
				break;
			case 1:
				var _g2 = babyArrow;
				_g2.set_x(_g2.x + Note.swagWidth);
				babyArrow.animation.addByPrefix("static","arrowDOWN");
				babyArrow.animation.addByPrefix("pressed","down press",24,false);
				babyArrow.animation.addByPrefix("confirm","down confirm",24,false);
				break;
			case 2:
				var _g3 = babyArrow;
				_g3.set_x(_g3.x + Note.swagWidth * 2);
				babyArrow.animation.addByPrefix("static","arrowUP");
				babyArrow.animation.addByPrefix("pressed","up press",24,false);
				babyArrow.animation.addByPrefix("confirm","up confirm",24,false);
				break;
			case 3:
				var _g4 = babyArrow;
				_g4.set_x(_g4.x + Note.swagWidth * 3);
				babyArrow.animation.addByPrefix("static","arrowRIGHT");
				babyArrow.animation.addByPrefix("pressed","right press",24,false);
				babyArrow.animation.addByPrefix("confirm","right confirm",24,false);
				break;
			}
			babyArrow.updateHitbox();
			babyArrow.scrollFactor.set();
			babyArrow.ID = i;
			if(player == 1) {
				this.playerStrums.add(babyArrow);
			}
			babyArrow.animation.play("static");
			var _g5 = babyArrow;
			_g5.set_x(_g5.x + 50);
			var _g6 = babyArrow;
			_g6.set_x(_g6.x + flixel_FlxG.width / 2 * player);
			this.strumLineNotes.add(babyArrow);
		}
	}
	,__class__: GameplayCustomizeState
});
var GitarooPause = function() {
	this.replaySelect = false;
	MusicBeatState.call(this);
};
$hxClasses["GitarooPause"] = GitarooPause;
GitarooPause.__name__ = "GitarooPause";
GitarooPause.__super__ = MusicBeatState;
GitarooPause.prototype = $extend(MusicBeatState.prototype,{
	replayButton: null
	,cancelButton: null
	,replaySelect: null
	,create: function() {
		if(flixel_FlxG.sound.music != null) {
			var _this = flixel_FlxG.sound.music;
			_this.cleanup(_this.autoDestroy,true);
		}
		var bg = new flixel_FlxSprite().loadGraphic(Paths.getPath("images/" + "pauseAlt/pauseBG" + ".png","IMAGE",null));
		if(flixel_FlxG.save.data.antialiasing) {
			bg.set_antialiasing(true);
		}
		this.add(bg);
		var bf = new flixel_FlxSprite(0,30);
		var library = null;
		var usecahce = flixel_FlxG.save.data.cacheImages;
		usecahce = false;
		bf.set_frames(flixel_graphics_frames_FlxAtlasFrames.fromSparrow(Paths.getPath("images/" + "pauseAlt/bfLol" + ".png","IMAGE",library),Paths.getPath("images/" + "pauseAlt/bfLol" + ".xml","TEXT",library)));
		bf.animation.addByPrefix("lol","funnyThing",13);
		bf.animation.play("lol");
		if(flixel_FlxG.save.data.antialiasing) {
			bf.set_antialiasing(true);
		}
		this.add(bf);
		bf.screenCenter(flixel_util_FlxAxes.X);
		this.replayButton = new flixel_FlxSprite(flixel_FlxG.width * 0.28,flixel_FlxG.height * 0.7);
		var library = null;
		var usecahce = flixel_FlxG.save.data.cacheImages;
		usecahce = false;
		this.replayButton.set_frames(flixel_graphics_frames_FlxAtlasFrames.fromSparrow(Paths.getPath("images/" + "pauseAlt/pauseUI" + ".png","IMAGE",library),Paths.getPath("images/" + "pauseAlt/pauseUI" + ".xml","TEXT",library)));
		this.replayButton.animation.addByPrefix("selected","bluereplay",0,false);
		this.replayButton.animation.appendByPrefix("selected","yellowreplay");
		this.replayButton.animation.play("selected");
		if(flixel_FlxG.save.data.antialiasing) {
			this.replayButton.set_antialiasing(true);
		}
		this.add(this.replayButton);
		this.cancelButton = new flixel_FlxSprite(flixel_FlxG.width * 0.58,this.replayButton.y);
		var library = null;
		var usecahce = flixel_FlxG.save.data.cacheImages;
		usecahce = false;
		this.cancelButton.set_frames(flixel_graphics_frames_FlxAtlasFrames.fromSparrow(Paths.getPath("images/" + "pauseAlt/pauseUI" + ".png","IMAGE",library),Paths.getPath("images/" + "pauseAlt/pauseUI" + ".xml","TEXT",library)));
		this.cancelButton.animation.addByPrefix("selected","bluecancel",0,false);
		this.cancelButton.animation.appendByPrefix("selected","cancelyellow");
		this.cancelButton.animation.play("selected");
		if(flixel_FlxG.save.data.antialiasing) {
			this.cancelButton.set_antialiasing(true);
		}
		this.add(this.cancelButton);
		this.changeThing();
		MusicBeatState.prototype.create.call(this);
	}
	,update: function(elapsed) {
		if(PlayerSettings.player1.controls._leftP.check() || PlayerSettings.player1.controls._rightP.check()) {
			this.changeThing();
		}
		if(PlayerSettings.player1.controls._accept.check()) {
			if(this.replaySelect) {
				var nextState = new PlayState();
				if(flixel_FlxG.game._state.switchTo(nextState)) {
					flixel_FlxG.game._requestedState = nextState;
				}
			} else {
				var nextState = new MainMenuState();
				if(flixel_FlxG.game._state.switchTo(nextState)) {
					flixel_FlxG.game._requestedState = nextState;
				}
			}
		}
		MusicBeatState.prototype.update.call(this,elapsed);
	}
	,changeThing: function() {
		this.replaySelect = !this.replaySelect;
		if(this.replaySelect) {
			this.cancelButton.animation._curAnim.set_curFrame(0);
			this.replayButton.animation._curAnim.set_curFrame(1);
		} else {
			this.cancelButton.animation._curAnim.set_curFrame(1);
			this.replayButton.animation._curAnim.set_curFrame(0);
		}
	}
	,__class__: GitarooPause
});
var GlobalVideo = function() { };
$hxClasses["GlobalVideo"] = GlobalVideo;
GlobalVideo.__name__ = "GlobalVideo";
GlobalVideo.video = null;
GlobalVideo.webm = null;
GlobalVideo.setVid = function(vid) {
	GlobalVideo.video = vid;
};
GlobalVideo.getVid = function() {
	return GlobalVideo.video;
};
GlobalVideo.setWebm = function(vid) {
	GlobalVideo.webm = vid;
	GlobalVideo.isWebm = true;
};
GlobalVideo.getWebm = function() {
	return GlobalVideo.webm;
};
GlobalVideo.get = function() {
	if(GlobalVideo.isWebm) {
		return GlobalVideo.getWebm();
	} else {
		return GlobalVideo.getVid();
	}
};
GlobalVideo.calc = function(ind) {
	var stageWidth = openfl_Lib.get_current().stage.stageWidth;
	var stageHeight = openfl_Lib.get_current().stage.stageHeight;
	var width = GameDimensions.width;
	var height = GameDimensions.height;
	var ratioX = height / width;
	var ratioY = width / height;
	var appliedWidth = stageHeight * ratioY;
	var appliedHeight = stageWidth * ratioX;
	var remainingX = stageWidth - appliedWidth;
	var remainingY = stageHeight - appliedHeight;
	remainingX /= 2;
	remainingY /= 2;
	appliedWidth = appliedWidth | 0;
	appliedHeight = appliedHeight | 0;
	if(appliedHeight > stageHeight) {
		remainingY = 0;
		appliedHeight = stageHeight;
	}
	if(appliedWidth > stageWidth) {
		remainingX = 0;
		appliedWidth = stageWidth;
	}
	switch(ind) {
	case 0:
		return remainingX;
	case 1:
		return remainingY;
	case 2:
		return appliedWidth;
	case 3:
		return appliedHeight;
	}
	return null;
};
var HealthIcon = function(char,isPlayer) {
	if(isPlayer == null) {
		isPlayer = false;
	}
	if(char == null) {
		char = "bf";
	}
	flixel_FlxSprite.call(this);
	if(flixel_FlxG.save.data.antialiasing) {
		this.set_antialiasing(true);
	}
	if(char == "sm") {
		this.loadGraphic(Paths.getPath("images/" + "stepmania-icon" + ".png","IMAGE",null));
		return;
	}
	this.loadGraphic(Paths.getPath("images/" + "iconGrid" + ".png","IMAGE",null),true,150,150);
	this.animation.add("bf",[0,1],0,false,isPlayer);
	this.animation.add("bf-car",[0,1],0,false,isPlayer);
	this.animation.add("bf-christmas",[0,1],0,false,isPlayer);
	this.animation.add("bf-pixel",[21,21],0,false,isPlayer);
	this.animation.add("spooky",[2,3],0,false,isPlayer);
	this.animation.add("pico",[4,5],0,false,isPlayer);
	this.animation.add("mom",[6,7],0,false,isPlayer);
	this.animation.add("mom-car",[6,7],0,false,isPlayer);
	this.animation.add("tankman",[8,9],0,false,isPlayer);
	this.animation.add("face",[10,11],0,false,isPlayer);
	this.animation.add("dad",[12,13],0,false,isPlayer);
	this.animation.add("senpai",[22,22],0,false,isPlayer);
	this.animation.add("senpai-angry",[22,22],0,false,isPlayer);
	this.animation.add("spirit",[23,23],0,false,isPlayer);
	this.animation.add("bf-old",[14,15],0,false,isPlayer);
	this.animation.add("gf",[16],0,false,isPlayer);
	this.animation.add("gf-christmas",[16],0,false,isPlayer);
	this.animation.add("gf-pixel",[16],0,false,isPlayer);
	this.animation.add("parents-christmas",[17,18],0,false,isPlayer);
	this.animation.add("monster",[19,20],0,false,isPlayer);
	this.animation.add("monster-christmas",[19,20],0,false,isPlayer);
	this.animation.add("void",[24,25],0,false,isPlayer);
	this.animation.play(char);
	switch(char) {
	case "bf-pixel":case "gf-pixel":case "senpai":case "senpai-angry":case "spirit":
		this.set_antialiasing(false);
		break;
	}
	this.scrollFactor.set();
};
$hxClasses["HealthIcon"] = HealthIcon;
HealthIcon.__name__ = "HealthIcon";
HealthIcon.__super__ = flixel_FlxSprite;
HealthIcon.prototype = $extend(flixel_FlxSprite.prototype,{
	sprTracker: null
	,update: function(elapsed) {
		flixel_FlxSprite.prototype.update.call(this,elapsed);
		if(this.sprTracker != null) {
			this.setPosition(this.sprTracker.x + this.sprTracker.get_width() + 10,this.sprTracker.y - 30);
		}
	}
	,__class__: HealthIcon
});
var HelperFunctions = function() { };
$hxClasses["HelperFunctions"] = HelperFunctions;
HelperFunctions.__name__ = "HelperFunctions";
HelperFunctions.truncateFloat = function(number,precision) {
	var num = number;
	num *= Math.pow(10,precision);
	num = Math.round(num) / Math.pow(10,precision);
	return num;
};
HelperFunctions.GCD = function(a,b) {
	if(b == 0) {
		if(a > 0) {
			return a;
		} else {
			return -a;
		}
	} else {
		return HelperFunctions.GCD(b,a % b);
	}
};
var Highscore = function() { };
$hxClasses["Highscore"] = Highscore;
Highscore.__name__ = "Highscore";
Highscore.saveScore = function(song,score,diff) {
	if(diff == null) {
		diff = 0;
	}
	if(score == null) {
		score = 0;
	}
	var daSong = Highscore.formatSong(song,diff);
	var score1 = score;
	if(score1 == null) {
		score1 = 0;
	}
	if(NGio.isLoggedIn) {
		var id = io_newgrounds_NG.core.scoreBoards.keys();
		while(id.hasNext()) {
			var id1 = id.next();
			var board = io_newgrounds_NG.core.scoreBoards.h[id1];
			if(song == board._data.name) {
				board.postScore(score1,"Uhh meow?");
			}
		}
	}
	if(!flixel_FlxG.save.data.botplay) {
		if(Object.prototype.hasOwnProperty.call(Highscore.songScores.h,daSong)) {
			if(Highscore.songScores.h[daSong] < score) {
				Highscore.setScore(daSong,score);
			}
		} else {
			Highscore.setScore(daSong,score);
		}
	} else {
		haxe_Log.trace("BotPlay detected. Score saving is disabled.",{ fileName : "source/Highscore.hx", lineNumber : 35, className : "Highscore", methodName : "saveScore"});
	}
};
Highscore.saveCombo = function(song,combo,diff) {
	if(diff == null) {
		diff = 0;
	}
	var daSong = Highscore.formatSong(song,diff);
	var finalCombo = StringTools.replace(combo.split(")")[0],"(","");
	if(!flixel_FlxG.save.data.botplay) {
		if(Object.prototype.hasOwnProperty.call(Highscore.songCombos.h,daSong)) {
			if(Highscore.getComboInt(Highscore.songCombos.h[daSong]) < Highscore.getComboInt(finalCombo)) {
				Highscore.setCombo(daSong,finalCombo);
			}
		} else {
			Highscore.setCombo(daSong,finalCombo);
		}
	}
};
Highscore.saveWeekScore = function(week,score,diff) {
	if(diff == null) {
		diff = 0;
	}
	if(score == null) {
		score = 0;
	}
	if(week == null) {
		week = 1;
	}
	var score1 = score;
	var song = "Week " + week;
	if(score1 == null) {
		score1 = 0;
	}
	if(NGio.isLoggedIn) {
		var id = io_newgrounds_NG.core.scoreBoards.keys();
		while(id.hasNext()) {
			var id1 = id.next();
			var board = io_newgrounds_NG.core.scoreBoards.h[id1];
			if(song == board._data.name) {
				board.postScore(score1,"Uhh meow?");
			}
		}
	}
	if(!flixel_FlxG.save.data.botplay) {
		var daWeek = Highscore.formatSong("week" + week,diff);
		if(Object.prototype.hasOwnProperty.call(Highscore.songScores.h,daWeek)) {
			if(Highscore.songScores.h[daWeek] < score) {
				Highscore.setScore(daWeek,score);
			}
		} else {
			Highscore.setScore(daWeek,score);
		}
	} else {
		haxe_Log.trace("BotPlay detected. Score saving is disabled.",{ fileName : "source/Highscore.hx", lineNumber : 73, className : "Highscore", methodName : "saveWeekScore"});
	}
};
Highscore.setScore = function(song,score) {
	Highscore.songScores.h[song] = score;
	flixel_FlxG.save.data.songScores = Highscore.songScores;
	flixel_FlxG.save.flush();
};
Highscore.setCombo = function(song,combo) {
	Highscore.songCombos.h[song] = combo;
	flixel_FlxG.save.data.songCombos = Highscore.songCombos;
	flixel_FlxG.save.flush();
};
Highscore.formatSong = function(song,diff) {
	var daSong = song;
	if(diff == 0) {
		daSong += "-easy";
	} else if(diff == 2) {
		daSong += "-hard";
	}
	return daSong;
};
Highscore.getComboInt = function(combo) {
	switch(combo) {
	case "FC":
		return 2;
	case "GFC":
		return 3;
	case "MFC":
		return 4;
	case "SDCB":
		return 1;
	default:
		return 0;
	}
};
Highscore.getScore = function(song,diff) {
	var this1 = Highscore.songScores;
	var key = Highscore.formatSong(song,diff);
	if(!Object.prototype.hasOwnProperty.call(this1.h,key)) {
		Highscore.setScore(Highscore.formatSong(song,diff),0);
	}
	var this1 = Highscore.songScores;
	var key = Highscore.formatSong(song,diff);
	return this1.h[key];
};
Highscore.getCombo = function(song,diff) {
	var this1 = Highscore.songCombos;
	var key = Highscore.formatSong(song,diff);
	if(!Object.prototype.hasOwnProperty.call(this1.h,key)) {
		Highscore.setCombo(Highscore.formatSong(song,diff),"");
	}
	var this1 = Highscore.songCombos;
	var key = Highscore.formatSong(song,diff);
	return this1.h[key];
};
Highscore.getWeekScore = function(week,diff) {
	var this1 = Highscore.songScores;
	var key = Highscore.formatSong("week" + week,diff);
	if(!Object.prototype.hasOwnProperty.call(this1.h,key)) {
		Highscore.setScore(Highscore.formatSong("week" + week,diff),0);
	}
	var this1 = Highscore.songScores;
	var key = Highscore.formatSong("week" + week,diff);
	return this1.h[key];
};
Highscore.load = function() {
	if(flixel_FlxG.save.data.songScores != null) {
		Highscore.songScores = flixel_FlxG.save.data.songScores;
	}
	if(flixel_FlxG.save.data.songCombos != null) {
		Highscore.songCombos = flixel_FlxG.save.data.songCombos;
	}
};
var HitGraph = function(X,Y,Width,Height) {
	this.history = [];
	this.showInput = flixel_FlxG.save.data.inputShow;
	this.maxValue = Math.floor(PlayState.rep.replay.sf / 60 * 1000) + 95;
	this.minValue = -(Math.floor(PlayState.rep.replay.sf / 60 * 1000) + 95);
	openfl_display_Sprite.call(this);
	this.set_x(X);
	this.set_y(Y);
	this._width = Width;
	this._height = Height;
	var bm = new openfl_display_BitmapData(Width,Height);
	bm.draw(this);
	this.bitmap = new openfl_display_Bitmap(bm);
	this._axis = new openfl_display_Shape();
	this._axis.set_x(this._labelWidth + 10);
	var ts = Math.floor(PlayState.rep.replay.sf / 60 * 1000) / 166;
	var early = HitGraph.createTextField(10,10,-1,12);
	var late = HitGraph.createTextField(10,this._height - 20,-1,12);
	early.set_text("Early (" + -166 * ts + "ms)");
	late.set_text("Late (" + 166 * ts + "ms)");
	this.addChild(early);
	this.addChild(late);
	this.addChild(this._axis);
	this.drawAxes();
};
$hxClasses["HitGraph"] = HitGraph;
HitGraph.__name__ = "HitGraph";
HitGraph.createTextField = function(X,Y,Color,Size) {
	if(Size == null) {
		Size = 12;
	}
	if(Color == null) {
		Color = -1;
	}
	if(Y == null) {
		Y = 0;
	}
	if(X == null) {
		X = 0;
	}
	return HitGraph.initTextField(new openfl_text_TextField(),X,Y,Color,Size);
};
HitGraph.initTextField = function(tf,X,Y,Color,Size) {
	if(Size == null) {
		Size = 12;
	}
	if(Color == null) {
		Color = -1;
	}
	if(Y == null) {
		Y = 0;
	}
	if(X == null) {
		X = 0;
	}
	tf.set_x(X);
	tf.set_y(Y);
	tf.set_multiline(false);
	tf.set_wordWrap(false);
	tf.set_embedFonts(true);
	tf.set_selectable(false);
	tf.set_defaultTextFormat(new openfl_text_TextFormat("assets/fonts/vcr.ttf",Size,Color & 16777215));
	tf.set_alpha((Color >> 24 & 255) / 255);
	tf.set_autoSize(1);
	return tf;
};
HitGraph.__super__ = openfl_display_Sprite;
HitGraph.prototype = $extend(openfl_display_Sprite.prototype,{
	minLabel: null
	,curLabel: null
	,maxLabel: null
	,avgLabel: null
	,minValue: null
	,maxValue: null
	,showInput: null
	,graphColor: null
	,history: null
	,bitmap: null
	,_axis: null
	,_width: null
	,_height: null
	,_unit: null
	,_labelWidth: null
	,_label: null
	,drawAxes: function() {
		var gfx = this._axis.get_graphics();
		gfx.clear();
		gfx.lineStyle(1,16777215,0.5);
		gfx.moveTo(0,0);
		gfx.lineTo(0,this._height);
		gfx.moveTo(0,this._height);
		gfx.lineTo(this._width,this._height);
		gfx.moveTo(0,this._height / 2);
		gfx.lineTo(this._width,this._height / 2);
	}
	,drawJudgementLine: function(ms) {
		var gfx = this.get_graphics();
		gfx.lineStyle(1,this.graphColor,0.3);
		var ts = Math.floor(PlayState.rep.replay.sf / 60 * 1000) / 166;
		var range = Math.max(this.maxValue - this.minValue,this.maxValue * 0.1);
		var value = (ms * ts - this.minValue) / range;
		var pointY = this._axis.get_y() + (-value * this._height - 1 + this._height);
		var graphX = this._axis.get_x() + 1;
		if(ms == 45) {
			gfx.moveTo(graphX,this._axis.get_y() + pointY);
		}
		var graphX = this._axis.get_x() + 1;
		gfx.drawRect(graphX,pointY,this._width,1);
		gfx.lineStyle(1,this.graphColor,1);
	}
	,drawGraph: function() {
		var gfx = this.get_graphics();
		gfx.clear();
		gfx.lineStyle(1,this.graphColor,1);
		gfx.beginFill(65280);
		this.drawJudgementLine(45);
		gfx.endFill();
		gfx.beginFill(16711680);
		this.drawJudgementLine(90);
		gfx.endFill();
		gfx.beginFill(9109504);
		this.drawJudgementLine(135);
		gfx.endFill();
		gfx.beginFill(5767168);
		this.drawJudgementLine(166);
		gfx.endFill();
		gfx.beginFill(65280);
		this.drawJudgementLine(-45);
		gfx.endFill();
		gfx.beginFill(16711680);
		this.drawJudgementLine(-90);
		gfx.endFill();
		gfx.beginFill(9109504);
		this.drawJudgementLine(-135);
		gfx.endFill();
		gfx.beginFill(5767168);
		this.drawJudgementLine(-166);
		gfx.endFill();
		var range = Math.max(this.maxValue - this.minValue,this.maxValue * 0.1);
		var graphX = this._axis.get_x() + 1;
		if(this.showInput) {
			var _g = 0;
			var _g1 = PlayState.rep.replay.ana.anaArray.length;
			while(_g < _g1) {
				var i = _g++;
				var ana = PlayState.rep.replay.ana.anaArray[i];
				var value = (ana.key * 25 - this.minValue) / range;
				if(ana.hit) {
					gfx.beginFill(16776960);
				} else {
					gfx.beginFill(12759680);
				}
				if(ana.hitTime < 0) {
					continue;
				}
				var pointY = -value * this._height - 1 + this._height;
				gfx.drawRect(graphX + this.fitX(ana.hitTime),pointY,2,2);
				gfx.endFill();
			}
		}
		var _g = 0;
		var _g1 = this.history.length;
		while(_g < _g1) {
			var i = _g++;
			var value = (this.history[i][0] - this.minValue) / range;
			var judge = this.history[i][1];
			switch(judge) {
			case "bad":
				gfx.beginFill(16711680);
				break;
			case "good":
				gfx.beginFill(65280);
				break;
			case "miss":
				gfx.beginFill(5767168);
				break;
			case "shit":
				gfx.beginFill(9109504);
				break;
			case "sick":
				gfx.beginFill(65535);
				break;
			default:
				gfx.beginFill(16777215);
			}
			var pointY = -value * this._height - 1 + this._height;
			gfx.drawRect(this.fitX(this.history[i][2]),pointY,4,4);
			gfx.endFill();
		}
		var bm = new openfl_display_BitmapData(this._width,this._height);
		bm.draw(this);
		this.bitmap = new openfl_display_Bitmap(bm);
	}
	,fitX: function(x) {
		return x / flixel_FlxG.sound.music._length * this.get_width();
	}
	,addToHistory: function(diff,judge,time) {
		this.history.push([diff,judge,time]);
	}
	,update: function() {
		this.drawGraph();
	}
	,average: function() {
		var sum = 0;
		var _g = 0;
		var _g1 = this.history;
		while(_g < _g1.length) {
			var value = _g1[_g];
			++_g;
			sum += value;
		}
		return sum / this.history.length;
	}
	,destroy: function() {
		this._axis = flixel_util_FlxDestroyUtil.removeChild(this,this._axis);
		this.history = null;
	}
	,__class__: HitGraph
});
var HxOverrides = function() { };
$hxClasses["HxOverrides"] = HxOverrides;
HxOverrides.__name__ = "HxOverrides";
HxOverrides.dateStr = function(date) {
	var m = date.getMonth() + 1;
	var d = date.getDate();
	var h = date.getHours();
	var mi = date.getMinutes();
	var s = date.getSeconds();
	return date.getFullYear() + "-" + (m < 10 ? "0" + m : "" + m) + "-" + (d < 10 ? "0" + d : "" + d) + " " + (h < 10 ? "0" + h : "" + h) + ":" + (mi < 10 ? "0" + mi : "" + mi) + ":" + (s < 10 ? "0" + s : "" + s);
};
HxOverrides.strDate = function(s) {
	switch(s.length) {
	case 8:
		var k = s.split(":");
		var d = new Date();
		d["setTime"](0);
		d["setUTCHours"](k[0]);
		d["setUTCMinutes"](k[1]);
		d["setUTCSeconds"](k[2]);
		return d;
	case 10:
		var k = s.split("-");
		return new Date(k[0],k[1] - 1,k[2],0,0,0);
	case 19:
		var k = s.split(" ");
		var y = k[0].split("-");
		var t = k[1].split(":");
		return new Date(y[0],y[1] - 1,y[2],t[0],t[1],t[2]);
	default:
		throw haxe_Exception.thrown("Invalid date format : " + s);
	}
};
HxOverrides.cca = function(s,index) {
	var x = s.charCodeAt(index);
	if(x != x) {
		return undefined;
	}
	return x;
};
HxOverrides.substr = function(s,pos,len) {
	if(len == null) {
		len = s.length;
	} else if(len < 0) {
		if(pos == 0) {
			len = s.length + len;
		} else {
			return "";
		}
	}
	return s.substr(pos,len);
};
HxOverrides.remove = function(a,obj) {
	var i = a.indexOf(obj);
	if(i == -1) {
		return false;
	}
	a.splice(i,1);
	return true;
};
HxOverrides.now = function() {
	return Date.now();
};
var IntIterator = function(min,max) {
	this.min = min;
	this.max = max;
};
$hxClasses["IntIterator"] = IntIterator;
IntIterator.__name__ = "IntIterator";
IntIterator.prototype = {
	min: null
	,max: null
	,hasNext: function() {
		return this.min < this.max;
	}
	,next: function() {
		return this.min++;
	}
	,__class__: IntIterator
};
var KadeEngineData = function() { };
$hxClasses["KadeEngineData"] = KadeEngineData;
KadeEngineData.__name__ = "KadeEngineData";
KadeEngineData.initSave = function() {
	if(flixel_FlxG.save.data.weekUnlocked == null) {
		flixel_FlxG.save.data.weekUnlocked = 7;
	}
	if(flixel_FlxG.save.data.newInput == null) {
		flixel_FlxG.save.data.newInput = true;
	}
	if(flixel_FlxG.save.data.downscroll == null) {
		flixel_FlxG.save.data.downscroll = false;
	}
	if(flixel_FlxG.save.data.antialiasing == null) {
		flixel_FlxG.save.data.antialiasing = true;
	}
	if(flixel_FlxG.save.data.missSounds == null) {
		flixel_FlxG.save.data.missSounds = true;
	}
	if(flixel_FlxG.save.data.dfjk == null) {
		flixel_FlxG.save.data.dfjk = false;
	}
	if(flixel_FlxG.save.data.accuracyDisplay == null) {
		flixel_FlxG.save.data.accuracyDisplay = true;
	}
	if(flixel_FlxG.save.data.offset == null) {
		flixel_FlxG.save.data.offset = 0;
	}
	if(flixel_FlxG.save.data.songPosition == null) {
		flixel_FlxG.save.data.songPosition = false;
	}
	if(flixel_FlxG.save.data.fps == null) {
		flixel_FlxG.save.data.fps = false;
	}
	if(flixel_FlxG.save.data.changedHit == null) {
		flixel_FlxG.save.data.changedHitX = -1;
		flixel_FlxG.save.data.changedHitY = -1;
		flixel_FlxG.save.data.changedHit = false;
	}
	if(flixel_FlxG.save.data.fpsRain == null) {
		flixel_FlxG.save.data.fpsRain = false;
	}
	if(flixel_FlxG.save.data.fpsCap == null) {
		flixel_FlxG.save.data.fpsCap = 120;
	}
	if(flixel_FlxG.save.data.fpsCap > 285 || flixel_FlxG.save.data.fpsCap < 60) {
		flixel_FlxG.save.data.fpsCap = 120;
	}
	if(flixel_FlxG.save.data.scrollSpeed == null) {
		flixel_FlxG.save.data.scrollSpeed = 1;
	}
	if(flixel_FlxG.save.data.npsDisplay == null) {
		flixel_FlxG.save.data.npsDisplay = false;
	}
	if(flixel_FlxG.save.data.frames == null) {
		flixel_FlxG.save.data.frames = 10;
	}
	if(flixel_FlxG.save.data.accuracyMod == null) {
		flixel_FlxG.save.data.accuracyMod = 1;
	}
	if(flixel_FlxG.save.data.watermark == null) {
		flixel_FlxG.save.data.watermark = true;
	}
	if(flixel_FlxG.save.data.ghost == null) {
		flixel_FlxG.save.data.ghost = true;
	}
	if(flixel_FlxG.save.data.distractions == null) {
		flixel_FlxG.save.data.distractions = true;
	}
	if(flixel_FlxG.save.data.stepMania == null) {
		flixel_FlxG.save.data.stepMania = false;
	}
	if(flixel_FlxG.save.data.flashing == null) {
		flixel_FlxG.save.data.flashing = true;
	}
	if(flixel_FlxG.save.data.resetButton == null) {
		flixel_FlxG.save.data.resetButton = false;
	}
	if(flixel_FlxG.save.data.botplay == null) {
		flixel_FlxG.save.data.botplay = false;
	}
	if(flixel_FlxG.save.data.cpuStrums == null) {
		flixel_FlxG.save.data.cpuStrums = false;
	}
	if(flixel_FlxG.save.data.strumline == null) {
		flixel_FlxG.save.data.strumline = false;
	}
	if(flixel_FlxG.save.data.customStrumLine == null) {
		flixel_FlxG.save.data.customStrumLine = 0;
	}
	if(flixel_FlxG.save.data.camzoom == null) {
		flixel_FlxG.save.data.camzoom = true;
	}
	if(flixel_FlxG.save.data.scoreScreen == null) {
		flixel_FlxG.save.data.scoreScreen = true;
	}
	if(flixel_FlxG.save.data.inputShow == null) {
		flixel_FlxG.save.data.inputShow = false;
	}
	if(flixel_FlxG.save.data.optimize == null) {
		flixel_FlxG.save.data.optimize = false;
	}
	if(flixel_FlxG.save.data.cacheImages == null) {
		flixel_FlxG.save.data.cacheImages = false;
	}
	var gamepad = flixel_FlxG.gamepads.lastActive;
	KeyBinds.gamepad = gamepad != null;
	Conductor.recalculateTimings();
	PlayerSettings.player1.controls.loadKeyBinds();
	KeyBinds.keyCheck();
	Main.watermarks = flixel_FlxG.save.data.watermark;
	(js_Boot.__cast(openfl_Lib.get_current().getChildAt(0) , Main)).setFPSCap(flixel_FlxG.save.data.fpsCap);
};
var KeyBindMenu = function(BGColor) {
	this.lastKey = "";
	this.frames = 0;
	this.state = "select";
	this.blacklist = ["ESCAPE","ENTER","BACKSPACE","SPACE","TAB"];
	this.tempKey = "";
	this.gpKeys = [flixel_FlxG.save.data.gpleftBind,flixel_FlxG.save.data.gpdownBind,flixel_FlxG.save.data.gpupBind,flixel_FlxG.save.data.gprightBind];
	this.keys = [flixel_FlxG.save.data.leftBind,flixel_FlxG.save.data.downBind,flixel_FlxG.save.data.upBind,flixel_FlxG.save.data.rightBind];
	this.curSelected = 0;
	this.defaultGpKeys = ["DPAD_LEFT","DPAD_DOWN","DPAD_UP","DPAD_RIGHT"];
	this.defaultKeys = ["A","S","W","D","R"];
	this.keyText = ["LEFT","DOWN","UP","RIGHT"];
	flixel_FlxSubState.call(this,BGColor);
};
$hxClasses["KeyBindMenu"] = KeyBindMenu;
KeyBindMenu.__name__ = "KeyBindMenu";
KeyBindMenu.__super__ = flixel_FlxSubState;
KeyBindMenu.prototype = $extend(flixel_FlxSubState.prototype,{
	keyTextDisplay: null
	,keyWarning: null
	,warningTween: null
	,keyText: null
	,defaultKeys: null
	,defaultGpKeys: null
	,curSelected: null
	,keys: null
	,gpKeys: null
	,tempKey: null
	,blacklist: null
	,blackBox: null
	,infoText: null
	,state: null
	,create: function() {
		var _g = 0;
		var _g1 = this.keys.length;
		while(_g < _g1) {
			var i = _g++;
			var k = this.keys[i];
			if(k == null) {
				this.keys[i] = this.defaultKeys[i];
			}
		}
		var _g = 0;
		var _g1 = this.gpKeys.length;
		while(_g < _g1) {
			var i = _g++;
			var k = this.gpKeys[i];
			if(k == null) {
				this.gpKeys[i] = this.defaultGpKeys[i];
			}
		}
		this.persistentUpdate = true;
		this.keyTextDisplay = new flixel_text_FlxText(-10,0,1280,"",72);
		this.keyTextDisplay.scrollFactor.set(0,0);
		this.keyTextDisplay.setFormat("VCR OSD Mono",42,-1,"center",flixel_text_FlxTextBorderStyle.OUTLINE,-16777216);
		this.keyTextDisplay.set_borderSize(2);
		this.keyTextDisplay.set_borderQuality(3);
		this.blackBox = new flixel_FlxSprite(0,0).makeGraphic(flixel_FlxG.width,flixel_FlxG.height,-16777216);
		this.add(this.blackBox);
		this.infoText = new flixel_text_FlxText(-10,580,1280,"Current Mode: " + (KeyBinds.gamepad ? "GAMEPAD" : "KEYBOARD") + ". Press TAB to switch\n(" + (KeyBinds.gamepad ? "RIGHT Trigger" : "Escape") + " to save, " + (KeyBinds.gamepad ? "LEFT Trigger" : "Backspace") + " to leave without saving. " + (KeyBinds.gamepad ? "START To change a keybind" : "") + ")",72);
		this.infoText.scrollFactor.set(0,0);
		this.infoText.setFormat("VCR OSD Mono",24,-1,"center",flixel_text_FlxTextBorderStyle.OUTLINE,-16777216);
		this.infoText.set_borderSize(2);
		this.infoText.set_borderQuality(3);
		this.infoText.set_alpha(0);
		this.infoText.screenCenter(flixel_util_FlxAxes.X);
		this.add(this.infoText);
		this.add(this.keyTextDisplay);
		this.blackBox.set_alpha(0);
		this.keyTextDisplay.set_alpha(0);
		flixel_tweens_FlxTween.tween(this.keyTextDisplay,{ alpha : 1},1,{ ease : flixel_tweens_FlxEase.expoInOut});
		flixel_tweens_FlxTween.tween(this.infoText,{ alpha : 1},1.4,{ ease : flixel_tweens_FlxEase.expoInOut});
		flixel_tweens_FlxTween.tween(this.blackBox,{ alpha : 0.7},1,{ ease : flixel_tweens_FlxEase.expoInOut});
		OptionsMenu.instance.acceptInput = false;
		this.textUpdate();
		flixel_FlxSubState.prototype.create.call(this);
	}
	,frames: null
	,update: function(elapsed) {
		var gamepad = flixel_FlxG.gamepads.lastActive;
		if(this.frames <= 10) {
			this.frames++;
		}
		this.infoText.set_text("Current Mode: " + (KeyBinds.gamepad ? "GAMEPAD" : "KEYBOARD") + ". Press TAB to switch\n(" + (KeyBinds.gamepad ? "RIGHT Trigger" : "Escape") + " to save, " + (KeyBinds.gamepad ? "LEFT Trigger" : "Backspace") + " to leave without saving. " + (KeyBinds.gamepad ? "START To change a keybind" : "") + ")\n" + (this.lastKey != "" ? this.lastKey + " is blacklisted!" : ""));
		switch(this.state) {
		case "exiting":
			break;
		case "input":
			this.tempKey = this.keys[this.curSelected];
			this.keys[this.curSelected] = "?";
			if(KeyBinds.gamepad) {
				this.gpKeys[this.curSelected] = "?";
			}
			this.textUpdate();
			this.state = "waiting";
			break;
		case "select":
			var _this = flixel_FlxG.keys.justPressed;
			if(_this.keyManager.checkStatus(38,_this.status)) {
				flixel_FlxG.sound.play(Paths.sound("scrollMenu"));
				this.changeItem(-1);
			}
			var _this = flixel_FlxG.keys.justPressed;
			if(_this.keyManager.checkStatus(40,_this.status)) {
				flixel_FlxG.sound.play(Paths.sound("scrollMenu"));
				this.changeItem(1);
			}
			var _this = flixel_FlxG.keys.justPressed;
			if(_this.keyManager.checkStatus(9,_this.status)) {
				KeyBinds.gamepad = !KeyBinds.gamepad;
				this.textUpdate();
			}
			var _this = flixel_FlxG.keys.justPressed;
			if(_this.keyManager.checkStatus(13,_this.status)) {
				flixel_FlxG.sound.play(Paths.sound("scrollMenu"));
				this.state = "input";
			} else {
				var _this = flixel_FlxG.keys.justPressed;
				if(_this.keyManager.checkStatus(27,_this.status)) {
					this.quit();
				} else {
					var _this = flixel_FlxG.keys.justPressed;
					if(_this.keyManager.checkStatus(8,_this.status)) {
						this.reset();
					}
				}
			}
			if(gamepad != null) {
				var _this = gamepad.justPressed;
				var id = 11;
				var _this1 = _this.gamepad;
				var Status = _this.status;
				var tmp;
				switch(id) {
				case -2:
					tmp = _this1.anyButton(Status);
					break;
				case -1:
					tmp = !_this1.anyButton(Status);
					break;
				default:
					var RawID = _this1.mapping.getRawID(id);
					var button = _this1.buttons[RawID];
					tmp = button != null && button.hasState(Status);
				}
				if(tmp) {
					flixel_FlxG.sound.play(Paths.sound("scrollMenu"));
					this.changeItem(-1);
					this.textUpdate();
				}
				var _this = gamepad.justPressed;
				var id = 12;
				var _this1 = _this.gamepad;
				var Status = _this.status;
				var tmp;
				switch(id) {
				case -2:
					tmp = _this1.anyButton(Status);
					break;
				case -1:
					tmp = !_this1.anyButton(Status);
					break;
				default:
					var RawID = _this1.mapping.getRawID(id);
					var button = _this1.buttons[RawID];
					tmp = button != null && button.hasState(Status);
				}
				if(tmp) {
					flixel_FlxG.sound.play(Paths.sound("scrollMenu"));
					this.changeItem(1);
					this.textUpdate();
				}
				var _this = gamepad.justPressed;
				var id = 7;
				var _this1 = _this.gamepad;
				var Status = _this.status;
				var tmp;
				switch(id) {
				case -2:
					tmp = _this1.anyButton(Status);
					break;
				case -1:
					tmp = !_this1.anyButton(Status);
					break;
				default:
					var RawID = _this1.mapping.getRawID(id);
					var button = _this1.buttons[RawID];
					tmp = button != null && button.hasState(Status);
				}
				if(tmp && this.frames > 10) {
					flixel_FlxG.sound.play(Paths.sound("scrollMenu"));
					this.state = "input";
				} else {
					var _this = gamepad.justPressed;
					var id = 17;
					var _this1 = _this.gamepad;
					var Status = _this.status;
					var tmp;
					switch(id) {
					case -2:
						tmp = _this1.anyButton(Status);
						break;
					case -1:
						tmp = !_this1.anyButton(Status);
						break;
					default:
						var RawID = _this1.mapping.getRawID(id);
						var button = _this1.buttons[RawID];
						tmp = button != null && button.hasState(Status);
					}
					if(tmp) {
						this.quit();
					} else {
						var _this = gamepad.justPressed;
						var id = 18;
						var _this1 = _this.gamepad;
						var Status = _this.status;
						var tmp;
						switch(id) {
						case -2:
							tmp = _this1.anyButton(Status);
							break;
						case -1:
							tmp = !_this1.anyButton(Status);
							break;
						default:
							var RawID = _this1.mapping.getRawID(id);
							var button = _this1.buttons[RawID];
							tmp = button != null && button.hasState(Status);
						}
						if(tmp) {
							this.reset();
						}
					}
				}
			}
			break;
		case "waiting":
			if(gamepad != null && KeyBinds.gamepad) {
				var _this = flixel_FlxG.keys.justPressed;
				if(_this.keyManager.checkStatus(27,_this.status)) {
					this.gpKeys[this.curSelected] = this.tempKey;
					this.state = "select";
					flixel_FlxG.sound.play(Paths.sound("confirmMenu"));
				}
				var _this = gamepad.justPressed;
				var id = 7;
				var _this1 = _this.gamepad;
				var Status = _this.status;
				var tmp;
				switch(id) {
				case -2:
					tmp = _this1.anyButton(Status);
					break;
				case -1:
					tmp = !_this1.anyButton(Status);
					break;
				default:
					var RawID = _this1.mapping.getRawID(id);
					var button = _this1.buttons[RawID];
					tmp = button != null && button.hasState(Status);
				}
				if(tmp) {
					this.addKeyGamepad(this.defaultKeys[this.curSelected]);
					this.save();
					this.state = "select";
				}
				if(gamepad.justPressed.get_ANY()) {
					var tmp = gamepad.mapping.getID(gamepad.firstJustPressedRawID());
					haxe_Log.trace(tmp == null ? "null" : flixel_input_gamepad_FlxGamepadInputID.toStringMap.h[tmp],{ fileName : "source/KeyBindMenu.hx", lineNumber : 208, className : "KeyBindMenu", methodName : "update"});
					var this1 = gamepad.mapping.getID(gamepad.firstJustPressedRawID());
					this.addKeyGamepad(flixel_input_gamepad_FlxGamepadInputID.toStringMap.h[this1]);
					this.save();
					this.state = "select";
					this.textUpdate();
				}
			} else {
				var _this = flixel_FlxG.keys.justPressed;
				if(_this.keyManager.checkStatus(27,_this.status)) {
					this.keys[this.curSelected] = this.tempKey;
					this.state = "select";
					flixel_FlxG.sound.play(Paths.sound("confirmMenu"));
				} else {
					var _this = flixel_FlxG.keys.justPressed;
					if(_this.keyManager.checkStatus(13,_this.status)) {
						this.addKey(this.defaultKeys[this.curSelected]);
						this.save();
						this.state = "select";
					} else if(flixel_FlxG.keys.justPressed.get_ANY()) {
						var this1 = flixel_FlxG.keys.getIsDown()[0].ID;
						this.addKey(flixel_input_keyboard_FlxKey.toStringMap.h[this1]);
						this.save();
						this.state = "select";
					}
				}
			}
			break;
		default:
			this.state = "select";
		}
		if(flixel_FlxG.keys.justPressed.get_ANY()) {
			this.textUpdate();
		}
		flixel_FlxSubState.prototype.update.call(this,elapsed);
	}
	,textUpdate: function() {
		this.keyTextDisplay.set_text("\n\n");
		if(KeyBinds.gamepad) {
			var textStart = 0 == this.curSelected ? "> " : "  ";
			haxe_Log.trace(this.gpKeys[0],{ fileName : "source/KeyBindMenu.hx", lineNumber : 260, className : "KeyBindMenu", methodName : "textUpdate"});
			var _g = this.keyTextDisplay;
			_g.set_text(_g.text + (textStart + this.keyText[0] + ": " + this.gpKeys[0] + "\n"));
			var textStart = 1 == this.curSelected ? "> " : "  ";
			haxe_Log.trace(this.gpKeys[1],{ fileName : "source/KeyBindMenu.hx", lineNumber : 260, className : "KeyBindMenu", methodName : "textUpdate"});
			var _g = this.keyTextDisplay;
			_g.set_text(_g.text + (textStart + this.keyText[1] + ": " + this.gpKeys[1] + "\n"));
			var textStart = 2 == this.curSelected ?